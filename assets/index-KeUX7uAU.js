(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _h(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Wt={},hs=[],zn=()=>{},FT=()=>!1,dc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wh=e=>e.startsWith("onUpdate:"),Ie=Object.assign,Sh=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},$T=Object.prototype.hasOwnProperty,Ct=(e,t)=>$T.call(e,t),ut=Array.isArray,ds=e=>pc(e)==="[object Map]",Zv=e=>pc(e)==="[object Set]",dt=e=>typeof e=="function",ie=e=>typeof e=="string",Sr=e=>typeof e=="symbol",Yt=e=>e!==null&&typeof e=="object",t0=e=>(Yt(e)||dt(e))&&dt(e.then)&&dt(e.catch),e0=Object.prototype.toString,pc=e=>e0.call(e),BT=e=>pc(e).slice(8,-1),n0=e=>pc(e)==="[object Object]",Th=e=>ie(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,So=_h(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},VT=/-(\w)/g,dn=mc(e=>e.replace(VT,(t,n)=>n?n.toUpperCase():"")),WT=/\B([A-Z])/g,ji=mc(e=>e.replace(WT,"-$1").toLowerCase()),gc=mc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yc=mc(e=>e?`on${gc(e)}`:""),jr=(e,t)=>!Object.is(e,t),Jc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},qu=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},jT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bp;const yc=()=>bp||(bp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(e){if(ut(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=ie(r)?HT(r):dr(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(ie(e)||Yt(e))return e}const zT=/;(?![^(]*\))/g,KT=/:([^]+)/,GT=/\/\*[^]*?\*\//g;function HT(e){const t={};return e.replace(GT,"").split(zT).forEach(n=>{if(n){const r=n.split(KT);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function le(e){let t="";if(ie(e))t=e;else if(ut(e))for(let n=0;n<e.length;n++){const r=le(e[n]);r&&(t+=r+" ")}else if(Yt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const UT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",YT=_h(UT);function r0(e){return!!e||e===""}const i0=e=>!!(e&&e.__v_isRef===!0),Ae=e=>ie(e)?e:e==null?"":ut(e)||Yt(e)&&(e.toString===e0||!dt(e.toString))?i0(e)?Ae(e.value):JSON.stringify(e,s0,2):String(e),s0=(e,t)=>i0(t)?s0(e,t.value):ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[qc(r,s)+" =>"]=i,n),{})}:Zv(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>qc(n))}:Sr(t)?qc(t):Yt(t)&&!ut(t)&&!n0(t)?String(t):t,qc=(e,t="")=>{var n;return Sr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ee;class o0{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ee,!t&&Ee&&(this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ee;try{return Ee=this,t()}finally{Ee=n}}}on(){++this._on===1&&(this.prevScope=Ee,Ee=this)}off(){this._on>0&&--this._on===0&&(Ee=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function a0(e){return new o0(e)}function kh(){return Ee}function l0(e,t=!1){Ee&&Ee.cleanups.push(e)}let Vt;const Xc=new WeakSet;class c0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ee&&Ee.active&&Ee.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xc.has(this)&&(Xc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||f0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_p(this),h0(this);const t=Vt,n=xn;Vt=this,xn=!0;try{return this.fn()}finally{d0(this),Vt=t,xn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Mh(t);this.deps=this.depsTail=void 0,_p(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xu(this)&&this.run()}get dirty(){return Xu(this)}}let u0=0,To,ko;function f0(e,t=!1){if(e.flags|=8,t){e.next=ko,ko=e;return}e.next=To,To=e}function Ch(){u0++}function Eh(){if(--u0>0)return;if(ko){let t=ko;for(ko=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;To;){let t=To;for(To=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function h0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function d0(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Mh(r),JT(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Xu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(p0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function p0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Go)||(e.globalVersion=Go,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Xu(e))))return;e.flags|=2;const t=e.dep,n=Vt,r=xn;Vt=e,xn=!0;try{h0(e);const i=e.fn(e._value);(t.version===0||jr(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Vt=n,xn=r,d0(e),e.flags&=-3}}function Mh(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Mh(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function JT(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let xn=!0;const m0=[];function mr(){m0.push(xn),xn=!1}function gr(){const e=m0.pop();xn=e===void 0?!0:e}function _p(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Vt;Vt=void 0;try{t()}finally{Vt=n}}}let Go=0;class qT{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ph{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Vt||!xn||Vt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Vt)n=this.activeLink=new qT(Vt,this),Vt.deps?(n.prevDep=Vt.depsTail,Vt.depsTail.nextDep=n,Vt.depsTail=n):Vt.deps=Vt.depsTail=n,g0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Vt.depsTail,n.nextDep=void 0,Vt.depsTail.nextDep=n,Vt.depsTail=n,Vt.deps===n&&(Vt.deps=r)}return n}trigger(t){this.version++,Go++,this.notify(t)}notify(t){Ch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Eh()}}}function g0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)g0(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const xl=new WeakMap,di=Symbol(""),Qu=Symbol(""),Ho=Symbol("");function Me(e,t,n){if(xn&&Vt){let r=xl.get(e);r||xl.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ph),i.map=r,i.key=n),i.track()}}function fr(e,t,n,r,i,s){const o=xl.get(e);if(!o){Go++;return}const a=l=>{l&&l.trigger()};if(Ch(),t==="clear")o.forEach(a);else{const l=ut(e),c=l&&Th(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,h)=>{(h==="length"||h===Ho||!Sr(h)&&h>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ho)),t){case"add":l?c&&a(o.get("length")):(a(o.get(di)),ds(e)&&a(o.get(Qu)));break;case"delete":l||(a(o.get(di)),ds(e)&&a(o.get(Qu)));break;case"set":ds(e)&&a(o.get(di));break}}Eh()}function XT(e,t){const n=xl.get(e);return n&&n.get(t)}function Yi(e){const t=St(e);return t===e?t:(Me(t,"iterate",Ho),cn(e)?t:t.map(Te))}function vc(e){return Me(e=St(e),"iterate",Ho),e}const QT={__proto__:null,[Symbol.iterator](){return Qc(this,Symbol.iterator,Te)},concat(...e){return Yi(this).concat(...e.map(t=>ut(t)?Yi(t):t))},entries(){return Qc(this,"entries",e=>(e[1]=Te(e[1]),e))},every(e,t){return rr(this,"every",e,t,void 0,arguments)},filter(e,t){return rr(this,"filter",e,t,n=>n.map(Te),arguments)},find(e,t){return rr(this,"find",e,t,Te,arguments)},findIndex(e,t){return rr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return rr(this,"findLast",e,t,Te,arguments)},findLastIndex(e,t){return rr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return rr(this,"forEach",e,t,void 0,arguments)},includes(...e){return Zc(this,"includes",e)},indexOf(...e){return Zc(this,"indexOf",e)},join(e){return Yi(this).join(e)},lastIndexOf(...e){return Zc(this,"lastIndexOf",e)},map(e,t){return rr(this,"map",e,t,void 0,arguments)},pop(){return so(this,"pop")},push(...e){return so(this,"push",e)},reduce(e,...t){return wp(this,"reduce",e,t)},reduceRight(e,...t){return wp(this,"reduceRight",e,t)},shift(){return so(this,"shift")},some(e,t){return rr(this,"some",e,t,void 0,arguments)},splice(...e){return so(this,"splice",e)},toReversed(){return Yi(this).toReversed()},toSorted(e){return Yi(this).toSorted(e)},toSpliced(...e){return Yi(this).toSpliced(...e)},unshift(...e){return so(this,"unshift",e)},values(){return Qc(this,"values",Te)}};function Qc(e,t,n){const r=vc(e),i=r[t]();return r!==e&&!cn(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const ZT=Array.prototype;function rr(e,t,n,r,i,s){const o=vc(e),a=o!==e&&!cn(e),l=o[t];if(l!==ZT[t]){const f=l.apply(e,s);return a?Te(f):f}let c=n;o!==e&&(a?c=function(f,h){return n.call(this,Te(f),h,e)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,e)}));const u=l.call(o,c,r);return a&&i?i(u):u}function wp(e,t,n,r){const i=vc(e);let s=n;return i!==e&&(cn(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Te(a),l,e)}),i[t](s,...r)}function Zc(e,t,n){const r=St(e);Me(r,"iterate",Ho);const i=r[t](...n);return(i===-1||i===!1)&&Nh(n[0])?(n[0]=St(n[0]),r[t](...n)):i}function so(e,t,n=[]){mr(),Ch();const r=St(e)[t].apply(e,n);return Eh(),gr(),r}const tk=_h("__proto__,__v_isRef,__isVue"),y0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Sr));function ek(e){Sr(e)||(e=String(e));const t=St(this);return Me(t,"has",e),t.hasOwnProperty(e)}class v0{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?fk:w0:s?_0:b0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=ut(t);if(!i){let l;if(o&&(l=QT[n]))return l;if(n==="hasOwnProperty")return ek}const a=Reflect.get(t,n,Zt(t)?t:r);return(Sr(n)?y0.has(n):tk(n))||(i||Me(t,"get",n),s)?a:Zt(a)?o&&Th(n)?a:a.value:Yt(a)?i?T0(a):va(a):a}}class x0 extends v0{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=Hr(s);if(!cn(r)&&!Hr(r)&&(s=St(s),r=St(r)),!ut(t)&&Zt(s)&&!Zt(r))return l?!1:(s.value=r,!0)}const o=ut(t)&&Th(n)?Number(n)<t.length:Ct(t,n),a=Reflect.set(t,n,r,Zt(t)?t:i);return t===St(i)&&(o?jr(r,s)&&fr(t,"set",n,r):fr(t,"add",n,r)),a}deleteProperty(t,n){const r=Ct(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&fr(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Sr(n)||!y0.has(n))&&Me(t,"has",n),r}ownKeys(t){return Me(t,"iterate",ut(t)?"length":di),Reflect.ownKeys(t)}}class nk extends v0{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const rk=new x0,ik=new nk,sk=new x0(!0);const Zu=e=>e,$a=e=>Reflect.getPrototypeOf(e);function ok(e,t,n){return function(...r){const i=this.__v_raw,s=St(i),o=ds(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...r),u=n?Zu:t?bl:Te;return!t&&Me(s,"iterate",l?Qu:di),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Ba(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ak(e,t){const n={get(i){const s=this.__v_raw,o=St(s),a=St(i);e||(jr(i,a)&&Me(o,"get",i),Me(o,"get",a));const{has:l}=$a(o),c=t?Zu:e?bl:Te;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&Me(St(i),"iterate",di),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=St(s),a=St(i);return e||(jr(i,a)&&Me(o,"has",i),Me(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=St(a),c=t?Zu:e?bl:Te;return!e&&Me(l,"iterate",di),a.forEach((u,f)=>i.call(s,c(u),c(f),o))}};return Ie(n,e?{add:Ba("add"),set:Ba("set"),delete:Ba("delete"),clear:Ba("clear")}:{add(i){!t&&!cn(i)&&!Hr(i)&&(i=St(i));const s=St(this);return $a(s).has.call(s,i)||(s.add(i),fr(s,"add",i,i)),this},set(i,s){!t&&!cn(s)&&!Hr(s)&&(s=St(s));const o=St(this),{has:a,get:l}=$a(o);let c=a.call(o,i);c||(i=St(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?jr(s,u)&&fr(o,"set",i,s):fr(o,"add",i,s),this},delete(i){const s=St(this),{has:o,get:a}=$a(s);let l=o.call(s,i);l||(i=St(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&fr(s,"delete",i,void 0),c},clear(){const i=St(this),s=i.size!==0,o=i.clear();return s&&fr(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=ok(i,e,t)}),n}function Ah(e,t){const n=ak(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Ct(n,i)&&i in r?n:r,i,s)}const lk={get:Ah(!1,!1)},ck={get:Ah(!1,!0)},uk={get:Ah(!0,!1)};const b0=new WeakMap,_0=new WeakMap,w0=new WeakMap,fk=new WeakMap;function hk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dk(e){return e.__v_skip||!Object.isExtensible(e)?0:hk(BT(e))}function va(e){return Hr(e)?e:Oh(e,!1,rk,lk,b0)}function S0(e){return Oh(e,!1,sk,ck,_0)}function T0(e){return Oh(e,!0,ik,uk,w0)}function Oh(e,t,n,r,i){if(!Yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=dk(e);if(s===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function zr(e){return Hr(e)?zr(e.__v_raw):!!(e&&e.__v_isReactive)}function Hr(e){return!!(e&&e.__v_isReadonly)}function cn(e){return!!(e&&e.__v_isShallow)}function Nh(e){return e?!!e.__v_raw:!1}function St(e){const t=e&&e.__v_raw;return t?St(t):e}function Dh(e){return!Ct(e,"__v_skip")&&Object.isExtensible(e)&&qu(e,"__v_skip",!0),e}const Te=e=>Yt(e)?va(e):e,bl=e=>Yt(e)?T0(e):e;function Zt(e){return e?e.__v_isRef===!0:!1}function wt(e){return C0(e,!1)}function k0(e){return C0(e,!0)}function C0(e,t){return Zt(e)?e:new pk(e,t)}class pk{constructor(t,n){this.dep=new Ph,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:St(t),this._value=n?t:Te(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||cn(t)||Hr(t);t=r?t:St(t),jr(t,n)&&(this._rawValue=t,this._value=r?t:Te(t),this.dep.trigger())}}function ct(e){return Zt(e)?e.value:e}function _l(e){return dt(e)?e():ct(e)}const mk={get:(e,t,n)=>t==="__v_raw"?e:ct(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Zt(i)&&!Zt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function E0(e){return zr(e)?e:new Proxy(e,mk)}function gk(e){const t=ut(e)?new Array(e.length):{};for(const n in e)t[n]=vk(e,n);return t}class yk{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return XT(St(this._object),this._key)}}function vk(e,t,n){const r=e[t];return Zt(r)?r:new yk(e,t,n)}class xk{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ph(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Go-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Vt!==this)return f0(this,!0),!0}get value(){const t=this.dep.track();return p0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function bk(e,t,n=!1){let r,i;return dt(e)?r=e:(r=e.get,i=e.set),new xk(r,i,n)}const Va={},wl=new WeakMap;let ii;function _k(e,t=!1,n=ii){if(n){let r=wl.get(n);r||wl.set(n,r=[]),r.push(e)}}function wk(e,t,n=Wt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=w=>i?w:cn(w)||i===!1||i===0?Lr(w,1):Lr(w);let u,f,h,d,p=!1,m=!1;if(Zt(e)?(f=()=>e.value,p=cn(e)):zr(e)?(f=()=>c(e),p=!0):ut(e)?(m=!0,p=e.some(w=>zr(w)||cn(w)),f=()=>e.map(w=>{if(Zt(w))return w.value;if(zr(w))return c(w);if(dt(w))return l?l(w,2):w()})):dt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){mr();try{h()}finally{gr()}}const w=ii;ii=u;try{return l?l(e,3,[d]):e(d)}finally{ii=w}}:f=zn,t&&i){const w=f,S=i===!0?1/0:i;f=()=>Lr(w(),S)}const g=kh(),y=()=>{u.stop(),g&&g.active&&Sh(g.effects,u)};if(s&&t){const w=t;t=(...S)=>{w(...S),y()}}let v=m?new Array(e.length).fill(Va):Va;const x=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(t){const S=u.run();if(i||p||(m?S.some((C,M)=>jr(C,v[M])):jr(S,v))){h&&h();const C=ii;ii=u;try{const M=[S,v===Va?void 0:m&&v[0]===Va?[]:v,d];v=S,l?l(t,3,M):t(...M)}finally{ii=C}}}else u.run()};return a&&a(x),u=new c0(f),u.scheduler=o?()=>o(x,!1):x,d=w=>_k(w,!1,u),h=u.onStop=()=>{const w=wl.get(u);if(w){if(l)l(w,4);else for(const S of w)S();wl.delete(u)}},t?r?x(!0):v=u.run():o?o(x.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Lr(e,t=1/0,n){if(t<=0||!Yt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Zt(e))Lr(e.value,t,n);else if(ut(e))for(let r=0;r<e.length;r++)Lr(e[r],t,n);else if(Zv(e)||ds(e))e.forEach(r=>{Lr(r,t,n)});else if(n0(e)){for(const r in e)Lr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Lr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xa(e,t,n,r){try{return r?e(...r):e()}catch(i){xc(i,t,n)}}function Xn(e,t,n,r){if(dt(e)){const i=xa(e,t,n,r);return i&&t0(i)&&i.catch(s=>{xc(s,t,n)}),i}if(ut(e)){const i=[];for(let s=0;s<e.length;s++)i.push(Xn(e[s],t,n,r));return i}}function xc(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Wt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(s){mr(),xa(s,null,10,[e,l,c]),gr();return}}Sk(e,n,i,r,o)}function Sk(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Ve=[];let Rn=-1;const ps=[];let Dr=null,ts=0;const M0=Promise.resolve();let Sl=null;function bc(e){const t=Sl||M0;return e?t.then(this?e.bind(this):e):t}function Tk(e){let t=Rn+1,n=Ve.length;for(;t<n;){const r=t+n>>>1,i=Ve[r],s=Uo(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function Ih(e){if(!(e.flags&1)){const t=Uo(e),n=Ve[Ve.length-1];!n||!(e.flags&2)&&t>=Uo(n)?Ve.push(e):Ve.splice(Tk(t),0,e),e.flags|=1,P0()}}function P0(){Sl||(Sl=M0.then(O0))}function kk(e){ut(e)?ps.push(...e):Dr&&e.id===-1?Dr.splice(ts+1,0,e):e.flags&1||(ps.push(e),e.flags|=1),P0()}function Sp(e,t,n=Rn+1){for(;n<Ve.length;n++){const r=Ve[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ve.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function A0(e){if(ps.length){const t=[...new Set(ps)].sort((n,r)=>Uo(n)-Uo(r));if(ps.length=0,Dr){Dr.push(...t);return}for(Dr=t,ts=0;ts<Dr.length;ts++){const n=Dr[ts];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Dr=null,ts=0}}const Uo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function O0(e){try{for(Rn=0;Rn<Ve.length;Rn++){const t=Ve[Rn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),xa(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Rn<Ve.length;Rn++){const t=Ve[Rn];t&&(t.flags&=-2)}Rn=-1,Ve.length=0,A0(),Sl=null,(Ve.length||ps.length)&&O0()}}let Ce=null,N0=null;function Tl(e){const t=Ce;return Ce=e,N0=e&&e.type.__scopeId||null,t}function pi(e,t=Ce,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Dp(-1);const s=Tl(t);let o;try{o=e(...i)}finally{Tl(s),r._d&&Dp(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ei(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(mr(),Xn(l,n,8,[e.el,a,e,t]),gr())}}const Ck=Symbol("_vte"),Ek=e=>e.__isTeleport;function Rh(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Rh(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function kn(e,t){return dt(e)?Ie({name:e.name},t,{setup:e}):e}function D0(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Co(e,t,n,r,i=!1){if(ut(e)){e.forEach((p,m)=>Co(p,t&&(ut(t)?t[m]:t),n,r,i));return}if(ms(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Co(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?Bh(r.component):r.el,o=i?null:s,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Wt?a.refs={}:a.refs,f=a.setupState,h=St(f),d=f===Wt?()=>!1:p=>Ct(h,p);if(c!=null&&c!==l&&(ie(c)?(u[c]=null,d(c)&&(f[c]=null)):Zt(c)&&(c.value=null)),dt(l))xa(l,a,12,[o,u]);else{const p=ie(l),m=Zt(l);if(p||m){const g=()=>{if(e.f){const y=p?d(l)?f[l]:u[l]:l.value;i?ut(y)&&Sh(y,s):ut(y)?y.includes(s)||y.push(s):p?(u[l]=[s],d(l)&&(f[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else p?(u[l]=o,d(l)&&(f[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(g.id=-1,qe(g,n)):g()}}}yc().requestIdleCallback;yc().cancelIdleCallback;const ms=e=>!!e.type.__asyncLoader,I0=e=>e.type.__isKeepAlive;function Mk(e,t){R0(e,"a",t)}function Pk(e,t){R0(e,"da",t)}function R0(e,t,n=pe){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(_c(t,r,n),n){let i=n.parent;for(;i&&i.parent;)I0(i.parent.vnode)&&Ak(r,t,n,i),i=i.parent}}function Ak(e,t,n,r){const i=_c(t,e,r,!0);zi(()=>{Sh(r[t],i)},n)}function _c(e,t,n=pe,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{mr();const a=ba(n),l=Xn(t,n,e,o);return a(),gr(),l});return r?i.unshift(s):i.push(s),s}}const Tr=e=>(t,n=pe)=>{(!qo||e==="sp")&&_c(e,(...r)=>t(...r),n)},L0=Tr("bm"),$s=Tr("m"),F0=Tr("bu"),$0=Tr("u"),B0=Tr("bum"),zi=Tr("um"),Ok=Tr("sp"),Nk=Tr("rtg"),Dk=Tr("rtc");function Ik(e,t=pe){_c("ec",e,t)}const Rk="components";function Lk(e,t){return $k(Rk,e,!0,t)||e}const Fk=Symbol.for("v-ndc");function $k(e,t,n=!0,r=!1){const i=Ce||pe;if(i){const s=i.type;{const a=CC(s,!1);if(a&&(a===t||a===dn(t)||a===gc(dn(t))))return s}const o=Tp(i[e]||s[e],t)||Tp(i.appContext[e],t);return!o&&r?s:o}}function Tp(e,t){return e&&(e[t]||e[dn(t)]||e[gc(dn(t))])}function Wn(e,t,n,r){let i;const s=n,o=ut(e);if(o||ie(e)){const a=o&&zr(e);let l=!1,c=!1;a&&(l=!cn(e),c=Hr(e),e=vc(e)),i=new Array(e.length);for(let u=0,f=e.length;u<f;u++)i[u]=t(l?c?bl(Te(e[u])):Te(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(Yt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,s)}}else i=[];return i}function Bk(e,t,n={},r,i){if(Ce.ce||Ce.parent&&ms(Ce.parent)&&Ce.parent.ce)return n.name=t,gt(),Ur(Kt,null,[qt("slot",n,r)],64);let s=e[t];s&&s._c&&(s._d=!1),gt();const o=s&&V0(s(n)),a=n.key||o&&o.key,l=Ur(Kt,{key:(a&&!Sr(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function V0(e){return e.some(t=>Jo(t)?!(t.type===Qn||t.type===Kt&&!V0(t.children)):!0)?e:null}const tf=e=>e?ax(e)?Bh(e):tf(e.parent):null,Eo=Ie(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>tf(e.parent),$root:e=>tf(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>j0(e),$forceUpdate:e=>e.f||(e.f=()=>{Ih(e.update)}),$nextTick:e=>e.n||(e.n=bc.bind(e.proxy)),$watch:e=>cC.bind(e)}),tu=(e,t)=>e!==Wt&&!e.__isScriptSetup&&Ct(e,t),Vk={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(tu(r,t))return o[t]=1,r[t];if(i!==Wt&&Ct(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&Ct(c,t))return o[t]=3,s[t];if(n!==Wt&&Ct(n,t))return o[t]=4,n[t];ef&&(o[t]=0)}}const u=Eo[t];let f,h;if(u)return t==="$attrs"&&Me(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Wt&&Ct(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,Ct(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return tu(i,t)?(i[t]=n,!0):r!==Wt&&Ct(r,t)?(r[t]=n,!0):Ct(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==Wt&&Ct(e,o)||tu(t,o)||(a=s[0])&&Ct(a,o)||Ct(r,o)||Ct(Eo,o)||Ct(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ct(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Wk(){return jk().attrs}function jk(){const e=Tc();return e.setupContext||(e.setupContext=cx(e))}function kp(e){return ut(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ef=!0;function zk(e){const t=j0(e),n=e.proxy,r=e.ctx;ef=!1,t.beforeCreate&&Cp(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:x,unmounted:w,render:S,renderTracked:C,renderTriggered:M,errorCaptured:T,serverPrefetch:k,expose:R,inheritAttrs:X,components:at,directives:nt,filters:pt}=t;if(c&&Kk(c,r,null),o)for(const H in o){const tt=o[H];dt(tt)&&(r[H]=tt.bind(n))}if(i){const H=i.call(n,n);Yt(H)&&(e.data=va(H))}if(ef=!0,s)for(const H in s){const tt=s[H],V=dt(tt)?tt.bind(n,n):dt(tt.get)?tt.get.bind(n,n):zn,it=!dt(tt)&&dt(tt.set)?tt.set.bind(n):zn,q=Mt({get:V,set:it});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>q.value,set:ft=>q.value=ft})}if(a)for(const H in a)W0(a[H],r,n,H);if(l){const H=dt(l)?l.call(n):l;Reflect.ownKeys(H).forEach(tt=>{gs(tt,H[tt])})}u&&Cp(u,e,"c");function lt(H,tt){ut(tt)?tt.forEach(V=>H(V.bind(n))):tt&&H(tt.bind(n))}if(lt(L0,f),lt($s,h),lt(F0,d),lt($0,p),lt(Mk,m),lt(Pk,g),lt(Ik,T),lt(Dk,C),lt(Nk,M),lt(B0,v),lt(zi,w),lt(Ok,k),ut(R))if(R.length){const H=e.exposed||(e.exposed={});R.forEach(tt=>{Object.defineProperty(H,tt,{get:()=>n[tt],set:V=>n[tt]=V})})}else e.exposed||(e.exposed={});S&&e.render===zn&&(e.render=S),X!=null&&(e.inheritAttrs=X),at&&(e.components=at),nt&&(e.directives=nt),k&&D0(e)}function Kk(e,t,n=zn){ut(e)&&(e=nf(e));for(const r in e){const i=e[r];let s;Yt(i)?"default"in i?s=un(i.from||r,i.default,!0):s=un(i.from||r):s=un(i),Zt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function Cp(e,t,n){Xn(ut(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function W0(e,t,n,r){let i=r.includes(".")?ex(n,r):()=>n[r];if(ie(e)){const s=t[e];dt(s)&&Kn(i,s)}else if(dt(e))Kn(i,e.bind(n));else if(Yt(e))if(ut(e))e.forEach(s=>W0(s,t,n,r));else{const s=dt(e.handler)?e.handler.bind(n):t[e.handler];dt(s)&&Kn(i,s,e)}}function j0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>kl(l,c,o,!0)),kl(l,t,o)),Yt(t)&&s.set(t,l),l}function kl(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&kl(e,s,n,!0),i&&i.forEach(o=>kl(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Gk[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Gk={data:Ep,props:Mp,emits:Mp,methods:go,computed:go,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:go,directives:go,watch:Uk,provide:Ep,inject:Hk};function Ep(e,t){return t?e?function(){return Ie(dt(e)?e.call(this,this):e,dt(t)?t.call(this,this):t)}:t:e}function Hk(e,t){return go(nf(e),nf(t))}function nf(e){if(ut(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function go(e,t){return e?Ie(Object.create(null),e,t):t}function Mp(e,t){return e?ut(e)&&ut(t)?[...new Set([...e,...t])]:Ie(Object.create(null),kp(e),kp(t??{})):t}function Uk(e,t){if(!e)return t;if(!t)return e;const n=Ie(Object.create(null),e);for(const r in t)n[r]=$e(e[r],t[r]);return n}function z0(){return{app:null,config:{isNativeTag:FT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yk=0;function Jk(e,t){return function(r,i=null){dt(r)||(r=Ie({},r)),i!=null&&!Yt(i)&&(i=null);const s=z0(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:Yk++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:MC,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&dt(u.install)?(o.add(u),u.install(c,...f)):dt(u)&&(o.add(u),u(c,...f))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,f){return f?(s.components[u]=f,c):s.components[u]},directive(u,f){return f?(s.directives[u]=f,c):s.directives[u]},mount(u,f,h){if(!l){const d=c._ceVNode||qt(r,i);return d.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),e(d,u,h),l=!0,c._container=u,u.__vue_app__=c,Bh(d.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Xn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return s.provides[u]=f,c},runWithContext(u){const f=mi;mi=c;try{return u()}finally{mi=f}}};return c}}let mi=null;function gs(e,t){if(pe){let n=pe.provides;const r=pe.parent&&pe.parent.provides;r===n&&(n=pe.provides=Object.create(r)),n[e]=t}}function un(e,t,n=!1){const r=pe||Ce;if(r||mi){let i=mi?mi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&dt(t)?t.call(r&&r.proxy):t}}function qk(){return!!(pe||Ce||mi)}const K0={},G0=()=>Object.create(K0),H0=e=>Object.getPrototypeOf(e)===K0;function Xk(e,t,n,r=!1){const i={},s=G0();e.propsDefaults=Object.create(null),U0(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:S0(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function Qk(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=St(i),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(wc(e.emitsOptions,h))continue;const d=t[h];if(l)if(Ct(s,h))d!==s[h]&&(s[h]=d,c=!0);else{const p=dn(h);i[p]=rf(l,a,p,d,e,!1)}else d!==s[h]&&(s[h]=d,c=!0)}}}else{U0(e,t,i,s)&&(c=!0);let u;for(const f in a)(!t||!Ct(t,f)&&((u=ji(f))===f||!Ct(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=rf(l,a,f,void 0,e,!0)):delete i[f]);if(s!==a)for(const f in s)(!t||!Ct(t,f))&&(delete s[f],c=!0)}c&&fr(e.attrs,"set","")}function U0(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(So(l))continue;const c=t[l];let u;i&&Ct(i,u=dn(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:wc(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=St(n),c=a||Wt;for(let u=0;u<s.length;u++){const f=s[u];n[f]=rf(i,l,f,c[f],e,!Ct(c,f))}}return o}function rf(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=Ct(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&dt(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=ba(i);r=c[n]=l.call(null,t),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===ji(n))&&(r=!0))}return r}const Zk=new WeakMap;function Y0(e,t,n=!1){const r=n?Zk:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!dt(e)){const u=f=>{l=!0;const[h,d]=Y0(f,t,!0);Ie(o,h),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return Yt(e)&&r.set(e,hs),hs;if(ut(s))for(let u=0;u<s.length;u++){const f=dn(s[u]);Pp(f)&&(o[f]=Wt)}else if(s)for(const u in s){const f=dn(u);if(Pp(f)){const h=s[u],d=o[f]=ut(h)||dt(h)?{type:h}:Ie({},h),p=d.type;let m=!1,g=!0;if(ut(p))for(let y=0;y<p.length;++y){const v=p[y],x=dt(v)&&v.name;if(x==="Boolean"){m=!0;break}else x==="String"&&(g=!1)}else m=dt(p)&&p.name==="Boolean";d[0]=m,d[1]=g,(m||Ct(d,"default"))&&a.push(f)}}const c=[o,a];return Yt(e)&&r.set(e,c),c}function Pp(e){return e[0]!=="$"&&!So(e)}const Lh=e=>e[0]==="_"||e==="$stable",Fh=e=>ut(e)?e.map(Fn):[Fn(e)],tC=(e,t,n)=>{if(t._n)return t;const r=pi((...i)=>Fh(t(...i)),n);return r._c=!1,r},J0=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Lh(i))continue;const s=e[i];if(dt(s))t[i]=tC(i,s,r);else if(s!=null){const o=Fh(s);t[i]=()=>o}}},q0=(e,t)=>{const n=Fh(t);e.slots.default=()=>n},X0=(e,t,n)=>{for(const r in t)(n||!Lh(r))&&(e[r]=t[r])},eC=(e,t,n)=>{const r=e.slots=G0();if(e.vnode.shapeFlag&32){const i=t.__;i&&qu(r,"__",i,!0);const s=t._;s?(X0(r,t,n),n&&qu(r,"_",s,!0)):J0(t,r)}else t&&q0(e,t)},nC=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=Wt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:X0(i,t,n):(s=!t.$stable,J0(t,i)),o=t}else t&&(q0(e,t),o={default:1});if(s)for(const a in i)!Lh(a)&&o[a]==null&&delete i[a]},qe=gC;function rC(e){return iC(e)}function iC(e,t){const n=yc();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=zn,insertStaticContent:p}=e,m=(b,_,E,O=null,D=null,N=null,K=void 0,z=null,W=!!_.dynamicChildren)=>{if(b===_)return;b&&!oo(b,_)&&(O=A(b),ft(b,D,N,!0),b=null),_.patchFlag===-2&&(W=!1,_.dynamicChildren=null);const{type:L,ref:rt,shapeFlag:G}=_;switch(L){case Sc:g(b,_,E,O);break;case Qn:y(b,_,E,O);break;case nu:b==null&&v(_,E,O,K);break;case Kt:at(b,_,E,O,D,N,K,z,W);break;default:G&1?S(b,_,E,O,D,N,K,z,W):G&6?nt(b,_,E,O,D,N,K,z,W):(G&64||G&128)&&L.process(b,_,E,O,D,N,K,z,W,Z)}rt!=null&&D?Co(rt,b&&b.ref,N,_||b,!_):rt==null&&b&&b.ref!=null&&Co(b.ref,null,N,b,!0)},g=(b,_,E,O)=>{if(b==null)r(_.el=a(_.children),E,O);else{const D=_.el=b.el;_.children!==b.children&&c(D,_.children)}},y=(b,_,E,O)=>{b==null?r(_.el=l(_.children||""),E,O):_.el=b.el},v=(b,_,E,O)=>{[b.el,b.anchor]=p(b.children,_,E,O,b.el,b.anchor)},x=({el:b,anchor:_},E,O)=>{let D;for(;b&&b!==_;)D=h(b),r(b,E,O),b=D;r(_,E,O)},w=({el:b,anchor:_})=>{let E;for(;b&&b!==_;)E=h(b),i(b),b=E;i(_)},S=(b,_,E,O,D,N,K,z,W)=>{_.type==="svg"?K="svg":_.type==="math"&&(K="mathml"),b==null?C(_,E,O,D,N,K,z,W):k(b,_,D,N,K,z,W)},C=(b,_,E,O,D,N,K,z)=>{let W,L;const{props:rt,shapeFlag:G,transition:et,dirs:ht}=b;if(W=b.el=o(b.type,N,rt&&rt.is,rt),G&8?u(W,b.children):G&16&&T(b.children,W,null,O,D,eu(b,N),K,z),ht&&ei(b,null,O,"created"),M(W,b,b.scopeId,K,O),rt){for(const Bt in rt)Bt!=="value"&&!So(Bt)&&s(W,Bt,null,rt[Bt],N,O);"value"in rt&&s(W,"value",null,rt.value,N),(L=rt.onVnodeBeforeMount)&&Nn(L,O,b)}ht&&ei(b,null,O,"beforeMount");const _t=sC(D,et);_t&&et.beforeEnter(W),r(W,_,E),((L=rt&&rt.onVnodeMounted)||_t||ht)&&qe(()=>{L&&Nn(L,O,b),_t&&et.enter(W),ht&&ei(b,null,O,"mounted")},D)},M=(b,_,E,O,D)=>{if(E&&d(b,E),O)for(let N=0;N<O.length;N++)d(b,O[N]);if(D){let N=D.subTree;if(_===N||rx(N.type)&&(N.ssContent===_||N.ssFallback===_)){const K=D.vnode;M(b,K,K.scopeId,K.slotScopeIds,D.parent)}}},T=(b,_,E,O,D,N,K,z,W=0)=>{for(let L=W;L<b.length;L++){const rt=b[L]=z?Ir(b[L]):Fn(b[L]);m(null,rt,_,E,O,D,N,K,z)}},k=(b,_,E,O,D,N,K)=>{const z=_.el=b.el;let{patchFlag:W,dynamicChildren:L,dirs:rt}=_;W|=b.patchFlag&16;const G=b.props||Wt,et=_.props||Wt;let ht;if(E&&ni(E,!1),(ht=et.onVnodeBeforeUpdate)&&Nn(ht,E,_,b),rt&&ei(_,b,E,"beforeUpdate"),E&&ni(E,!0),(G.innerHTML&&et.innerHTML==null||G.textContent&&et.textContent==null)&&u(z,""),L?R(b.dynamicChildren,L,z,E,O,eu(_,D),N):K||tt(b,_,z,null,E,O,eu(_,D),N,!1),W>0){if(W&16)X(z,G,et,E,D);else if(W&2&&G.class!==et.class&&s(z,"class",null,et.class,D),W&4&&s(z,"style",G.style,et.style,D),W&8){const _t=_.dynamicProps;for(let Bt=0;Bt<_t.length;Bt++){const At=_t[Bt],je=G[At],ze=et[At];(ze!==je||At==="value")&&s(z,At,je,ze,D,E)}}W&1&&b.children!==_.children&&u(z,_.children)}else!K&&L==null&&X(z,G,et,E,D);((ht=et.onVnodeUpdated)||rt)&&qe(()=>{ht&&Nn(ht,E,_,b),rt&&ei(_,b,E,"updated")},O)},R=(b,_,E,O,D,N,K)=>{for(let z=0;z<_.length;z++){const W=b[z],L=_[z],rt=W.el&&(W.type===Kt||!oo(W,L)||W.shapeFlag&198)?f(W.el):E;m(W,L,rt,null,O,D,N,K,!0)}},X=(b,_,E,O,D)=>{if(_!==E){if(_!==Wt)for(const N in _)!So(N)&&!(N in E)&&s(b,N,_[N],null,D,O);for(const N in E){if(So(N))continue;const K=E[N],z=_[N];K!==z&&N!=="value"&&s(b,N,z,K,D,O)}"value"in E&&s(b,"value",_.value,E.value,D)}},at=(b,_,E,O,D,N,K,z,W)=>{const L=_.el=b?b.el:a(""),rt=_.anchor=b?b.anchor:a("");let{patchFlag:G,dynamicChildren:et,slotScopeIds:ht}=_;ht&&(z=z?z.concat(ht):ht),b==null?(r(L,E,O),r(rt,E,O),T(_.children||[],E,rt,D,N,K,z,W)):G>0&&G&64&&et&&b.dynamicChildren?(R(b.dynamicChildren,et,E,D,N,K,z),(_.key!=null||D&&_===D.subTree)&&Q0(b,_,!0)):tt(b,_,E,rt,D,N,K,z,W)},nt=(b,_,E,O,D,N,K,z,W)=>{_.slotScopeIds=z,b==null?_.shapeFlag&512?D.ctx.activate(_,E,O,K,W):pt(_,E,O,D,N,K,W):bt(b,_,W)},pt=(b,_,E,O,D,N,K)=>{const z=b.component=wC(b,O,D);if(I0(b)&&(z.ctx.renderer=Z),SC(z,!1,K),z.asyncDep){if(D&&D.registerDep(z,lt,K),!b.el){const W=z.subTree=qt(Qn);y(null,W,_,E)}}else lt(z,b,_,E,D,N,K)},bt=(b,_,E)=>{const O=_.component=b.component;if(pC(b,_,E))if(O.asyncDep&&!O.asyncResolved){H(O,_,E);return}else O.next=_,O.update();else _.el=b.el,O.vnode=_},lt=(b,_,E,O,D,N,K)=>{const z=()=>{if(b.isMounted){let{next:G,bu:et,u:ht,parent:_t,vnode:Bt}=b;{const An=Z0(b);if(An){G&&(G.el=Bt.el,H(b,G,K)),An.asyncDep.then(()=>{b.isUnmounted||z()});return}}let At=G,je;ni(b,!1),G?(G.el=Bt.el,H(b,G,K)):G=Bt,et&&Jc(et),(je=G.props&&G.props.onVnodeBeforeUpdate)&&Nn(je,_t,G,Bt),ni(b,!0);const ze=Op(b),Pn=b.subTree;b.subTree=ze,m(Pn,ze,f(Pn.el),A(Pn),b,D,N),G.el=ze.el,At===null&&mC(b,ze.el),ht&&qe(ht,D),(je=G.props&&G.props.onVnodeUpdated)&&qe(()=>Nn(je,_t,G,Bt),D)}else{let G;const{el:et,props:ht}=_,{bm:_t,m:Bt,parent:At,root:je,type:ze}=b,Pn=ms(_);ni(b,!1),_t&&Jc(_t),!Pn&&(G=ht&&ht.onVnodeBeforeMount)&&Nn(G,At,_),ni(b,!0);{je.ce&&je.ce._def.shadowRoot!==!1&&je.ce._injectChildStyle(ze);const An=b.subTree=Op(b);m(null,An,E,O,b,D,N),_.el=An.el}if(Bt&&qe(Bt,D),!Pn&&(G=ht&&ht.onVnodeMounted)){const An=_;qe(()=>Nn(G,At,An),D)}(_.shapeFlag&256||At&&ms(At.vnode)&&At.vnode.shapeFlag&256)&&b.a&&qe(b.a,D),b.isMounted=!0,_=E=O=null}};b.scope.on();const W=b.effect=new c0(z);b.scope.off();const L=b.update=W.run.bind(W),rt=b.job=W.runIfDirty.bind(W);rt.i=b,rt.id=b.uid,W.scheduler=()=>Ih(rt),ni(b,!0),L()},H=(b,_,E)=>{_.component=b;const O=b.vnode.props;b.vnode=_,b.next=null,Qk(b,_.props,O,E),nC(b,_.children,E),mr(),Sp(b),gr()},tt=(b,_,E,O,D,N,K,z,W=!1)=>{const L=b&&b.children,rt=b?b.shapeFlag:0,G=_.children,{patchFlag:et,shapeFlag:ht}=_;if(et>0){if(et&128){it(L,G,E,O,D,N,K,z,W);return}else if(et&256){V(L,G,E,O,D,N,K,z,W);return}}ht&8?(rt&16&&It(L,D,N),G!==L&&u(E,G)):rt&16?ht&16?it(L,G,E,O,D,N,K,z,W):It(L,D,N,!0):(rt&8&&u(E,""),ht&16&&T(G,E,O,D,N,K,z,W))},V=(b,_,E,O,D,N,K,z,W)=>{b=b||hs,_=_||hs;const L=b.length,rt=_.length,G=Math.min(L,rt);let et;for(et=0;et<G;et++){const ht=_[et]=W?Ir(_[et]):Fn(_[et]);m(b[et],ht,E,null,D,N,K,z,W)}L>rt?It(b,D,N,!0,!1,G):T(_,E,O,D,N,K,z,W,G)},it=(b,_,E,O,D,N,K,z,W)=>{let L=0;const rt=_.length;let G=b.length-1,et=rt-1;for(;L<=G&&L<=et;){const ht=b[L],_t=_[L]=W?Ir(_[L]):Fn(_[L]);if(oo(ht,_t))m(ht,_t,E,null,D,N,K,z,W);else break;L++}for(;L<=G&&L<=et;){const ht=b[G],_t=_[et]=W?Ir(_[et]):Fn(_[et]);if(oo(ht,_t))m(ht,_t,E,null,D,N,K,z,W);else break;G--,et--}if(L>G){if(L<=et){const ht=et+1,_t=ht<rt?_[ht].el:O;for(;L<=et;)m(null,_[L]=W?Ir(_[L]):Fn(_[L]),E,_t,D,N,K,z,W),L++}}else if(L>et)for(;L<=G;)ft(b[L],D,N,!0),L++;else{const ht=L,_t=L,Bt=new Map;for(L=_t;L<=et;L++){const Je=_[L]=W?Ir(_[L]):Fn(_[L]);Je.key!=null&&Bt.set(Je.key,L)}let At,je=0;const ze=et-_t+1;let Pn=!1,An=0;const io=new Array(ze);for(L=0;L<ze;L++)io[L]=0;for(L=ht;L<=G;L++){const Je=b[L];if(je>=ze){ft(Je,D,N,!0);continue}let On;if(Je.key!=null)On=Bt.get(Je.key);else for(At=_t;At<=et;At++)if(io[At-_t]===0&&oo(Je,_[At])){On=At;break}On===void 0?ft(Je,D,N,!0):(io[On-_t]=L+1,On>=An?An=On:Pn=!0,m(Je,_[On],E,null,D,N,K,z,W),je++)}const vp=Pn?oC(io):hs;for(At=vp.length-1,L=ze-1;L>=0;L--){const Je=_t+L,On=_[Je],xp=Je+1<rt?_[Je+1].el:O;io[L]===0?m(null,On,E,xp,D,N,K,z,W):Pn&&(At<0||L!==vp[At]?q(On,E,xp,2):At--)}}},q=(b,_,E,O,D=null)=>{const{el:N,type:K,transition:z,children:W,shapeFlag:L}=b;if(L&6){q(b.component.subTree,_,E,O);return}if(L&128){b.suspense.move(_,E,O);return}if(L&64){K.move(b,_,E,Z);return}if(K===Kt){r(N,_,E);for(let G=0;G<W.length;G++)q(W[G],_,E,O);r(b.anchor,_,E);return}if(K===nu){x(b,_,E);return}if(O!==2&&L&1&&z)if(O===0)z.beforeEnter(N),r(N,_,E),qe(()=>z.enter(N),D);else{const{leave:G,delayLeave:et,afterLeave:ht}=z,_t=()=>{b.ctx.isUnmounted?i(N):r(N,_,E)},Bt=()=>{G(N,()=>{_t(),ht&&ht()})};et?et(N,_t,Bt):Bt()}else r(N,_,E)},ft=(b,_,E,O=!1,D=!1)=>{const{type:N,props:K,ref:z,children:W,dynamicChildren:L,shapeFlag:rt,patchFlag:G,dirs:et,cacheIndex:ht}=b;if(G===-2&&(D=!1),z!=null&&(mr(),Co(z,null,E,b,!0),gr()),ht!=null&&(_.renderCache[ht]=void 0),rt&256){_.ctx.deactivate(b);return}const _t=rt&1&&et,Bt=!ms(b);let At;if(Bt&&(At=K&&K.onVnodeBeforeUnmount)&&Nn(At,_,b),rt&6)oe(b.component,E,O);else{if(rt&128){b.suspense.unmount(E,O);return}_t&&ei(b,null,_,"beforeUnmount"),rt&64?b.type.remove(b,_,E,Z,O):L&&!L.hasOnce&&(N!==Kt||G>0&&G&64)?It(L,_,E,!1,!0):(N===Kt&&G&384||!D&&rt&16)&&It(W,_,E),O&&Dt(b)}(Bt&&(At=K&&K.onVnodeUnmounted)||_t)&&qe(()=>{At&&Nn(At,_,b),_t&&ei(b,null,_,"unmounted")},E)},Dt=b=>{const{type:_,el:E,anchor:O,transition:D}=b;if(_===Kt){te(E,O);return}if(_===nu){w(b);return}const N=()=>{i(E),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(b.shapeFlag&1&&D&&!D.persisted){const{leave:K,delayLeave:z}=D,W=()=>K(E,N);z?z(b.el,N,W):W()}else N()},te=(b,_)=>{let E;for(;b!==_;)E=h(b),i(b),b=E;i(_)},oe=(b,_,E)=>{const{bum:O,scope:D,job:N,subTree:K,um:z,m:W,a:L,parent:rt,slots:{__:G}}=b;Ap(W),Ap(L),O&&Jc(O),rt&&ut(G)&&G.forEach(et=>{rt.renderCache[et]=void 0}),D.stop(),N&&(N.flags|=8,ft(K,b,_,E)),z&&qe(z,_),qe(()=>{b.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},It=(b,_,E,O=!1,D=!1,N=0)=>{for(let K=N;K<b.length;K++)ft(b[K],_,E,O,D)},A=b=>{if(b.shapeFlag&6)return A(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const _=h(b.anchor||b.el),E=_&&_[Ck];return E?h(E):_};let j=!1;const B=(b,_,E)=>{b==null?_._vnode&&ft(_._vnode,null,null,!0):m(_._vnode||null,b,_,null,null,null,E),_._vnode=b,j||(j=!0,Sp(),A0(),j=!1)},Z={p:m,um:ft,m:q,r:Dt,mt:pt,mc:T,pc:tt,pbc:R,n:A,o:e};return{render:B,hydrate:void 0,createApp:Jk(B)}}function eu({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ni({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function sC(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Q0(e,t,n=!1){const r=e.children,i=t.children;if(ut(r)&&ut(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ir(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Q0(o,a)),a.type===Sc&&(a.el=o.el),a.type===Qn&&!a.el&&(a.el=o.el)}}function oC(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<c?s=a+1:o=a;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function Z0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Z0(t)}function Ap(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const aC=Symbol.for("v-scx"),lC=()=>un(aC);function Kn(e,t,n){return tx(e,t,n)}function tx(e,t,n=Wt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Ie({},n),l=t&&r||!t&&s!=="post";let c;if(qo){if(s==="sync"){const d=lC();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=zn,d.resume=zn,d.pause=zn,d}}const u=pe;a.call=(d,p,m)=>Xn(d,u,p,m);let f=!1;s==="post"?a.scheduler=d=>{qe(d,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(d,p)=>{p?d():Ih(d)}),a.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const h=wk(e,t,a);return qo&&(c?c.push(h):l&&h()),h}function cC(e,t,n){const r=this.proxy,i=ie(e)?e.includes(".")?ex(r,e):()=>r[e]:e.bind(r,r);let s;dt(t)?s=t:(s=t.handler,n=t);const o=ba(this),a=tx(i,s.bind(r),n);return o(),a}function ex(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const uC=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dn(t)}Modifiers`]||e[`${ji(t)}Modifiers`];function fC(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Wt;let i=n;const s=t.startsWith("update:"),o=s&&uC(r,t.slice(7));o&&(o.trim&&(i=n.map(u=>ie(u)?u.trim():u)),o.number&&(i=n.map(jT)));let a,l=r[a=Yc(t)]||r[a=Yc(dn(t))];!l&&s&&(l=r[a=Yc(ji(t))]),l&&Xn(l,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Xn(c,e,6,i)}}function nx(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!dt(e)){const l=c=>{const u=nx(c,t,!0);u&&(a=!0,Ie(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Yt(e)&&r.set(e,null),null):(ut(s)?s.forEach(l=>o[l]=null):Ie(o,s),Yt(e)&&r.set(e,o),o)}function wc(e,t){return!e||!dc(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ct(e,t[0].toLowerCase()+t.slice(1))||Ct(e,ji(t))||Ct(e,t))}function Op(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:h,setupState:d,ctx:p,inheritAttrs:m}=e,g=Tl(e);let y,v;try{if(n.shapeFlag&4){const w=i||r,S=w;y=Fn(c.call(S,w,u,f,d,h,p)),v=a}else{const w=t;y=Fn(w.length>1?w(f,{attrs:a,slots:o,emit:l}):w(f,null)),v=t.props?a:hC(a)}}catch(w){Mo.length=0,xc(w,e,1),y=qt(Qn)}let x=y;if(v&&m!==!1){const w=Object.keys(v),{shapeFlag:S}=x;w.length&&S&7&&(s&&w.some(wh)&&(v=dC(v,s)),x=Ti(x,v,!1,!0))}return n.dirs&&(x=Ti(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Rh(x,n.transition),y=x,Tl(g),y}const hC=e=>{let t;for(const n in e)(n==="class"||n==="style"||dc(n))&&((t||(t={}))[n]=e[n]);return t},dC=(e,t)=>{const n={};for(const r in e)(!wh(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function pC(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Np(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==r[h]&&!wc(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Np(r,o,c):!0:!!o;return!1}function Np(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!wc(n,s))return!0}return!1}function mC({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const rx=e=>e.__isSuspense;function gC(e,t){t&&t.pendingBranch?ut(e)?t.effects.push(...e):t.effects.push(e):kk(e)}const Kt=Symbol.for("v-fgt"),Sc=Symbol.for("v-txt"),Qn=Symbol.for("v-cmt"),nu=Symbol.for("v-stc"),Mo=[];let tn=null;function gt(e=!1){Mo.push(tn=e?null:[])}function yC(){Mo.pop(),tn=Mo[Mo.length-1]||null}let Yo=1;function Dp(e,t=!1){Yo+=e,e<0&&tn&&t&&(tn.hasOnce=!0)}function ix(e){return e.dynamicChildren=Yo>0?tn||hs:null,yC(),Yo>0&&tn&&tn.push(e),e}function Tt(e,t,n,r,i,s){return ix(yt(e,t,n,r,i,s,!0))}function Ur(e,t,n,r,i){return ix(qt(e,t,n,r,i,!0))}function Jo(e){return e?e.__v_isVNode===!0:!1}function oo(e,t){return e.type===t.type&&e.key===t.key}const sx=({key:e})=>e??null,il=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ie(e)||Zt(e)||dt(e)?{i:Ce,r:e,k:t,f:!!n}:e:null);function yt(e,t=null,n=null,r=0,i=null,s=e===Kt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sx(t),ref:t&&il(t),scopeId:N0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ce};return a?($h(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=ie(n)?8:16),Yo>0&&!o&&tn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&tn.push(l),l}const qt=vC;function vC(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Fk)&&(e=Qn),Jo(e)){const a=Ti(e,t,!0);return n&&$h(a,n),Yo>0&&!s&&tn&&(a.shapeFlag&6?tn[tn.indexOf(e)]=a:tn.push(a)),a.patchFlag=-2,a}if(EC(e)&&(e=e.__vccOpts),t){t=xC(t);let{class:a,style:l}=t;a&&!ie(a)&&(t.class=le(a)),Yt(l)&&(Nh(l)&&!ut(l)&&(l=Ie({},l)),t.style=dr(l))}const o=ie(e)?1:rx(e)?128:Ek(e)?64:Yt(e)?4:dt(e)?2:0;return yt(e,t,n,r,i,o,s,!0)}function xC(e){return e?Nh(e)||H0(e)?Ie({},e):e:null}function Ti(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?ox(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&sx(c),ref:t&&t.ref?n&&s?ut(s)?s.concat(il(t)):[s,il(t)]:il(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Kt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ti(e.ssContent),ssFallback:e.ssFallback&&Ti(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Rh(u,l.clone(u)),u}function Cl(e=" ",t=0){return qt(Sc,null,e,t)}function ys(e="",t=!1){return t?(gt(),Ur(Qn,null,e)):qt(Qn,null,e)}function Fn(e){return e==null||typeof e=="boolean"?qt(Qn):ut(e)?qt(Kt,null,e.slice()):Jo(e)?Ir(e):qt(Sc,null,String(e))}function Ir(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ti(e)}function $h(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ut(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),$h(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!H0(t)?t._ctx=Ce:i===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else dt(t)?(t={default:t,_ctx:Ce},n=32):(t=String(t),r&64?(n=16,t=[Cl(t)]):n=8);e.children=t,e.shapeFlag|=n}function ox(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=le([t.class,r.class]));else if(i==="style")t.style=dr([t.style,r.style]);else if(dc(i)){const s=t[i],o=r[i];o&&s!==o&&!(ut(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Nn(e,t,n,r=null){Xn(e,t,7,[n,r])}const bC=z0();let _C=0;function wC(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||bC,s={uid:_C++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new o0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Y0(r,i),emitsOptions:nx(r,i),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:r.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=fC.bind(null,s),e.ce&&e.ce(s),s}let pe=null;const Tc=()=>pe||Ce;let El,sf;{const e=yc(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};El=t("__VUE_INSTANCE_SETTERS__",n=>pe=n),sf=t("__VUE_SSR_SETTERS__",n=>qo=n)}const ba=e=>{const t=pe;return El(e),e.scope.on(),()=>{e.scope.off(),El(t)}},Ip=()=>{pe&&pe.scope.off(),El(null)};function ax(e){return e.vnode.shapeFlag&4}let qo=!1;function SC(e,t=!1,n=!1){t&&sf(t);const{props:r,children:i}=e.vnode,s=ax(e);Xk(e,r,s,t),eC(e,i,n||t);const o=s?TC(e,t):void 0;return t&&sf(!1),o}function TC(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vk);const{setup:r}=n;if(r){mr();const i=e.setupContext=r.length>1?cx(e):null,s=ba(e),o=xa(r,e,0,[e.props,i]),a=t0(o);if(gr(),s(),(a||e.sp)&&!ms(e)&&D0(e),a){if(o.then(Ip,Ip),t)return o.then(l=>{Rp(e,l)}).catch(l=>{xc(l,e,0)});e.asyncDep=o}else Rp(e,o)}else lx(e)}function Rp(e,t,n){dt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Yt(t)&&(e.setupState=E0(t)),lx(e)}function lx(e,t,n){const r=e.type;e.render||(e.render=r.render||zn);{const i=ba(e);mr();try{zk(e)}finally{gr(),i()}}}const kC={get(e,t){return Me(e,"get",""),e[t]}};function cx(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,kC),slots:e.slots,emit:e.emit,expose:t}}function Bh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(E0(Dh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Eo)return Eo[n](e)},has(t,n){return n in t||n in Eo}})):e.proxy}function CC(e,t=!0){return dt(e)?e.displayName||e.name:e.name||t&&e.__name}function EC(e){return dt(e)&&"__vccOpts"in e}const Mt=(e,t)=>bk(e,t,qo);function kc(e,t,n){const r=arguments.length;return r===2?Yt(t)&&!ut(t)?Jo(t)?qt(e,null,[t]):qt(e,t):qt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Jo(n)&&(n=[n]),qt(e,t,n))}const MC="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let of;const Lp=typeof window<"u"&&window.trustedTypes;if(Lp)try{of=Lp.createPolicy("vue",{createHTML:e=>e})}catch{}const ux=of?e=>of.createHTML(e):e=>e,PC="http://www.w3.org/2000/svg",AC="http://www.w3.org/1998/Math/MathML",lr=typeof document<"u"?document:null,Fp=lr&&lr.createElement("template"),OC={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?lr.createElementNS(PC,e):t==="mathml"?lr.createElementNS(AC,e):n?lr.createElement(e,{is:n}):lr.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>lr.createTextNode(e),createComment:e=>lr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>lr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Fp.innerHTML=ux(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Fp.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},NC=Symbol("_vtc");function DC(e,t,n){const r=e[NC];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const $p=Symbol("_vod"),IC=Symbol("_vsh"),RC=Symbol(""),LC=/(^|;)\s*display\s*:/;function FC(e,t,n){const r=e.style,i=ie(n);let s=!1;if(n&&!i){if(t)if(ie(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&sl(r,a,"")}else for(const o in t)n[o]==null&&sl(r,o,"");for(const o in n)o==="display"&&(s=!0),sl(r,o,n[o])}else if(i){if(t!==n){const o=r[RC];o&&(n+=";"+o),r.cssText=n,s=LC.test(n)}}else t&&e.removeAttribute("style");$p in e&&(e[$p]=s?r.display:"",e[IC]&&(r.display="none"))}const Bp=/\s*!important$/;function sl(e,t,n){if(ut(n))n.forEach(r=>sl(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=$C(e,t);Bp.test(n)?e.setProperty(ji(r),n.replace(Bp,""),"important"):e[r]=n}}const Vp=["Webkit","Moz","ms"],ru={};function $C(e,t){const n=ru[t];if(n)return n;let r=dn(t);if(r!=="filter"&&r in e)return ru[t]=r;r=gc(r);for(let i=0;i<Vp.length;i++){const s=Vp[i]+r;if(s in e)return ru[t]=s}return t}const Wp="http://www.w3.org/1999/xlink";function jp(e,t,n,r,i,s=YT(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Wp,t.slice(6,t.length)):e.setAttributeNS(Wp,t,n):n==null||s&&!r0(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Sr(n)?String(n):n)}function zp(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ux(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=r0(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function BC(e,t,n,r){e.addEventListener(t,n,r)}function VC(e,t,n,r){e.removeEventListener(t,n,r)}const Kp=Symbol("_vei");function WC(e,t,n,r,i=null){const s=e[Kp]||(e[Kp]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=jC(t);if(r){const c=s[t]=GC(r,i);BC(e,a,c,l)}else o&&(VC(e,a,o,l),s[t]=void 0)}}const Gp=/(?:Once|Passive|Capture)$/;function jC(e){let t;if(Gp.test(e)){t={};let r;for(;r=e.match(Gp);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ji(e.slice(2)),t]}let iu=0;const zC=Promise.resolve(),KC=()=>iu||(zC.then(()=>iu=0),iu=Date.now());function GC(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Xn(HC(r,n.value),t,5,[r])};return n.value=e,n.attached=KC(),n}function HC(e,t){if(ut(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Hp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,UC=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?DC(e,r,o):t==="style"?FC(e,n,r):dc(t)?wh(t)||WC(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):YC(e,t,r,o))?(zp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jp(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ie(r))?zp(e,dn(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),jp(e,t,r,o))};function YC(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Hp(t)&&dt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Hp(t)&&ie(n)?!1:t in e}const JC=Ie({patchProp:UC},OC);let Up;function qC(){return Up||(Up=rC(JC))}const XC=(...e)=>{const t=qC().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=ZC(r);if(!i)return;const s=t._component;!dt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,QC(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function QC(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ZC(e){return ie(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let fx;const Cc=e=>fx=e,hx=Symbol();function af(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Po;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Po||(Po={}));function t1(){const e=a0(!0),t=e.run(()=>wt({}));let n=[],r=[];const i=Dh({install(s){Cc(i),i._a=s,s.provide(hx,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return this._a?n.push(s):r.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const dx=()=>{};function Yp(e,t,n,r=dx){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&kh()&&l0(i),i}function Ji(e,...t){e.slice().forEach(n=>{n(...t)})}const e1=e=>e(),Jp=Symbol(),su=Symbol();function lf(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];af(i)&&af(r)&&e.hasOwnProperty(n)&&!Zt(r)&&!zr(r)?e[n]=lf(i,r):e[n]=r}return e}const n1=Symbol();function r1(e){return!af(e)||!Object.prototype.hasOwnProperty.call(e,n1)}const{assign:Ar}=Object;function i1(e){return!!(Zt(e)&&e.effect)}function s1(e,t,n,r){const{state:i,actions:s,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=i?i():{});const u=gk(n.state.value[e]);return Ar(u,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=Dh(Mt(()=>{Cc(n);const d=n._s.get(e);return o[h].call(d,d)})),f),{}))}return l=px(e,c,t,n,r,!0),l}function px(e,t,n={},r,i,s){let o;const a=Ar({actions:{}},n),l={deep:!0};let c,u,f=[],h=[],d;const p=r.state.value[e];!s&&!p&&(r.state.value[e]={}),wt({});let m;function g(T){let k;c=u=!1,typeof T=="function"?(T(r.state.value[e]),k={type:Po.patchFunction,storeId:e,events:d}):(lf(r.state.value[e],T),k={type:Po.patchObject,payload:T,storeId:e,events:d});const R=m=Symbol();bc().then(()=>{m===R&&(c=!0)}),u=!0,Ji(f,k,r.state.value[e])}const y=s?function(){const{state:k}=n,R=k?k():{};this.$patch(X=>{Ar(X,R)})}:dx;function v(){o.stop(),f=[],h=[],r._s.delete(e)}const x=(T,k="")=>{if(Jp in T)return T[su]=k,T;const R=function(){Cc(r);const X=Array.from(arguments),at=[],nt=[];function pt(H){at.push(H)}function bt(H){nt.push(H)}Ji(h,{args:X,name:R[su],store:S,after:pt,onError:bt});let lt;try{lt=T.apply(this&&this.$id===e?this:S,X)}catch(H){throw Ji(nt,H),H}return lt instanceof Promise?lt.then(H=>(Ji(at,H),H)).catch(H=>(Ji(nt,H),Promise.reject(H))):(Ji(at,lt),lt)};return R[Jp]=!0,R[su]=k,R},w={_p:r,$id:e,$onAction:Yp.bind(null,h),$patch:g,$reset:y,$subscribe(T,k={}){const R=Yp(f,T,k.detached,()=>X()),X=o.run(()=>Kn(()=>r.state.value[e],at=>{(k.flush==="sync"?u:c)&&T({storeId:e,type:Po.direct,events:d},at)},Ar({},l,k)));return R},$dispose:v},S=va(w);r._s.set(e,S);const M=(r._a&&r._a.runWithContext||e1)(()=>r._e.run(()=>(o=a0()).run(()=>t({action:x}))));for(const T in M){const k=M[T];if(Zt(k)&&!i1(k)||zr(k))s||(p&&r1(k)&&(Zt(k)?k.value=p[T]:lf(k,p[T])),r.state.value[e][T]=k);else if(typeof k=="function"){const R=x(k,T);M[T]=R,a.actions[T]=k}}return Ar(S,M),Ar(St(S),M),Object.defineProperty(S,"$state",{get:()=>r.state.value[e],set:T=>{g(k=>{Ar(k,T)})}}),r._p.forEach(T=>{Ar(S,o.run(()=>T({store:S,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(S.$state,p),c=!0,u=!0,S}/*! #__NO_SIDE_EFFECTS__ */function mx(e,t,n){let r;const i=typeof t=="function";r=i?n:t;function s(o,a){const l=qk();return o=o||(l?un(hx,null):null),o&&Cc(o),o=fx,o._s.has(e)||(i?px(e,t,r,o):s1(e,r,o)),o._s.get(e)}return s.$id=e,s}function o1(){try{return"constructor"in GestureEvent}catch{return!1}}function gx(){return typeof window<"u"&&"ontouchstart"in window}function yx(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function Vh(e){return Array.from(yx(e)).map(t=>t.identifier)}function rn(e){const t="buttons"in e?e.buttons:0,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=e;return{buttons:t,shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}}const _a=e=>e;function as(e,t=_a){const n=yx(e),{clientX:r,clientY:i}=n?n[0]:e;return t([r,i])}function qp(e,t,n=_a){const[r,i]=Array.from(e.touches).filter(d=>t.includes(d.identifier));if(!r||!i)throw Error("The event doesn't have two pointers matching the pointerIds");const s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=(i.clientX+r.clientX)/2,l=(i.clientY+r.clientY)/2,c=Math.hypot(s,o),u=-(Math.atan2(s,o)*180)/Math.PI,f=n([c,u]),h=n([a,l]);return{values:f,origin:h}}function a1(e,t=_a){const{scrollX:n,scrollY:r,scrollLeft:i,scrollTop:s}=e.currentTarget;return t([n||i||0,r||s||0])}const Xp=40,Qp=800;function vx(e,t=_a){let{deltaX:n,deltaY:r,deltaMode:i}=e;return i===1?(n*=Xp,r*=Xp):i===2&&(n*=Qp,r*=Qp),t([n,r])}function Zp(e,t=_a){return t([e.scale,e.rotation])}function xx(){}function bx(...e){return e.length===0?xx:e.length===1?e[0]:function(){var t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function Fr(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function tm(e,t){return Object.assign({},t,e||{})}function Ml(e,...t){return typeof e=="function"?e(...t):e}function ao(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:xx,canceled:!1,memo:void 0,args:void 0,...e}}function cf(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=ao({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=ao({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=ao({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=ao({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=ao({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:n,wheel:r,move:i,scroll:s}}var l1=Object.defineProperty,c1=(e,t,n)=>t in e?l1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ke=(e,t,n)=>(c1(e,typeof t!="symbol"?t+"":t,n),n);class u1{constructor(t){this.classes=t,Ke(this,"nativeRefs"),Ke(this,"config"),Ke(this,"handlers"),Ke(this,"state"),Ke(this,"timeouts"),Ke(this,"domListeners"),Ke(this,"windowListeners"),Ke(this,"pointerIds",new Set),Ke(this,"touchIds",new Set),Ke(this,"supportsTouchEvents",gx()),Ke(this,"supportsGestureEvents",o1()),Ke(this,"bind",(...n)=>{const r={};for(let i of this.classes)new i(this,n).addBindings(r);for(let i in this.nativeRefs)Jt(r,i,s=>this.nativeRefs[i]({...this.state.shared,event:s,args:n}));return this.config.domTarget?p1(this,r):m1(this,r)}),Ke(this,"clean",()=>{const{eventOptions:n,domTarget:r}=this.config,i=ct(r);i&&wa(i,Sx(this.domListeners),n),Object.values(this.timeouts).forEach(clearTimeout),f1(this)}),Ke(this,"reset",()=>{this.state=cf()}),this.classes=t,this.state=cf(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function _x(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(Vh(t))}function wx(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):Vh(t).forEach(n=>e.touchIds.delete(n))}function f1(e){const{config:{window:t,eventOptions:n},windowListeners:r}=e,i=ct(t);if(i){for(let s in r){const o=r[s];wa(i,o,n)}e.windowListeners={}}}function h1({config:e,windowListeners:t},n,r=e.eventOptions){const i=ct(e.window);i&&(wa(i,t[n],r),delete t[n])}function d1({config:e,windowListeners:t},n,r=[],i=e.eventOptions){const s=ct(e.window);s&&(wa(s,t[n],i),Tx(s,t[n]=r,i))}function p1({config:e,domListeners:t},n){const{eventOptions:r,domTarget:i}=e,s=ct(i);if(!s)throw new Error("domTarget must be defined");wa(s,Sx(t),r);for(let[o,a]of Object.entries(n)){const l=o.slice(2).toLowerCase();t.push([l,bx(...a)])}Tx(s,t,r)}function m1({config:e},t){const n={},r=e.eventOptions.capture?"Capture":"";for(let[i,s]of Object.entries(t)){const o=Array.isArray(s)?s:[s],a=i+r;n[a]=bx(...o)}return n}function Sx(e=[]){return e.splice(0,e.length)}function Jt(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function Tx(e,t=[],n={}){if(e)for(let[r,i]of t)e.addEventListener(r,i,n)}function wa(e,t=[],n={}){if(e)for(let[r,i]of t)e.removeEventListener(r,i,n)}function Pl(e,t){return e.map((n,r)=>n+t[r])}function Wh(e,t){return e.map((n,r)=>n-t[r])}function Xo(e){return Math.hypot(...e)}function kx(e,t=e){const n=Xo(t),r=n===0?0:1/n,i=t.map(o=>r*o);return{distance:Xo(e),direction:i}}function Cx(e,t,n){const r=Xo(t),i=r===0?0:1/r,s=n===0?0:1/n,o=s*r,a=t.map(u=>s*u),l=t.map(u=>i*u),c=Xo(e);return{velocities:a,velocity:o,distance:c,direction:l}}function Al(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function g1(e,t,n){return Math.max(t,Math.min(e,n))}function y1(e,t){return Math.pow(e,t*5)}function em(e,t,n){return t===0||Math.abs(t)===1/0?y1(e,n):e*t*n/(t+n*e)}function nm(e,t,n,r=.15){return r===0?g1(e,t,n):e<t?-em(t-e,n-t,r)+t:e>n?+em(e-n,n-t,r)+n:e}var v1=Object.defineProperty,x1=(e,t,n)=>t in e?v1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wa=(e,t,n)=>(x1(e,typeof t!="symbol"?t+"":t,n),n);const sn=new Map,b1=e=>e;class Ex{constructor(t,n=[]){this.controller=t,this.args=n,Wa(this,"debounced",!0),Wa(this,"setTimeout",(r,i=140,...s)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(r,i,...s)}),Wa(this,"clearTimeout",()=>{clearTimeout(this.controller.timeouts[this.stateKey])}),Wa(this,"fireGestureHandler",(r=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!r&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const l=this.state.active,c=this.state._active;this.state.active=c,this.state.first=c&&!l,this.state.last=l&&!c,this.controller.state.shared[this.ingKey]=c}const i=this.controller.pointerIds.size||this.controller.touchIds.size,s=this.controller.state.shared.buttons>0||i>0,o={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:i,down:s},a=this.handler(o);return this.state.memo=a!==void 0?a:this.state.memo,o}),this.controller=t,this.args=n}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||b1}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,n){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:n,threshold:r}=this.config,{_bounds:i,_initial:s,_active:o,_intentional:a,lastOffset:l,movement:c}=this.state,u=this.getInternalMovement(t,this.state),f=this.transform(r).map(Math.abs),h=a[0]===!1?rm(u[0],f[0]):a[0],d=a[1]===!1?rm(u[1],f[1]):a[1],p=this.checkIntentionality([h,d],u);if(p._blocked)return{...p,_movement:u,delta:[0,0]};const m=p._intentional,g=u;let y=[m[0]!==!1?u[0]-m[0]:0,m[1]!==!1?u[1]-m[1]:0];const v=Pl(y,l),x=o?n:[0,0];return y=im(i,Pl(y,s),x),{...p,intentional:m[0]!==!1||m[1]!==!1,_initial:s,_movement:g,movement:y,values:t,offset:im(i,v,x),delta:Wh(y,c)}}clean(){this.clearTimeout()}}function rm(e,t){return Math.abs(e)>=t?Al(e)*t:!1}function im(e,[t,n],[r,i]){const[[s,o],[a,l]]=e;return[nm(t,s,o,r),nm(n,a,l,i)]}function ae({state:e},t,n){const{timeStamp:r,type:i}=t,s=e.values,o=n?0:r-e.startTime;return{_lastEventType:i,event:t,timeStamp:r,elapsedTime:o,previous:s}}function gi({state:e,config:t,stateKey:n,args:r},i,s){const o=e.offset,a=s.timeStamp,{initial:l,bounds:c}=t,u={...cf()[n],_active:!0,args:r,values:i,initial:i,offset:o,lastOffset:o,startTime:a};return{...u,_initial:Ml(l,u),_bounds:Ml(c,u)}}class Ec extends Ex{getInternalMovement(t,n){return Wh(t,n.initial)}checkIntentionality(t,n){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[r,i]=n.map(Math.abs),s=this.state.axis||(r>i?"x":r<i?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:s}:s?this.config.axis&&s!==this.config.axis?{_intentional:t,_blocked:!0,axis:s}:(t[s==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:s}):{_intentional:[!1,!1],_blocked:!1,axis:s}}getKinematics(t,n){const r=this.getMovement(t);if(!r._blocked){const i=n.timeStamp-this.state.timeStamp;Object.assign(r,Cx(r.movement,r.delta,i))}return r}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}var _1=Object.defineProperty,w1=(e,t,n)=>t in e?_1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t,n)=>(w1(e,typeof t!="symbol"?t+"":t,n),n);const S1=3;function sm(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class T1 extends Ec{constructor(){super(...arguments),_e(this,"ingKey","dragging"),_e(this,"stateKey","drag"),_e(this,"setPointerCapture",t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:n,pointerId:r}=t;n&&"setPointerCapture"in n&&n.setPointerCapture(r),this.updateGestureState({_dragTarget:n,_dragPointerId:r})}),_e(this,"releasePointerCapture",()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:n}=this.state;if(n&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(n)))try{t.releasePointerCapture(n)}catch{}}),_e(this,"preventScroll",t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()}),_e(this,"getEventId",t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId),_e(this,"isValidEvent",t=>this.state._pointerId===this.getEventId(t)),_e(this,"shouldPreventWindowScrollY",this.config.preventWindowScrollY&&this.controller.supportsTouchEvents),_e(this,"setUpWindowScrollDetection",t=>{sm(t),d1(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)}),_e(this,"setUpDelayedDragTrigger",t=>{this.state._dragDelayed=!0,sm(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)}),_e(this,"setStartState",t=>{const n=as(t,this.transform);this.updateSharedState(rn(t)),this.updateGestureState({...gi(this,n,t),...ae(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(n))}),_e(this,"onDragStart",t=>{_x(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))}),_e(this,"onDragChange",t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let n;if(document.pointerLockElement){const{movementX:l,movementY:c}=t;n=Pl(this.transform([l,c]),this.state.values)}else n=as(t,this.transform);const r=this.getKinematics(n,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&r.axis)if(r.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const i=rn(t);this.updateSharedState(i);const s=ae(this,t),o=Xo(r._movement);let{_dragIsTap:a}=this.state;a&&o>=S1&&(a=!1),this.updateGestureState({...s,...r,_dragIsTap:a}),this.fireGestureHandler()}),_e(this,"onDragEnd",t=>{if(wx(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const n=this.state._dragIsTap,[r,i]=this.state.velocities,[s,o]=this.state.movement,[a,l]=this.state._intentional,[c,u]=this.config.swipeVelocity,[f,h]=this.config.swipeDistance,d=this.config.swipeDuration,p={...ae(this,t),...this.getMovement(this.state.values)},m=[0,0];p.elapsedTime<d&&(a!==!1&&Math.abs(r)>c&&Math.abs(s)>f&&(m[0]=Al(r)),l!==!1&&Math.abs(i)>u&&Math.abs(o)>h&&(m[1]=Al(i))),this.updateSharedState({buttons:0}),this.updateGestureState({...p,tap:n,swipe:m}),this.fireGestureHandler(this.config.filterTaps&&n===!0)}),_e(this,"clean",()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),h1(this.controller,this.stateKey)}),_e(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),bc(this.fireGestureHandler))}),_e(this,"onClick",t=>{this.state._dragIsTap||t.stopPropagation()})}startDrag(t,n=!1){!this.state._active||this.state._dragStarted||(n||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(Jt(t,"onTouchStart",this.onDragStart),Jt(t,"onTouchMove",this.onDragChange),Jt(t,"onTouchEnd",this.onDragEnd),Jt(t,"onTouchCancel",this.onDragEnd)):(Jt(t,"onPointerDown",this.onDragStart),Jt(t,"onPointerMove",this.onDragChange),Jt(t,"onPointerUp",this.onDragEnd),Jt(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const n=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Jt(t,n,this.onClick)}}}function Bs(e,t){let n,r=[],i,s=!1;function o(...a){return s&&n===this&&t(a,r)||(i=e.apply(this,a),s=!0,n=this,r=a),i}return o}function ol(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r,i;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ol(e[r],t[r]))return!1;return!0}let s;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!ol(r.value[1],t.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&e.$$typeof)&&!ol(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}function Vs(e,t){try{return ol(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function Sa(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=Sa(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}const k1=180,C1=.15,E1=.5,M1=50,P1=250,Mx={threshold(e=0){return Fr(e)},rubberband(e=0){switch(e){case!0:return Fr(C1);case!1:return Fr(0);default:return Fr(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:Fr(e)},transform:!0},jh={...Mx,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return s=>jh.bounds(e(s));const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}},A1=typeof window<"u"&&window.document&&window.document.createElement,O1={enabled(e=!0){return e},domTarget:!0,window(e=A1?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},N1={...Mx,bounds(e,t,{distanceBounds:n={},angleBounds:r={}}){const i=o=>{const a=tm(Ml(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=tm(Ml(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]}},D1={...jh,useTouch(e=!0){return e&&gx()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:n=!1,lockDirection:r=!1,axis:i=void 0}){const s=Fr(e,n?3:r||i?1:0);return this.filterTaps=n,s},swipeVelocity(e=E1){return Fr(e)},swipeDistance(e=M1){return Fr(e)},swipeDuration(e=P1){return e},delay(e=0){switch(e){case!0:return k1;case!1:return 0;default:return e}}};function Ws(e){return Sa(e,O1)}function zh(e={}){return Sa(e,jh)}function I1(e={}){return Sa(e,N1)}function R1(e={}){return Sa(e,D1)}function L1({domTarget:e,eventOptions:t,window:n,enabled:r,...i}){const s=Ws({domTarget:e,eventOptions:t,window:n,enabled:r});return s.move=zh(i),s}function F1({domTarget:e,eventOptions:t,window:n,enabled:r,...i}){const s=Ws({domTarget:e,eventOptions:t,window:n,enabled:r});return s.hover={enabled:!0,...i},s}function $1({domTarget:e,eventOptions:t,window:n,enabled:r,...i}){const s=Ws({domTarget:e,eventOptions:t,window:n,enabled:r});return s.drag=R1(i),s}function B1({domTarget:e,eventOptions:t,window:n,enabled:r,...i}){const s=Ws({domTarget:e,eventOptions:t,window:n,enabled:r});return s.pinch=I1(i),s}function V1({domTarget:e,eventOptions:t,window:n,enabled:r,...i}){const s=Ws({domTarget:e,eventOptions:t,window:n,enabled:r});return s.scroll=zh(i),s}function W1({domTarget:e,eventOptions:t,window:n,enabled:r,...i}){const s=Ws({domTarget:e,eventOptions:t,window:n,enabled:r});return s.wheel=zh(i),s}function js(e,t,n={}){const r=j1(e),i=new u1(r);return i.config=t,i.handlers=e,i.nativeRefs=n,Tc()&&!t.manual&&($s(i.bind),zi(i.clean)),i}function j1(e){const t=new Set;return e.drag&&t.add(sn.get("drag")),e.wheel&&t.add(sn.get("wheel")),e.scroll&&t.add(sn.get("scroll")),e.move&&t.add(sn.get("move")),e.pinch&&t.add(sn.get("pinch")),e.hover&&t.add(sn.get("hover")),t}function z1(e,t={}){sn.set("drag",T1);const n=wt();return n.value||(n.value=Bs($1,Vs)),js({drag:e},n.value(t))}var K1=Object.defineProperty,G1=(e,t,n)=>t in e?K1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dn=(e,t,n)=>(G1(e,typeof t!="symbol"?t+"":t,n),n);class Px extends Ec{constructor(){super(...arguments),Dn(this,"ingKey","moving"),Dn(this,"stateKey","move"),Dn(this,"debounced",!0),Dn(this,"onMove",t=>{this.enabled&&(this.setTimeout(this.onMoveEnd),this.state._active?this.onMoveChange(t):this.onMoveStart(t))}),Dn(this,"onMoveStart",t=>{this.updateSharedState(rn(t));const n=as(t,this.transform);this.updateGestureState({...gi(this,n,t),...ae(this,t,!0)}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),Dn(this,"onMoveChange",t=>{this.updateSharedState(rn(t));const n=as(t,this.transform);this.updateGestureState({...ae(this,t),...this.getKinematics(n,t)}),this.fireGestureHandler()}),Dn(this,"onMoveEnd",()=>{if(this.clean(),!this.state._active)return;const t=this.state.values;this.updateGestureState(this.getMovement(t)),this.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),this.fireGestureHandler()}),Dn(this,"hoverTransform",()=>this.controller.config.hover.transform||this.controller.config.transform),Dn(this,"onPointerEnter",t=>{if(this.controller.state.shared.hovering=!0,!!this.controller.config.enabled){if(this.controller.config.hover.enabled){const n=as(t,this.hoverTransform()),r={...this.controller.state.shared,...this.state,...ae(this,t,!0),args:this.args,values:n,active:!0,hovering:!0};this.controller.handlers.hover({...r,...this.mapStateValues(r)})}"move"in this.controller.handlers&&this.onMoveStart(t)}}),Dn(this,"onPointerLeave",t=>{if(this.controller.state.shared.hovering=!1,"move"in this.controller.handlers&&this.onMoveEnd(),!this.controller.config.hover.enabled)return;const n=as(t,this.hoverTransform()),r={...this.controller.state.shared,...this.state,...ae(this,t),args:this.args,values:n,active:!1};this.controller.handlers.hover({...r,...this.mapStateValues(r)})})}addBindings(t){"move"in this.controller.handlers&&Jt(t,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(Jt(t,"onPointerEnter",this.onPointerEnter),Jt(t,"onPointerLeave",this.onPointerLeave))}}class H1 extends Ex{getInternalMovement(t,n){const r=n.values[1];let[i,s=r]=t,o=s-r,a=n.turns;return Math.abs(o)>270&&(a+=Al(o)),Wh([i,s-360*a],n.initial)}getKinematics(t,n){const r=this.getMovement(t),i=(t[1]-r._movement[1]-this.state.initial[1])/360,s=n.timeStamp-this.state.timeStamp,{distance:o,velocity:a,...l}=Cx(r.movement,r.delta,s);return{turns:i,...r,...l}}mapStateValues(t){return{da:t.values,vdva:t.velocities}}}var U1=Object.defineProperty,Y1=(e,t,n)=>t in e?U1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t,n)=>(Y1(e,typeof t!="symbol"?t+"":t,n),n);const J1=7,q1=260;class X1 extends H1{constructor(){super(...arguments),Le(this,"ingKey","pinching"),Le(this,"stateKey","pinch"),Le(this,"onPinchStart",t=>{_x(this.controller,t);const n=this.controller.touchIds;if(!this.enabled||this.state._active&&this.state._pointerIds.every(o=>n.has(o))||n.size<2)return;const r=Array.from(n).slice(0,2),{values:i,origin:s}=qp(t,r,this.transform);this.updateSharedState(rn(t)),this.updateGestureState({...gi(this,i,t),...ae(this,t,!0),_pointerIds:r,cancel:this.onCancel,origin:s}),this.updateGestureState(this.getMovement(i)),this.fireGestureHandler()}),Le(this,"onPinchChange",t=>{const{canceled:n,_active:r}=this.state;if(n||!r||t.timeStamp===this.state.timeStamp)return;const i=rn(t);this.updateSharedState(i);try{const{values:s,origin:o}=qp(t,this.state._pointerIds,this.transform),a=this.getKinematics(s,t);this.updateGestureState({...ae(this,t),...a,origin:o}),this.fireGestureHandler()}catch{this.onPinchEnd(t)}}),Le(this,"onPinchEnd",t=>{wx(this.controller,t);const n=Vh(t);this.state._pointerIds.every(r=>!n.includes(r))||(this.clean(),this.state._active&&(this.updateGestureState({...ae(this,t),...this.getMovement(this.state.values),_active:!1}),this.fireGestureHandler()))}),Le(this,"onCancel",()=>{this.state.canceled||(this.updateGestureState({_active:!1,canceled:!0}),this.fireGestureHandler())}),Le(this,"onGestureStart",t=>{if(!this.enabled)return;t.preventDefault();const n=Zp(t,this.transform);this.updateSharedState(rn(t)),this.updateGestureState({...gi(this,n,t),...ae(this,t,!0),origin:[t.clientX,t.clientY],cancel:this.onCancel}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),Le(this,"onGestureChange",t=>{const{canceled:n,_active:r}=this.state;if(n||!r)return;t.preventDefault();const i=rn(t);this.updateSharedState(i);const s=Zp(t,this.transform);s[0]=(s[0]-this.state.event.scale)*q1+this.state.values[0];const o=this.getKinematics(s,t);this.updateGestureState({...ae(this,t),...o,origin:[t.clientX,t.clientY]}),this.fireGestureHandler()}),Le(this,"onGestureEnd",t=>{this.clean(),this.state._active&&(this.updateGestureState({...ae(this,t),...this.getMovement(this.state.values),_active:!1,origin:[t.clientX,t.clientY]}),this.fireGestureHandler())}),Le(this,"wheelShouldRun",t=>this.enabled&&t.ctrlKey),Le(this,"getWheelValuesFromEvent",t=>{const[,n]=vx(t,this.transform),{values:[r,i]}=this.state;return{values:[r-n*J1,i!==void 0?i:0],origin:[t.clientX,t.clientY],delta:[0,n]}}),Le(this,"onWheel",t=>{this.wheelShouldRun(t)&&(this.setTimeout(this.onWheelEnd),this.state._active?this.onWheelChange(t):this.onWheelStart(t))}),Le(this,"onWheelStart",t=>{const{values:n,delta:r,origin:i}=this.getWheelValuesFromEvent(t);t.cancelable&&t.preventDefault(),this.updateSharedState(rn(t)),this.updateGestureState({...gi(this,n,t),...ae(this,t,!0),initial:this.state.values,offset:n,delta:r,origin:i}),this.updateGestureState(this.getMovement(n)),this.fireGestureHandler()}),Le(this,"onWheelChange",t=>{t.cancelable&&t.preventDefault(),this.updateSharedState(rn(t));const{values:n,origin:r,delta:i}=this.getWheelValuesFromEvent(t);this.updateGestureState({...ae(this,t),...this.getKinematics(n,t),origin:r,delta:i}),this.fireGestureHandler()}),Le(this,"onWheelEnd",()=>{this.clean(),this.state._active&&(this.state._active=!1,this.updateGestureState(this.getMovement(this.state.values)),this.fireGestureHandler())})}addBindings(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(Jt(t,"onGestureStart",this.onGestureStart),Jt(t,"onGestureChange",this.onGestureChange),Jt(t,"onGestureEnd",this.onGestureEnd)):(Jt(t,"onTouchStart",this.onPinchStart),Jt(t,"onTouchMove",this.onPinchChange),Jt(t,"onTouchEnd",this.onPinchEnd),Jt(t,"onTouchCancel",this.onPinchEnd),Jt(t,"onWheel",this.onWheel))}}var Q1=Object.defineProperty,Z1=(e,t,n)=>t in e?Q1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lo=(e,t,n)=>(Z1(e,typeof t!="symbol"?t+"":t,n),n);class tE extends Ec{constructor(){super(...arguments),lo(this,"ingKey","scrolling"),lo(this,"stateKey","scroll"),lo(this,"debounced",!0),lo(this,"handleEvent",t=>{if(!this.enabled)return;this.clearTimeout(),this.setTimeout(this.onEnd);const n=a1(t,this.transform);if(this.updateSharedState(rn(t)),this.state._active)this.updateGestureState({...ae(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...gi(this,n,t),...ae(this,t,!0),initial:this.state.values});const r=this.getMovement(n),i=kx(r.delta);this.updateGestureState(r),this.updateGestureState(i)}this.fireGestureHandler()}),lo(this,"onEnd",()=>{this.clean(),this.state._active&&(this.updateGestureState({...this.getMovement(this.state.values),_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler())})}addBindings(t){Jt(t,"onScroll",this.handleEvent)}}var eE=Object.defineProperty,nE=(e,t,n)=>t in e?eE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,co=(e,t,n)=>(nE(e,typeof t!="symbol"?t+"":t,n),n);class rE extends Ec{constructor(){super(...arguments),co(this,"ingKey","wheeling"),co(this,"stateKey","wheel"),co(this,"debounced",!0),co(this,"handleEvent",t=>{if(t.ctrlKey&&"pinch"in this.controller.handlers||!this.enabled)return;this.setTimeout(this.onEnd),this.updateSharedState(rn(t));const n=Pl(vx(t,this.transform),this.state.values);if(this.state._active)this.updateGestureState({...ae(this,t),...this.getKinematics(n,t)});else{this.updateGestureState({...gi(this,n,t),...ae(this,t,!0),initial:this.state.values});const r=this.getMovement(n),i=kx(r.delta);this.updateGestureState(r),this.updateGestureState(i)}this.fireGestureHandler()}),co(this,"onEnd",()=>{if(this.clean(),!this.state._active)return;const t=this.getMovement(this.state.values);this.updateGestureState(t),this.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),this.fireGestureHandler()})}addBindings(t){Jt(t,"onWheel",this.handleEvent)}}function iE(e,t={}){sn.set("hover",Px);const n=wt();return n.value||(n.value=Bs(F1,Vs)),js({hover:e},n.value(t))}function sE(e,t={}){sn.set("move",Px);const n=wt();return n.value||(n.value=Bs(L1,Vs)),js({move:e},n.value(t))}function oE(e,t={}){sn.set("pinch",X1);const n=wt();return n.value||(n.value=Bs(B1,Vs)),js({pinch:e},n.value(t))}function aE(e,t={}){sn.set("scroll",tE);const n=wt();return n.value||(n.value=Bs(V1,Vs)),js({scroll:e},n.value(t))}function lE(e,t={}){sn.set("wheel",rE);const n=wt();return n.value||(n.value=Bs(W1,Vs)),js({wheel:e},n.value(t))}const zs=(e,t)=>({created:e,unmounted:t,bind:e,unbind:t}),Ks=e=>`Your v-${e} directive must have a handler specified as a value`,cE=()=>zs((n,r,i)=>{if(!r.value)throw new Error(Ks("drag"));n.gestures||(n.gestures={});const s=z1(r.value,{domTarget:n,manual:!0});s.bind(),n.gestures.drag=s},(n,r,i)=>{!n.gestures||!n.gestures.drag||n.gestures.drag.clean()}),uE=()=>zs((n,r,i)=>{if(!r.value)throw new Error(Ks("move"));n.gestures||(n.gestures={});const s=sE(r.value,{domTarget:n,manual:!0});s.bind(),n.gestures.move=s},(n,r,i)=>{!n.gestures||!n.gestures.move||n.gestures.move.clean()}),fE=()=>zs((n,r,i)=>{if(!r.value)throw new Error(Ks("hover"));n.gestures||(n.gestures={});const s=iE(r.value,{domTarget:n,manual:!0});s.bind(),n.gestures.hover=s},(n,r,i)=>{!n.gestures||!n.gestures.hover||n.gestures.hover.clean()}),hE=()=>zs((n,r,i)=>{if(!r.value)throw new Error(Ks("pinch"));n.gestures||(n.gestures={});const s=oE(r.value,{domTarget:n,manual:!0});s.bind(),n.gestures.pinch=s},(n,r,i)=>{!n.gestures||!n.gestures.pinch||n.gestures.pinch.clean()}),dE=()=>zs((n,r,i)=>{if(!r.value)throw new Error(Ks("wheel"));n.gestures||(n.gestures={});const s=lE(r.value,{domTarget:n,manual:!0});s.bind(),n.gestures.wheel=s},(n,r,i)=>{!n.gestures||!n.gestures.wheel||n.gestures.wheel.clean()}),pE=()=>zs((n,r,i)=>{if(!r.value)throw new Error(Ks("scroll"));n.gestures||(n.gestures={});const s=aE(r.value,{domTarget:n,manual:!0});s.bind(),n.gestures.drag=s},(n,r,i)=>{!n.gestures||!n.gestures.drag||n.gestures.drag.clean()}),mE={install(e,t){Object.entries({drag:cE,hover:fE,move:uE,pinch:hE,scroll:pE,wheel:dE}).forEach(([r,i])=>e.directive(r,i()))}},Kh=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},gE={},yE={class:"font-[Roboto]"};function vE(e,t){const n=Lk("RouterView");return gt(),Tt("div",yE,[qt(n)])}const xE=Kh(gE,[["render",vE]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const es=typeof document<"u";function Ax(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function bE(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ax(e.default)}const kt=Object.assign;function ou(e,t){const n={};for(const r in t){const i=t[r];n[r]=wn(i)?i.map(e):e(i)}return n}const Ao=()=>{},wn=Array.isArray,Ox=/#/g,_E=/&/g,wE=/\//g,SE=/=/g,TE=/\?/g,Nx=/\+/g,kE=/%5B/g,CE=/%5D/g,Dx=/%5E/g,EE=/%60/g,Ix=/%7B/g,ME=/%7C/g,Rx=/%7D/g,PE=/%20/g;function Gh(e){return encodeURI(""+e).replace(ME,"|").replace(kE,"[").replace(CE,"]")}function AE(e){return Gh(e).replace(Ix,"{").replace(Rx,"}").replace(Dx,"^")}function uf(e){return Gh(e).replace(Nx,"%2B").replace(PE,"+").replace(Ox,"%23").replace(_E,"%26").replace(EE,"`").replace(Ix,"{").replace(Rx,"}").replace(Dx,"^")}function OE(e){return uf(e).replace(SE,"%3D")}function NE(e){return Gh(e).replace(Ox,"%23").replace(TE,"%3F")}function DE(e){return e==null?"":NE(e).replace(wE,"%2F")}function Qo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const IE=/\/$/,RE=e=>e.replace(IE,"");function au(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=BE(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Qo(o)}}function LE(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function om(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function FE(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Cs(t.matched[r],n.matched[i])&&Lx(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Cs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lx(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!$E(e[n],t[n]))return!1;return!0}function $E(e,t){return wn(e)?am(e,t):wn(t)?am(t,e):e===t}function am(e,t){return wn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function BE(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Mr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zo;(function(e){e.pop="pop",e.push="push"})(Zo||(Zo={}));var Oo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Oo||(Oo={}));function VE(e){if(!e)if(es){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),RE(e)}const WE=/^[^#]+#/;function jE(e,t){return e.replace(WE,"#")+t}function zE(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Mc=()=>({left:window.scrollX,top:window.scrollY});function KE(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=zE(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lm(e,t){return(history.state?history.state.position-t:-1)+e}const ff=new Map;function GE(e,t){ff.set(e,t)}function HE(e){const t=ff.get(e);return ff.delete(e),t}let UE=()=>location.protocol+"//"+location.host;function Fx(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),om(l,"")}return om(n,e)+r+i}function YE(e,t,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const d=Fx(e,location),p=n.value,m=t.value;let g=0;if(h){if(n.value=d,t.value=h,o&&o===p){o=null;return}g=m?h.position-m.position:0}else r(d);i.forEach(y=>{y(n.value,p,{delta:g,type:Zo.pop,direction:g?g>0?Oo.forward:Oo.back:Oo.unknown})})};function l(){o=n.value}function c(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return s.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(kt({},h.state,{scroll:Mc()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function cm(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Mc():null}}function JE(e){const{history:t,location:n}=window,r={value:Fx(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:UE()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function o(l,c){const u=kt({},t.state,cm(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,c){const u=kt({},i.value,t.state,{forward:l,scroll:Mc()});s(u.current,u,!0);const f=kt({},cm(r.value,l,null),{position:u.position+1},c);s(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function qE(e){e=VE(e);const t=JE(e),n=YE(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=kt({location:"",base:e,go:r,createHref:jE.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function XE(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),qE(e)}function QE(e){return typeof e=="string"||e&&typeof e=="object"}function $x(e){return typeof e=="string"||typeof e=="symbol"}const Bx=Symbol("");var um;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(um||(um={}));function Es(e,t){return kt(new Error,{type:e,[Bx]:!0},t)}function ir(e,t){return e instanceof Error&&Bx in e&&(t==null||!!(e.type&t))}const fm="[^/]+?",ZE={sensitive:!1,strict:!1,start:!0,end:!0},tM=/[.+*?^${}()[\]/\\]/g;function eM(e,t){const n=kt({},ZE,t),r=[];let i=n.start?"^":"";const s=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(tM,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:m,optional:g,regexp:y}=h;s.push({name:p,repeatable:m,optional:g});const v=y||fm;if(v!==fm){d+=10;try{new RegExp(`(${v})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+w.message)}}let x=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(x=g&&c.length<2?`(?:/${x})`:"/"+x),g&&(x+="?"),i+=x,d+=20,g&&(d+=-8),m&&(d+=-20),v===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",p=s[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function l(c){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:g}=d,y=p in c?c[p]:"";if(wn(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=wn(y)?y.join("/"):y;if(!v)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function nM(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Vx(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=nM(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(hm(r))return 1;if(hm(i))return-1}return i.length-r.length}function hm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const rM={type:0,value:""},iM=/[a-zA-Z0-9_]/;function sM(e){if(!e)return[[]];if(e==="/")return[[rM]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function f(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:iM.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function oM(e,t,n){const r=eM(sM(e.path),n),i=kt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function aM(e,t){const n=[],r=new Map;t=gm({strict:!1,end:!0,sensitive:!1},t);function i(f){return r.get(f)}function s(f,h,d){const p=!d,m=pm(f);m.aliasOf=d&&d.record;const g=gm(t,f),y=[m];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const S of w)y.push(pm(kt({},m,{components:d?d.record.components:m.components,path:S,aliasOf:d?d.record:m})))}let v,x;for(const w of y){const{path:S}=w;if(h&&S[0]!=="/"){const C=h.record.path,M=C[C.length-1]==="/"?"":"/";w.path=h.record.path+(S&&M+S)}if(v=oM(w,h,g),d?d.alias.push(v):(x=x||v,x!==v&&x.alias.push(v),p&&f.name&&!mm(v)&&o(f.name)),Wx(v)&&l(v),m.children){const C=m.children;for(let M=0;M<C.length;M++)s(C[M],v,d&&d.children[M])}d=d||v}return x?()=>{o(x)}:Ao}function o(f){if($x(f)){const h=r.get(f);h&&(r.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=uM(f,n);n.splice(h,0,f),f.record.name&&!mm(f)&&r.set(f.record.name,f)}function c(f,h){let d,p={},m,g;if("name"in f&&f.name){if(d=r.get(f.name),!d)throw Es(1,{location:f});g=d.record.name,p=kt(dm(h.params,d.keys.filter(x=>!x.optional).concat(d.parent?d.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&dm(f.params,d.keys.map(x=>x.name))),m=d.stringify(p)}else if(f.path!=null)m=f.path,d=n.find(x=>x.re.test(m)),d&&(p=d.parse(m),g=d.record.name);else{if(d=h.name?r.get(h.name):n.find(x=>x.re.test(h.path)),!d)throw Es(1,{location:f,currentLocation:h});g=d.record.name,p=kt({},h.params,f.params),m=d.stringify(p)}const y=[];let v=d;for(;v;)y.unshift(v.record),v=v.parent;return{name:g,path:m,params:p,matched:y,meta:cM(y)}}e.forEach(f=>s(f));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function dm(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function pm(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:lM(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function lM(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function mm(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function cM(e){return e.reduce((t,n)=>kt(t,n.meta),{})}function gm(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function uM(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;Vx(e,t[s])<0?r=s:n=s+1}const i=fM(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function fM(e){let t=e;for(;t=t.parent;)if(Wx(t)&&Vx(e,t)===0)return t}function Wx({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function hM(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Nx," "),o=s.indexOf("="),a=Qo(o<0?s:s.slice(0,o)),l=o<0?null:Qo(s.slice(o+1));if(a in t){let c=t[a];wn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function ym(e){let t="";for(let n in e){const r=e[n];if(n=OE(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(wn(r)?r.map(s=>s&&uf(s)):[r&&uf(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function dM(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=wn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const pM=Symbol(""),vm=Symbol(""),Hh=Symbol(""),jx=Symbol(""),hf=Symbol("");function uo(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Rr(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Es(4,{from:n,to:t})):h instanceof Error?l(h):QE(h)?l(Es(2,{from:t,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=s(()=>e.call(r&&r.instances[i],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function lu(e,t,n,r,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Ax(l)){const u=(l.__vccOpts||l)[t];u&&s.push(Rr(u,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=bE(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const d=(f.__vccOpts||f)[t];return d&&Rr(d,n,r,o,a,i)()}))}}return s}function xm(e){const t=un(Hh),n=un(jx),r=Mt(()=>{const l=ct(e.to);return t.resolve(l)}),i=Mt(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Cs.bind(null,u));if(h>-1)return h;const d=bm(l[c-2]);return c>1&&bm(u)===d&&f[f.length-1].path!==d?f.findIndex(Cs.bind(null,l[c-2])):h}),s=Mt(()=>i.value>-1&&vM(n.params,r.value.params)),o=Mt(()=>i.value>-1&&i.value===n.matched.length-1&&Lx(n.params,r.value.params));function a(l={}){if(yM(l)){const c=t[ct(e.replace)?"replace":"push"](ct(e.to)).catch(Ao);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Mt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function mM(e){return e.length===1?e[0]:e}const gM=kn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:xm,setup(e,{slots:t}){const n=va(xm(e)),{options:r}=un(Hh),i=Mt(()=>({[_m(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_m(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&mM(t.default(n));return e.custom?s:kc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Uh=gM;function yM(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function vM(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!wn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function bm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _m=(e,t,n)=>e??t??n,xM=kn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=un(hf),i=Mt(()=>e.route||r.value),s=un(vm,0),o=Mt(()=>{let c=ct(s);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Mt(()=>i.value.matched[o.value]);gs(vm,Mt(()=>o.value+1)),gs(pM,a),gs(hf,i);const l=wt();return Kn(()=>[l.value,a.value,e.name],([c,u,f],[h,d,p])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Cs(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,f=a.value,h=f&&f.components[u];if(!h)return wm(n.default,{Component:h,route:c});const d=f.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,g=kc(h,kt({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return wm(n.default,{Component:g,route:c})||g}}});function wm(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const bM=xM;function _M(e){const t=aM(e.routes,e),n=e.parseQuery||hM,r=e.stringifyQuery||ym,i=e.history,s=uo(),o=uo(),a=uo(),l=k0(Mr);let c=Mr;es&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ou.bind(null,A=>""+A),f=ou.bind(null,DE),h=ou.bind(null,Qo);function d(A,j){let B,Z;return $x(A)?(B=t.getRecordMatcher(A),Z=j):Z=A,t.addRoute(Z,B)}function p(A){const j=t.getRecordMatcher(A);j&&t.removeRoute(j)}function m(){return t.getRoutes().map(A=>A.record)}function g(A){return!!t.getRecordMatcher(A)}function y(A,j){if(j=kt({},j||l.value),typeof A=="string"){const E=au(n,A,j.path),O=t.resolve({path:E.path},j),D=i.createHref(E.fullPath);return kt(E,O,{params:h(O.params),hash:Qo(E.hash),redirectedFrom:void 0,href:D})}let B;if(A.path!=null)B=kt({},A,{path:au(n,A.path,j.path).path});else{const E=kt({},A.params);for(const O in E)E[O]==null&&delete E[O];B=kt({},A,{params:f(E)}),j.params=f(j.params)}const Z=t.resolve(B,j),Ft=A.hash||"";Z.params=u(h(Z.params));const b=LE(r,kt({},A,{hash:AE(Ft),path:Z.path})),_=i.createHref(b);return kt({fullPath:b,hash:Ft,query:r===ym?dM(A.query):A.query||{}},Z,{redirectedFrom:void 0,href:_})}function v(A){return typeof A=="string"?au(n,A,l.value.path):kt({},A)}function x(A,j){if(c!==A)return Es(8,{from:j,to:A})}function w(A){return M(A)}function S(A){return w(kt(v(A),{replace:!0}))}function C(A){const j=A.matched[A.matched.length-1];if(j&&j.redirect){const{redirect:B}=j;let Z=typeof B=="function"?B(A):B;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=v(Z):{path:Z},Z.params={}),kt({query:A.query,hash:A.hash,params:Z.path!=null?{}:A.params},Z)}}function M(A,j){const B=c=y(A),Z=l.value,Ft=A.state,b=A.force,_=A.replace===!0,E=C(B);if(E)return M(kt(v(E),{state:typeof E=="object"?kt({},Ft,E.state):Ft,force:b,replace:_}),j||B);const O=B;O.redirectedFrom=j;let D;return!b&&FE(r,Z,B)&&(D=Es(16,{to:O,from:Z}),q(Z,Z,!0,!1)),(D?Promise.resolve(D):R(O,Z)).catch(N=>ir(N)?ir(N,2)?N:it(N):tt(N,O,Z)).then(N=>{if(N){if(ir(N,2))return M(kt({replace:_},v(N.to),{state:typeof N.to=="object"?kt({},Ft,N.to.state):Ft,force:b}),j||O)}else N=at(O,Z,!0,_,Ft);return X(O,Z,N),N})}function T(A,j){const B=x(A,j);return B?Promise.reject(B):Promise.resolve()}function k(A){const j=te.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(A):A()}function R(A,j){let B;const[Z,Ft,b]=wM(A,j);B=lu(Z.reverse(),"beforeRouteLeave",A,j);for(const E of Z)E.leaveGuards.forEach(O=>{B.push(Rr(O,A,j))});const _=T.bind(null,A,j);return B.push(_),It(B).then(()=>{B=[];for(const E of s.list())B.push(Rr(E,A,j));return B.push(_),It(B)}).then(()=>{B=lu(Ft,"beforeRouteUpdate",A,j);for(const E of Ft)E.updateGuards.forEach(O=>{B.push(Rr(O,A,j))});return B.push(_),It(B)}).then(()=>{B=[];for(const E of b)if(E.beforeEnter)if(wn(E.beforeEnter))for(const O of E.beforeEnter)B.push(Rr(O,A,j));else B.push(Rr(E.beforeEnter,A,j));return B.push(_),It(B)}).then(()=>(A.matched.forEach(E=>E.enterCallbacks={}),B=lu(b,"beforeRouteEnter",A,j,k),B.push(_),It(B))).then(()=>{B=[];for(const E of o.list())B.push(Rr(E,A,j));return B.push(_),It(B)}).catch(E=>ir(E,8)?E:Promise.reject(E))}function X(A,j,B){a.list().forEach(Z=>k(()=>Z(A,j,B)))}function at(A,j,B,Z,Ft){const b=x(A,j);if(b)return b;const _=j===Mr,E=es?history.state:{};B&&(Z||_?i.replace(A.fullPath,kt({scroll:_&&E&&E.scroll},Ft)):i.push(A.fullPath,Ft)),l.value=A,q(A,j,B,_),it()}let nt;function pt(){nt||(nt=i.listen((A,j,B)=>{if(!oe.listening)return;const Z=y(A),Ft=C(Z);if(Ft){M(kt(Ft,{replace:!0,force:!0}),Z).catch(Ao);return}c=Z;const b=l.value;es&&GE(lm(b.fullPath,B.delta),Mc()),R(Z,b).catch(_=>ir(_,12)?_:ir(_,2)?(M(kt(v(_.to),{force:!0}),Z).then(E=>{ir(E,20)&&!B.delta&&B.type===Zo.pop&&i.go(-1,!1)}).catch(Ao),Promise.reject()):(B.delta&&i.go(-B.delta,!1),tt(_,Z,b))).then(_=>{_=_||at(Z,b,!1),_&&(B.delta&&!ir(_,8)?i.go(-B.delta,!1):B.type===Zo.pop&&ir(_,20)&&i.go(-1,!1)),X(Z,b,_)}).catch(Ao)}))}let bt=uo(),lt=uo(),H;function tt(A,j,B){it(A);const Z=lt.list();return Z.length?Z.forEach(Ft=>Ft(A,j,B)):console.error(A),Promise.reject(A)}function V(){return H&&l.value!==Mr?Promise.resolve():new Promise((A,j)=>{bt.add([A,j])})}function it(A){return H||(H=!A,pt(),bt.list().forEach(([j,B])=>A?B(A):j()),bt.reset()),A}function q(A,j,B,Z){const{scrollBehavior:Ft}=e;if(!es||!Ft)return Promise.resolve();const b=!B&&HE(lm(A.fullPath,0))||(Z||!B)&&history.state&&history.state.scroll||null;return bc().then(()=>Ft(A,j,b)).then(_=>_&&KE(_)).catch(_=>tt(_,A,j))}const ft=A=>i.go(A);let Dt;const te=new Set,oe={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:m,resolve:y,options:e,push:w,replace:S,go:ft,back:()=>ft(-1),forward:()=>ft(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:lt.add,isReady:V,install(A){const j=this;A.component("RouterLink",Uh),A.component("RouterView",bM),A.config.globalProperties.$router=j,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>ct(l)}),es&&!Dt&&l.value===Mr&&(Dt=!0,w(i.location).catch(Ft=>{}));const B={};for(const Ft in Mr)Object.defineProperty(B,Ft,{get:()=>l.value[Ft],enumerable:!0});A.provide(Hh,j),A.provide(jx,S0(B)),A.provide(hf,l);const Z=A.unmount;te.add(A),A.unmount=function(){te.delete(A),te.size<1&&(c=Mr,nt&&nt(),nt=null,l.value=Mr,Dt=!1,H=!1),Z()}}};function It(A){return A.reduce((j,B)=>j.then(()=>k(B)),Promise.resolve())}return oe}function wM(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(c=>Cs(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Cs(c,l))||i.push(l))}return[n,r,i]}const Yh=6048e5,SM=864e5,Sm=Symbol.for("constructDateFrom");function Sn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Sm in e?e[Sm](t):e instanceof Date?new e.constructor(t):new Date(t)}function ve(e,t){return Sn(t||e,e)}function Tm(e,t,n){const r=ve(e,n?.in);return isNaN(t)?Sn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}let TM={};function Ta(){return TM}function Zn(e,t){const n=Ta(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ve(e,t?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ta(e,t){return Zn(e,{...t,weekStartsOn:1})}function zx(e,t){const n=ve(e,t?.in),r=n.getFullYear(),i=Sn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=ta(i),o=Sn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=ta(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Ol(e){const t=ve(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ka(e,...t){const n=Sn.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Nl(e,t){const n=ve(e,t?.in);return n.setHours(0,0,0,0),n}function kM(e,t,n){const[r,i]=ka(n?.in,e,t),s=Nl(r),o=Nl(i),a=+s-Ol(s),l=+o-Ol(o);return Math.round((a-l)/SM)}function CM(e,t){const n=zx(e,t),r=Sn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ta(r)}function EM(e){return Sn(e,Date.now())}function MM(e,t,n){const[r,i]=ka(n?.in,e,t);return+Nl(r)==+Nl(i)}function PM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AM(e){return!(!PM(e)&&typeof e!="number"||isNaN(+ve(e)))}function OM(e,t,n){const[r,i]=ka(n?.in,e,t),s=Zn(r,n),o=Zn(i,n),a=+s-Ol(s),l=+o-Ol(o);return Math.round((a-l)/Yh)}function NM(e,t){const n=ve(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Kx(e,t){const n=ve(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function DM(e,t){const n=ve(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function df(e,t){const n=Ta(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ve(e,t?.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function cu(e,t){return df(e,{...t,weekStartsOn:1})}const IM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RM=(e,t,n)=>{let r;const i=IM[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vs(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const LM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$M={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BM={date:vs({formats:LM,defaultWidth:"full"}),time:vs({formats:FM,defaultWidth:"full"}),dateTime:vs({formats:$M,defaultWidth:"full"})},VM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WM=(e,t,n,r)=>VM[e];function $n(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const jM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YM=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},JM={ordinalNumber:YM,era:$n({values:jM,defaultWidth:"wide"}),quarter:$n({values:zM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$n({values:KM,defaultWidth:"wide"}),day:$n({values:GM,defaultWidth:"wide"}),dayPeriod:$n({values:HM,defaultWidth:"wide",formattingValues:UM,defaultFormattingWidth:"wide"})};function Bn(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?XM(a,f=>f.test(o)):qM(a,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function qM(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function XM(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Gx(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(i.length);return{value:o,rest:a}}}const QM=/^(\d+)(th|st|nd|rd)?/i,ZM=/\d+/i,tP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eP={any:[/^b/i,/^(a|c)/i]},nP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rP={any:[/1/i,/2/i,/3/i,/4/i]},iP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uP={ordinalNumber:Gx({matchPattern:QM,parsePattern:ZM,valueCallback:e=>parseInt(e,10)}),era:Bn({matchPatterns:tP,defaultMatchWidth:"wide",parsePatterns:eP,defaultParseWidth:"any"}),quarter:Bn({matchPatterns:nP,defaultMatchWidth:"wide",parsePatterns:rP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bn({matchPatterns:iP,defaultMatchWidth:"wide",parsePatterns:sP,defaultParseWidth:"any"}),day:Bn({matchPatterns:oP,defaultMatchWidth:"wide",parsePatterns:aP,defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:lP,defaultMatchWidth:"any",parsePatterns:cP,defaultParseWidth:"any"})},fP={code:"en-US",formatDistance:RM,formatLong:BM,formatRelative:WM,localize:JM,match:uP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hP(e,t){const n=ve(e,t?.in);return kM(n,DM(n))+1}function dP(e,t){const n=ve(e,t?.in),r=+ta(n)-+CM(n);return Math.round(r/Yh)+1}function Hx(e,t){const n=ve(e,t?.in),r=n.getFullYear(),i=Ta(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Sn(t?.in||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Zn(o,t),l=Sn(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Zn(l,t);return+n>=+a?r+1:+n>=+c?r:r-1}function pP(e,t){const n=Ta(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Hx(e,t),s=Sn(t?.in||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Zn(s,t)}function Ux(e,t){const n=ve(e,t?.in),r=+Zn(n,t)-+pP(n,t);return Math.round(r/Yh)+1}function Nt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Pr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Nt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Nt(n+1,2)},d(e,t){return Nt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Nt(e.getHours()%12||12,t.length)},H(e,t){return Nt(e.getHours(),t.length)},m(e,t){return Nt(e.getMinutes(),t.length)},s(e,t){return Nt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,t.length)}},qi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},km={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Pr.y(e,t)},Y:function(e,t,n,r){const i=Hx(e,r),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Nt(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nt(s,t.length)},R:function(e,t){const n=zx(e);return Nt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Nt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Pr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Ux(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,t.length)},I:function(e,t,n){const r=dP(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Pr.d(e,t)},D:function(e,t,n){const r=hP(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Nt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Nt(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Nt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=qi.noon:r===0?i=qi.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=qi.evening:r>=12?i=qi.afternoon:r>=4?i=qi.morning:i=qi.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Pr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Pr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Pr.s(e,t)},S:function(e,t){return Pr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Em(r);case"XXXX":case"XX":return si(r);case"XXXXX":case"XXX":default:return si(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Em(r);case"xxxx":case"xx":return si(r);case"xxxxx":case"xxx":default:return si(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cm(r,":");case"OOOO":default:return"GMT"+si(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cm(r,":");case"zzzz":default:return"GMT"+si(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Nt(r,t.length)},T:function(e,t,n){return Nt(+e,t.length)}};function Cm(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+Nt(s,2)}function Em(e,t){return e%60===0?(e>0?"-":"+")+Nt(Math.abs(e)/60,2):si(e,t)}function si(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Nt(Math.trunc(r/60),2),s=Nt(r%60,2);return n+i+t+s}const Mm=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Yx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mP=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Mm(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Mm(r,t)).replace("{{time}}",Yx(i,t))},gP={p:Yx,P:mP},yP=/^D+$/,vP=/^Y+$/,xP=["D","DD","YY","YYYY"];function bP(e){return yP.test(e)}function _P(e){return vP.test(e)}function wP(e,t,n){const r=SP(e,t,n);if(console.warn(r),xP.includes(e))throw new RangeError(r)}function SP(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CP=/^'([^]*?)'?$/,EP=/''/g,MP=/[a-zA-Z]/;function Qe(e,t,n){const r=Ta(),i=n?.locale??r.locale??fP,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ve(e,n?.in);if(!AM(a))throw new RangeError("Invalid time value");let l=t.match(kP).map(u=>{const f=u[0];if(f==="p"||f==="P"){const h=gP[f];return h(u,i.formatLong)}return u}).join("").match(TP).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const f=u[0];if(f==="'")return{isToken:!1,value:PP(u)};if(km[f])return{isToken:!0,value:u};if(f.match(MP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const f=u.value;(!n?.useAdditionalWeekYearTokens&&_P(f)||!n?.useAdditionalDayOfYearTokens&&bP(f))&&wP(f,t,String(e));const h=km[f[0]];return h(a,f,i.localize,c)}).join("")}function PP(e){const t=e.match(CP);return t?t[1].replace(EP,"'"):e}function AP(e,t){const n=ve(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),ve(n,t?.in)}function OP(e,t){const n=ve(e,t?.in);return OM(AP(n,t),Kx(n,t),t)+1}function Pm(e,t,n){const[r,i]=ka(n?.in,e,t);return+Zn(r,n)==+Zn(i,n)}function NP(e,t,n){const[r,i]=ka(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Jx(e,t){return MM(Sn(t?.in||e,e),EM(t?.in||e))}const qx=["","","","","","","","","","","",""],DP=["","","","","","",""];function IP(e,t){const n=Kx(new Date(e,t)),r=NM(n),i=Zn(n,{weekStartsOn:1}),s=df(r,{weekStartsOn:1}),o=[];let a=i;for(;a<=s;){const l=a,c=df(l,{weekStartsOn:1}),u=[];for(let f=0;f<7;f++){const h=Tm(l,f);u.push({date:h,isCurrentMonth:NP(h,n)})}o.push({weekNumber:Ux(l,{weekStartsOn:1}),start:l,end:c,days:u}),a=Tm(c,1)}return{month:t,year:e,weeks:o}}const uu=new Map;function pf(e,t){const n=`${e}-${t}`;return uu.has(n)||uu.set(n,IP(e,t)),uu.get(n)}const RP={class:"relative grid grid-rows-[min-content_min-content_1fr] gap-1"},LP={class:"relative grid w-max items-center"},FP={class:"w-max text-sm"},$P={class:"start-2 grid grid-cols-8 text-center text-xs text-gray-400"},BP={class:"grid grid-cols-8 items-center justify-end gap-y-2 text-center text-[10px]"},VP={key:0},WP={key:1,class:"relative flex justify-center"},jP={class:"grid items-center justify-center gap-1 gap-y-2 text-[10px] text-gray-400"},zP={class:"relative flex justify-center"},KP=kn({__name:"SimpleCalendar",props:{monthIndex:{},year:{}},setup(e){const t=Mt(()=>pf(e.year,e.monthIndex));return(n,r)=>(gt(),Tt("div",RP,[yt("div",LP,[yt("h3",FP,Ae(ct(qx)[n.monthIndex]),1)]),yt("div",$P,[(gt(!0),Tt(Kt,null,Wn(ct(DP),i=>(gt(),Tt("div",{key:i},Ae(i),1))),128))]),yt("div",BP,[(gt(!0),Tt(Kt,null,Wn(t.value.weeks,i=>(gt(),Tt(Kt,{key:i.weekNumber},[(gt(!0),Tt(Kt,null,Wn(i.days,s=>(gt(),Tt(Kt,{key:s.toString()},[s.isCurrentMonth?(gt(),Tt("div",WP,[yt("div",{class:le([{"font-bold text-orange-600":ct(Jx)(s.date)}])},Ae(s.date.getDate()),3)])):(gt(),Tt("div",VP))],64))),128)),yt("div",jP,[yt("div",zP,[yt("div",null,Ae(i.weekNumber),1)])])],64))),128))])]))}});function GP(e){return kh()?(l0(e),!0):!1}const HP=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Am=()=>{};function UP(e,t){function n(...r){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(s)})}return n}function YP(e,t={}){let n,r,i=Am;const s=l=>{clearTimeout(l),i(),i=Am};let o;return l=>{const c=_l(e),u=_l(t.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=void 0),Promise.resolve(l())):new Promise((f,h)=>{i=t.rejectOnCancel?h:f,o=l,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=void 0,f(o())},u)),n=setTimeout(()=>{r&&s(r),r=void 0,f(l())},c)})}}function JP(e,t=200,n={}){return UP(YP(t,n),e)}const qP=HP?window:void 0;function Om(e){var t;const n=_l(e);return(t=n?.$el)!=null?t:n}function XP(){const e=k0(!1),t=Tc();return t&&$s(()=>{e.value=!0},t),e}function QP(e){const t=XP();return Mt(()=>(t.value,!!e()))}function ZP(e,t,n={}){const{window:r=qP,...i}=n;let s;const o=QP(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=Mt(()=>{const f=_l(e);return Array.isArray(f)?f.map(h=>Om(h)):[Om(f)]}),c=Kn(l,f=>{if(a(),o.value&&r){s=new ResizeObserver(t);for(const h of f)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return GP(u),{isSupported:o,stop:u}}const Xx=e=>t=>typeof t=="string"&&t.startsWith(e),Jh=Xx("--"),tA=Xx("var(--"),qh=e=>tA(e)?eA.test(e.split("/*")[0].trim()):!1,eA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ea={};function Qx(e){for(const t in e)ea[t]=e[t],Jh(t)&&(ea[t].isCSSVariable=!0)}function Ca(e,t){const n=typeof e=="string"&&!t?`${e}Context`:t,r=Symbol(n);return[o=>{const a=un(r,o);if(a===void 0)throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`);return a},o=>(gs(r,o),o)]}const[nA,rA]=Ca("Motion"),[iA,Pj]=Ca("LayoutGroup");function Nm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}class kr{constructor(t){this.state=t}beforeMount(){}mount(){}unmount(){}update(){}beforeUpdate(){}beforeUnmount(){}}function No(e,t,n){if(Array.isArray(e))return e.reduce((r,i)=>{const s=No(i,t,n);return s?{...r,...s}:r},{});if(typeof e=="object")return e;if(e&&t){const r=t[e];return typeof r=="function"?r(n):r}}function sA(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!oA(e,t):e!==t}function oA(e,t){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Dm(e){return e?.startsWith("--")}const aA=e=>e;function lA(e){return typeof e=="number"}const cA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],uA=new Set(cA);function Zx(e){return uA.has(e)}class fA{constructor(t){this.features=[];const{features:n=[],lazyMotionContext:r}=t.options,i=n.concat(r.features.value);this.features=i.map(o=>new o(t));const s=this.features;Kn(r.features,o=>{o.forEach(a=>{if(!i.includes(a)){i.push(a);const l=new a(t);s.push(l),t.isMounted()&&(l.beforeMount(),l.mount())}})},{flush:"pre"})}mount(){this.features.forEach(t=>t.mount())}beforeMount(){this.features.forEach(t=>{var n;return(n=t.beforeMount)==null?void 0:n.call(t)})}unmount(){this.features.forEach(t=>t.unmount())}update(){this.features.forEach(t=>{var n;return(n=t.update)==null?void 0:n.call(t)})}beforeUpdate(){this.features.forEach(t=>t.beforeUpdate())}beforeUnmount(){this.features.forEach(t=>t.beforeUnmount())}}const Xh=new WeakMap,[hA,Aj]=Ca("AnimatePresenceContext");function dA(e){return typeof e=="string"||e===!1||Array.isArray(e)}const He=e=>e,ja=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pA(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,f=!1,h=!1)=>{const p=h&&i?n:r;return f&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const yr={},mA=40;function tb(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ja.reduce((x,w)=>(x[w]=pA(s),x),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:p}=o,m=()=>{const x=yr.useManualTiming?i.timestamp:performance.now();n=!1,yr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,mA),1)),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:ja.reduce((x,w)=>{const S=o[w];return x[w]=(C,M=!1,T=!1)=>(n||g(),S.schedule(C,M,T)),x},{}),cancel:x=>{for(let w=0;w<ja.length;w++)o[ja[w]].cancel(x)},state:i,steps:o}}const{schedule:jt,cancel:vr,state:Se,steps:fu}=tb(typeof requestAnimationFrame<"u"?requestAnimationFrame:He,!0),eb=new WeakMap;let gA=0;const hu=new Set;class yA{constructor(t,n){var r;this.element=null,this.isSafeToRemove=!1,this.isVShow=!1,this.children=new Set,this.activeStates={initial:!0,animate:!0},this.currentProcess=null,this._context=null,this.animateUpdates=He,this.id=`motion-state-${gA++}`,this.options=t,this.parent=n,(r=n?.children)==null||r.add(this),this.depth=n?.depth+1||0;const s=(t.initial===void 0&&t.variants?this.context.initial:t.initial)===!1?["initial","animate"]:["initial"];this.initTarget(s),this.featureManager=new fA(this),this.type=Zx(this.options.as)?"svg":"html"}get context(){if(!this._context){const t={get:(n,r)=>{var i;return dA(this.options[r])?this.options[r]:(i=this.parent)==null?void 0:i.context[r]}};this._context=new Proxy({},t)}return this._context}initTarget(t){var n;const r=this.options.custom??((n=this.options.animatePresenceContext)==null?void 0:n.custom);this.baseTarget=t.reduce((i,s)=>({...i,...No(this.options[s]||this.context[s],this.options.variants,r)}),{}),this.target={}}updateOptions(t){var n;this.options=t,(n=this.visualElement)==null||n.update({...this.options,whileTap:this.options.whilePress},{isPresent:!Xh.has(this.element)})}beforeMount(){this.featureManager.beforeMount()}mount(t,n,r=!1){var i;this.element=t,this.updateOptions(n),this.featureManager.mount(),!r&&this.options.animate&&((i=this.startAnimation)==null||i.call(this)),this.options.layoutId&&(hu.add(this.options.layoutId),jt.render(()=>{hu.clear()}))}clearAnimation(){var t,n;this.currentProcess&&vr(this.currentProcess),this.currentProcess=null,(n=(t=this.visualElement)==null?void 0:t.variantChildren)==null||n.forEach(r=>{r.state.clearAnimation()})}startAnimation(){this.clearAnimation(),this.currentProcess=jt.render(()=>{this.currentProcess=null,this.animateUpdates()})}beforeUnmount(){this.featureManager.beforeUnmount()}unmount(t=!1){const n=this.options.layoutId&&!hu.has(this.options.layoutId);(()=>{const i=()=>{var s,o,a;t&&Array.from(this.children).reverse().forEach(this.unmountChild),(o=(s=this.parent)==null?void 0:s.children)==null||o.delete(this),eb.delete(this.element),this.featureManager.unmount(),(a=this.visualElement)==null||a.unmount(),this.clearAnimation()};n?Promise.resolve().then(i):i()})()}unmountChild(t){t.unmount(!0)}beforeUpdate(){this.featureManager.beforeUpdate()}update(t){this.updateOptions(t),this.featureManager.update(),this.startAnimation()}setActive(t,n,r=!0){var i;!this.element||this.activeStates[t]===n||(this.activeStates[t]=n,(i=this.visualElement.variantChildren)==null||i.forEach(s=>{s.state.setActive(t,n,!1)}),r&&this.animateUpdates({isFallback:!n&&t!=="exit"&&this.visualElement.isControllingVariants,isExit:t==="exit"&&this.activeStates.exit}))}isMounted(){return!!this.element}willUpdate(t){var n;(this.options.layout||this.options.layoutId)&&((n=this.visualElement.projection)==null||n.willUpdate())}}const ki=new WeakMap;function Im(e,t,n){return new CustomEvent(e,{detail:{target:t,isExit:n}})}const Rm={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>`${e}deg`},vA={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>`${e}px`},rotate:Rm,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:aA},skew:Rm},xA=["translate","scale","rotate","skew"],bA=["","X","Y","Z"],Qh=new Map,Dl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"];xA.forEach(e=>{bA.forEach(t=>{Dl.push(e+t),Qh.set(e+t,vA[e])})});const _A=new Set(Dl),wA=e=>_A.has(e),Lm={x:"translateX",y:"translateY",z:"translateZ"};function SA([e],[t]){return Dl.indexOf(e)-Dl.indexOf(t)}function TA(e,[t,n]){return`${e} ${t}(${n})`}function kA(e){return e.sort(SA).reduce(TA,"").trim()}const Fm={translate:[0,0],rotate:0,scale:1,skew:0,x:0,y:0,z:0},Ea=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Or=Ea("deg"),Gn=Ea("%"),st=Ea("px"),CA=Ea("vh"),EA=Ea("vw"),$m={...Gn,parse:e=>Gn.parse(e)/100,transform:e=>Gn.transform(e*100)},ne=e=>!!(e&&e.getVelocity),MA={get:(e,t)=>{let n=Dm(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&n!=="0"){const r=Qh.get(t);r&&(n=r.initialValue)}return n},set:(e,t,n)=>{Dm(t)?e.style.setProperty(t,n):e.style[t]=n}};function PA(e){var t;const n={},r=[];for(let i in e){let s=e[i];s=ne(s)?s.get():s,wA(i)&&i in Lm&&(i=Lm[i]);let o=Array.isArray(s)?s[0]:s;const a=Qh.get(i);a?(o=lA(s)?(t=a.toDefaultUnit)==null?void 0:t.call(a,s):s,r.push([i,o])):n[i]=o}return r.length&&(n.transform=kA(r)),Object.keys(n).length===0?null:n}const AA={fill:!0,stroke:!0,opacity:!0,"stroke-width":!0,"fill-opacity":!0,"stroke-opacity":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,cx:!0,cy:!0,r:!0,d:!0,x1:!0,y1:!0,x2:!0,y2:!0,points:!0,"path-length":!0,viewBox:!0,width:!0,height:!0,"preserve-aspect-ratio":!0,"clip-path":!0,filter:!0,mask:!0,"stop-color":!0,"stop-opacity":!0,"gradient-transform":!0,"gradient-units":!0,"spread-method":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,"font-size":!0,"font-weight":!0,"letter-spacing":!0,"vector-effect":!0};function OA(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function NA(e,t,n=1,r=0){e.pathLength=1,delete e["path-length"],e["stroke-dashoffset"]=st.transform(-r);const i=st.transform(t),s=st.transform(n);e["stroke-dasharray"]=`${i} ${s}`}function DA(e){const t={},n={};for(const r in e){const i=OA(r);if(i in AA){const s=e[r];t[i]=ne(s)?s.get():s}else n[r]=e[r]}return t["path-length"]!==void 0&&NA(t,t["path-length"],t["path-spacing"],t["path-offset"]),{attrs:t,style:n}}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Bm=e=>typeof e<"u";function IA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function RA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function LA(e,t){return IA(RA(e.getBoundingClientRect(),t))}const Vm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mf={};for(const e in Vm)mf[e]={isEnabled:t=>Vm[e].some(n=>!!t[n])};const Wm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ls=()=>({x:Wm(),y:Wm()}),jm=()=>({min:0,max:0}),Qt=()=>({x:jm(),y:jm()}),FA=typeof window<"u",Il={current:null},nb={current:!1};function $A(){if(nb.current=!0,!!FA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Il.current=e.matches;e.addEventListener("change",t),t()}else Il.current=!1}function BA(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function VA(e){return typeof e=="string"||Array.isArray(e)}const WA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jA=["initial",...WA];function rb(e){return BA(e.animate)||jA.some(t=>VA(e[t]))}function zA(e){return!!(rb(e)||e.variants)}let al;function KA(){al=void 0}const Ge={now:()=>(al===void 0&&Ge.set(Se.isProcessing||yr.useManualTiming?Se.timestamp:performance.now()),al),set:e=>{al=e,queueMicrotask(KA)}};function Zh(e,t){e.indexOf(t)===-1&&e.push(t)}function Pc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class td{constructor(){this.subscriptions=[]}add(t){return Zh(this.subscriptions,t),()=>Pc(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ib(e,t){return t?e*(1e3/t):0}const zm=30,GA=e=>!isNaN(parseFloat(e));class HA{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var s,o;const a=Ge.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ge.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new td);const r=this.events[t].add(n);return t==="change"?()=>{r(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ge.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zm);return ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ci(e,t){return new HA(e,t)}function UA(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ne(i))e.addValue(r,i);else if(ne(s))e.addValue(r,Ci(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Ci(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}function Km(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function sb(e,t,n,r){if(typeof t=="function"){const[i,s]=Km(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Km(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function YA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ci=e=>e*180/Math.PI,gf=e=>{const t=ci(Math.atan2(e[1],e[0]));return yf(t)},JA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:gf,rotateZ:gf,skewX:e=>ci(Math.atan(e[1])),skewY:e=>ci(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yf=e=>(e=e%360,e<0&&(e+=360),e),Gm=gf,Hm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Um=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hm,scaleY:Um,scale:e=>(Hm(e)+Um(e))/2,rotateX:e=>yf(ci(Math.atan2(e[6],e[5]))),rotateY:e=>yf(ci(Math.atan2(-e[2],e[0]))),rotateZ:Gm,rotate:Gm,skewX:e=>ci(Math.atan(e[4])),skewY:e=>ci(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function vf(e){return e.includes("scale")?1:0}function xf(e,t){if(!e||e==="none")return vf(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=qA,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JA,i=a}if(!i)return vf(t);const s=r[t],o=i[1].split(",").map(QA);return typeof s=="function"?s(o):o[s]}const XA=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return xf(n,t)};function QA(e){return parseFloat(e.trim())}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(Gs),xr=(e,t,n)=>n>t?t:n<e?e:n,Us={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},na={...Us,transform:e=>xr(0,1,e)},za={...Us,default:1},Ym=e=>e===Us||e===st,ZA=new Set(["x","y","z"]),tO=Gs.filter(e=>!ZA.has(e));function eO(e){const t=[];return tO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const yi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xf(t,"x"),y:(e,{transform:t})=>xf(t,"y")};yi.translateX=yi.x;yi.translateY=yi.y;const vi=new Set;let bf=!1,_f=!1,wf=!1;function ob(){if(_f){const e=Array.from(vi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=eO(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_f=!1,bf=!1,vi.forEach(e=>e.complete(wf)),vi.clear()}function ab(){vi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_f=!0)})}function nO(){wf=!0,ab(),ob(),wf=!1}class ed{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(vi.add(this),bf||(bf=!0,jt.read(ab),jt.resolveKeyframes(ob))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}YA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vi.delete(this)}cancel(){this.state==="scheduled"&&(vi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),cb=e=>/^0[^.\s]+$/u.test(e),Do=e=>Math.round(e*1e5)/1e5,nd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rO(e){return e==null}const iO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rd=(e,t)=>n=>!!(typeof n=="string"&&iO.test(n)&&n.startsWith(e)||t&&!rO(n)&&Object.prototype.hasOwnProperty.call(n,t)),ub=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(nd);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sO=e=>xr(0,255,e),du={...Us,transform:e=>Math.round(sO(e))},ui={test:rd("rgb","red"),parse:ub("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+du.transform(e)+", "+du.transform(t)+", "+du.transform(n)+", "+Do(na.transform(r))+")"};function oO(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sf={test:rd("#"),parse:oO,transform:ui.transform},cs={test:rd("hsl","hue"),parse:ub("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gn.transform(Do(t))+", "+Gn.transform(Do(n))+", "+Do(na.transform(r))+")"},ee={test:e=>ui.test(e)||Sf.test(e)||cs.test(e),parse:e=>ui.test(e)?ui.parse(e):cs.test(e)?cs.parse(e):Sf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ui.transform(e):cs.transform(e),getAnimatableNone:e=>{const t=ee.parse(e);return t.alpha=0,ee.transform(t)}},aO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(nd))==null?void 0:t.length)||0)+(((n=e.match(aO))==null?void 0:n.length)||0)>0}const fb="number",hb="color",cO="var",uO="var(",Jm="${}",fO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ra(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(fO,l=>(ee.test(l)?(r.color.push(s),i.push(hb),n.push(ee.parse(l))):l.startsWith(uO)?(r.var.push(s),i.push(cO),n.push(l)):(r.number.push(s),i.push(fb),n.push(parseFloat(l))),++s,Jm)).split(Jm);return{values:n,split:a,indexes:r,types:i}}function db(e){return ra(e).values}function pb(e){const{split:t,types:n}=ra(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===fb?s+=Do(i[o]):a===hb?s+=ee.transform(i[o]):s+=i[o]}return s}}const hO=e=>typeof e=="number"?0:ee.test(e)?ee.getAnimatableNone(e):e;function dO(e){const t=db(e);return pb(e)(t.map(hO))}const Yr={test:lO,parse:db,createTransformer:pb,getAnimatableNone:dO},pO={test:e=>e==="auto",parse:e=>e},mb=e=>t=>t.test(e),gb=[Us,st,Gn,Or,EA,CA,pO],qm=e=>gb.find(mb(e)),mO=[...gb,ee,Yr],gO=e=>mO.find(mb(e)),yO=new Set(["brightness","contrast","saturate","opacity"]);function vO(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(nd)||[];if(!r)return e;const i=n.replace(r,"");let s=yO.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const xO=/\b([a-z-]*)\(.*?\)/gu,Tf={...Yr,getAnimatableNone:e=>{const t=e.match(xO);return t?t.map(vO).join(" "):e}},Xm={...Us,transform:Math.round},bO={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:za,scaleX:za,scaleY:za,scaleZ:za,skew:Or,skewX:Or,skewY:Or,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:na,originX:$m,originY:$m,originZ:st},id={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st,...bO,zIndex:Xm,fillOpacity:na,strokeOpacity:na,numOctaves:Xm},_O={...id,color:ee,backgroundColor:ee,outlineColor:ee,fill:ee,stroke:ee,borderColor:ee,borderTopColor:ee,borderRightColor:ee,borderBottomColor:ee,borderLeftColor:ee,filter:Tf,WebkitFilter:Tf},yb=e=>_O[e];function vb(e,t){let n=yb(e);return n!==Tf&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Qm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xb{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ed,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ge.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,jt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=rb(n),this.isVariantNode=zA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&ne(d)&&d.set(l[h],!1)}}mount(t){this.current=t,ki.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),nb.current||$A(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Il.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Hs.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mf){const n=mf[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qm.length;r++){const i=Qm[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=UA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ci(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(lb(r)||cb(r))?r=parseFloat(r):!gO(r)&&Yr.test(n)&&(r=vb(t,n)),this.setBaseTarget(t,ne(r)?r.get():r)),ne(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=sb(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ne(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new td),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}const bb=new Set(["width","height","top","left","right","bottom",...Gs]);let sd=()=>{};const wO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SO(e){const t=wO.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function _b(e,t,n=1){const[r,i]=SO(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return lb(o)?parseFloat(o):o}return qh(i)?_b(i,t,n+1):i}function TO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cb(e):!0}const kO=new Set(["auto","none","0"]);function CO(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!kO.has(s)&&ra(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=vb(n,i)}class EO extends ed{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),qh(c))){const u=_b(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!bb.has(r)||t.length!==2)return;const[i,s]=t,o=qm(i),a=qm(s);if(o!==a)if(Ym(o)&&Ym(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else yi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||TO(t[i]))&&r.push(i);r.length&&CO(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=yi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(t=this.removedTransforms)!=null&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}class wb extends xb{constructor(){super(...arguments),this.KeyframeResolver=EO}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ne(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}const Sb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,MO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PO=Gs.length;function AO(e,t,n){let r="",i=!0;for(let s=0;s<PO;s++){const o=Gs[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Sb(a,id[o]);if(!l){i=!1;const u=MO[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Tb(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Hs.has(l)){o=!0;continue}else if(Jh(l)){i[l]=c;continue}else{const u=Sb(c,id[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=AO(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function kb(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function OO(e,{layout:t,layoutId:n}){return Hs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ea[e]||e==="opacity")}function Cb(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(ne(i[o])||t.style&&ne(t.style[o])||OO(o,e)||((r=n?.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function NO(e){return window.getComputedStyle(e)}class Eb extends wb{constructor(){super(...arguments),this.type="html",this.renderInstance=kb}readValueFromInstance(t,n){var r;if(Hs.has(n))return(r=this.projection)!=null&&r.isProjecting?vf(n):XA(t,n);{const i=NO(t),s=(Jh(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LA(t,n)}build(t,n,r){Tb(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Cb(t,n,r)}}const od=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DO={offset:"stroke-dashoffset",array:"stroke-dasharray"},IO={offset:"strokeDashoffset",array:"strokeDasharray"};function RO(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?DO:IO;e[s.offset]=st.transform(-r);const o=st.transform(t),a=st.transform(n);e[s.array]=`${o} ${a}`}function LO(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(Tb(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&RO(f,i,s,o,!1)}const Mb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),FO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $O(e,t,n,r){kb(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Mb.has(i)?i:od(i),t.attrs[i])}function BO(e,t,n){const r=Cb(e,t,n);for(const i in e)if(ne(e[i])||ne(t[i])){const s=Gs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}class Pb extends wb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hs.has(n)){const r=yb(n);return r&&r.default||0}return n=Mb.has(n)?n:od(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return BO(t,n,r)}build(t,n,r){LO(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){$O(t,n,r,i)}mount(t){this.isSVGTag=FO(t.tagName),super.mount(t)}}function VO(e,t){return Zx(e)?new Pb(t):new Eb(t)}function ad(e){return typeof e=="object"&&!Array.isArray(e)}function ld(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Ab(e,t,n,r){return typeof e=="string"&&ad(t)?ld(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function WO(e,t,n){return e*(t+1)}function Zm(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}const Gt=(e,t,n)=>e+(t-e)*n,jO=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},Ob=e=>Array.isArray(e)&&typeof e[0]!="number";function Nb(e,t){return Ob(e)?e[jO(0,e.length,t)]:e}function zO(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(Pc(e,i),r--)}}function KO(e,t,n,r,i,s){zO(e,i,s);for(let o=0;o<t.length;o++)e.push({value:t[o],at:Gt(i,s,r[o]),easing:Nb(n,o)})}function GO(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function HO(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Ms=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};function Db(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ms(0,t,r);e.push(Gt(n,1,i))}}function Ib(e){const t=[0];return Db(t,e.length-1),t}const Rl=2e4;function cd(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Rl;)t+=n,r=e.next(t);return t>=Rl?1/0:t}const bn=e=>e*1e3,Hn=e=>e/1e3;function Rb(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(cd(r),Rl);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Hn(i)}}function ud(e){return typeof e=="function"&&"applyToOptions"in e}const UO="easeInOut";function YO(e,{defaultTransition:t={},...n}={},r,i){const s=t.duration||.3,o=new Map,a=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let d=0;d<e.length;d++){const p=e[d];if(typeof p=="string"){c.set(p,f);continue}else if(!Array.isArray(p)){c.set(p.name,Zm(f,p.at,u,c));continue}let[m,g,y={}]=p;y.at!==void 0&&(f=Zm(f,y.at,u,c));let v=0;const x=(w,S,C,M=0,T=0)=>{const k=JO(w),{delay:R=0,times:X=Ib(k),type:at="keyframes",repeat:nt,repeatType:pt,repeatDelay:bt=0,...lt}=S;let{ease:H=t.ease||"easeOut",duration:tt}=S;const V=typeof R=="function"?R(M,T):R,it=k.length,q=ud(at)?at:i?.[at||"keyframes"];if(it<=2&&q){let oe=100;if(it===2&&QO(k)){const j=k[1]-k[0];oe=Math.abs(j)}const It={...lt};tt!==void 0&&(It.duration=bn(tt));const A=Rb(It,oe,q);H=A.ease,tt=A.duration}tt??(tt=s);const ft=f+V;X.length===1&&X[0]===0&&(X[1]=1);const Dt=X.length-k.length;if(Dt>0&&Db(X,Dt),k.length===1&&k.unshift(null),nt){tt=WO(tt,nt);const oe=[...k],It=[...X];H=Array.isArray(H)?[...H]:[H];const A=[...H];for(let j=0;j<nt;j++){k.push(...oe);for(let B=0;B<oe.length;B++)X.push(It[B]+(j+1)),H.push(B===0?"linear":Nb(A,B-1))}GO(X,nt)}const te=ft+tt;KO(C,k,H,X,ft,te),v=Math.max(V+tt,v),h=Math.max(te,h)};if(ne(m)){const w=tg(m,a);x(g,y,eg("default",w))}else{const w=Ab(m,g,r,l),S=w.length;for(let C=0;C<S;C++){g=g,y=y;const M=w[C],T=tg(M,a);for(const k in g)x(g[k],qO(y,k),eg(k,T),C,S)}}u=f,f+=v}return a.forEach((d,p)=>{for(const m in d){const g=d[m];g.sort(HO);const y=[],v=[],x=[];for(let S=0;S<g.length;S++){const{at:C,value:M,easing:T}=g[S];y.push(M),v.push(Ms(0,h,C)),x.push(T||"easeOut")}v[0]!==0&&(v.unshift(0),y.unshift(y[0]),x.unshift(UO)),v[v.length-1]!==1&&(v.push(1),y.push(null)),o.has(p)||o.set(p,{keyframes:{},transition:{}});const w=o.get(p);w.keyframes[m]=y,w.transition[m]={...t,duration:h,ease:x,times:v,...n}}}),o}function tg(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function eg(e,t){return t[e]||(t[e]=[]),t[e]}function JO(e){return Array.isArray(e)?e:[e]}function qO(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const XO=e=>typeof e=="number",QO=e=>e.every(XO),ZO=e=>Array.isArray(e);function tN(e,t,n){const r=e.getProps();return sb(r,t,r.custom,e)}function eN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ci(n))}function nN(e){return ZO(e)?e[e.length-1]||0:e}function rN(e,t){const n=tN(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=nN(s[o]);eN(e,o,a)}}function iN(e){return!!(ne(e)&&e.add)}function sN(e,t){const n=e.getValue("willChange");if(iN(n))return n.add(t);if(!n&&yr.WillChange){const r=new yr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}const oN="framerAppearId",aN="data-"+od(oN);function Lb(e){return e.props[aN]}const lN=e=>e!==null;function cN(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(lN),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const uN={type:"spring",stiffness:500,damping:25,restSpeed:10},fN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hN={type:"keyframes",duration:.8},dN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pN=(e,{keyframes:t})=>t.length>2?hN:Hs.has(e)?e.startsWith("scale")?fN(t[1]):uN:dN;function mN({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function fd(e,t){return e?.[t]??e?.default??e}function pu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gN({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=pu(l,a,e+1/3),s=pu(l,a,e),o=pu(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ll(e,t){return n=>n>0?t:e}const mu=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},yN=[Sf,ui,cs],vN=e=>yN.find(t=>t.test(e));function ng(e){const t=vN(e);if(!t)return!1;let n=t.parse(e);return t===cs&&(n=gN(n)),n}const rg=(e,t)=>{const n=ng(e),r=ng(t);if(!n||!r)return Ll(e,t);const i={...n};return s=>(i.red=mu(n.red,r.red,s),i.green=mu(n.green,r.green,s),i.blue=mu(n.blue,r.blue,s),i.alpha=Gt(n.alpha,r.alpha,s),ui.transform(i))},kf=new Set(["none","hidden"]);function xN(e,t){return kf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}const bN=(e,t)=>n=>t(e(n)),Ma=(...e)=>e.reduce(bN);function _N(e,t){return n=>Gt(e,t,n)}function hd(e){return typeof e=="number"?_N:typeof e=="string"?qh(e)?Ll:ee.test(e)?rg:TN:Array.isArray(e)?Fb:typeof e=="object"?ee.test(e)?rg:wN:Ll}function Fb(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>hd(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function wN(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=hd(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function SN(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const TN=(e,t)=>{const n=Yr.createTransformer(t),r=ra(e),i=ra(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kf.has(e)&&!i.values.length||kf.has(t)&&!r.values.length?xN(e,t):Ma(Fb(SN(r,i),i.values),n):Ll(e,t)};function $b(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Gt(e,t,n):hd(e)(e,t)}const kN=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>jt.update(t,n),stop:()=>vr(t),now:()=>Se.isProcessing?Se.timestamp:Ge.now()}},Bb=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},CN=5;function Vb(e,t,n){const r=Math.max(t-CN,0);return ib(n-e(r),t-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gu=.001;function EN({duration:e=Xt.duration,bounce:t=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let i,s,o=1-t;o=xr(Xt.minDamping,Xt.maxDamping,o),e=xr(Xt.minDuration,Xt.maxDuration,Hn(e)),o<1?(i=c=>{const u=c*o,f=u*e,h=u-n,d=Cf(c,o),p=Math.exp(-f);return gu-h/d*p},s=c=>{const f=c*o*e,h=f*n+n,d=Math.pow(o,2)*Math.pow(c,2)*e,p=Math.exp(-f),m=Cf(Math.pow(c,2),o);return(-i(c)+gu>0?-1:1)*((h-d)*p)/m}):(i=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-gu+u*f},s=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=PN(i,s,a);if(e=bn(e),isNaN(l))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const MN=12;function PN(e,t,n){let r=n;for(let i=1;i<MN;i++)r=r-e(r)/t(r);return r}function Cf(e,t){return e*Math.sqrt(1-t*t)}const AN=["duration","bounce"],ON=["stiffness","damping","mass"];function ig(e,t){return t.some(n=>e[n]!==void 0)}function NN(e){let t={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...e};if(!ig(e,ON)&&ig(e,AN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*xr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Xt.mass,stiffness:i,damping:s}}else{const n=EN(e);t={...t,...n,mass:Xt.mass},t.isResolvedFromDuration=!0}return t}function ia(e=Xt.visualDuration,t=Xt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=NN({...n,velocity:-Hn(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=o-s,y=Hn(Math.sqrt(l/u)),v=Math.abs(g)<5;r||(r=v?Xt.restSpeed.granular:Xt.restSpeed.default),i||(i=v?Xt.restDelta.granular:Xt.restDelta.default);let x;if(m<1){const S=Cf(y,m);x=C=>{const M=Math.exp(-m*y*C);return o-M*((p+m*y*g)/S*Math.sin(S*C)+g*Math.cos(S*C))}}else if(m===1)x=S=>o-Math.exp(-y*S)*(g+(p+y*g)*S);else{const S=y*Math.sqrt(m*m-1);x=C=>{const M=Math.exp(-m*y*C),T=Math.min(S*C,300);return o-M*((p+m*y*g)*Math.sinh(T)+S*g*Math.cosh(T))/S}}const w={calculatedDuration:d&&f||null,next:S=>{const C=x(S);if(d)a.done=S>=f;else{let M=S===0?p:0;m<1&&(M=S===0?bn(p):Vb(x,S,C));const T=Math.abs(M)<=r,k=Math.abs(o-C)<=i;a.done=T&&k}return a.value=a.done?o:C,a},toString:()=>{const S=Math.min(cd(w),Rl),C=Bb(M=>w.next(S*M).value,S,30);return S+"ms "+C},toTransition:()=>{}};return w}ia.applyToOptions=e=>{const t=Rb(e,100,ia);return e.ease=t.ease,e.duration=bn(t.duration),e.type="keyframes",e};function Ef({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},d=T=>a!==void 0&&T<a||l!==void 0&&T>l,p=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let m=n*t;const g=f+m,y=o===void 0?g:o(g);y!==g&&(m=y-f);const v=T=>-m*Math.exp(-T/r),x=T=>y+v(T),w=T=>{const k=v(T),R=x(T);h.done=Math.abs(k)<=c,h.value=h.done?y:R};let S,C;const M=T=>{d(h.value)&&(S=T,C=ia({keyframes:[h.value,p(h.value)],velocity:Vb(x,T,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return M(0),{calculatedDuration:null,next:T=>{let k=!1;return!C&&S===void 0&&(k=!0,w(T),M(T)),S!==void 0&&T>=S?C.next(T-S):(!k&&w(T),h)}}}function DN(e,t,n){const r=[],i=n||yr.mix||$b,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||He:t;a=Ma(l,a)}r.push(a)}return r}function IN(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(sd(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=DN(t,r,i),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Ms(e[f],e[f+1],u);return a[f](h)};return n?u=>c(xr(e[0],e[s-1],u)):c}function RN(e,t){return e.map(n=>n*t)}const Wb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,LN=1e-7,FN=12;function $N(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=Wb(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>LN&&++a<FN);return o}function Pa(e,t,n,r){if(e===t&&n===r)return He;const i=s=>$N(s,0,1,e,n);return s=>s===0||s===1?s:Wb(i(s),t,r)}const BN=Pa(.42,0,1,1),VN=Pa(0,0,.58,1),jb=Pa(.42,0,.58,1),zb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Kb=e=>t=>1-e(1-t),Gb=Pa(.33,1.53,.69,.99),dd=Kb(Gb),Hb=zb(dd),Ub=e=>(e*=2)<1?.5*dd(e):.5*(2-Math.pow(2,-10*(e-1))),pd=e=>1-Math.sin(Math.acos(e)),Yb=Kb(pd),Jb=zb(pd),qb=e=>Array.isArray(e)&&typeof e[0]=="number",WN={linear:He,easeIn:BN,easeInOut:jb,easeOut:VN,circIn:pd,circInOut:Jb,circOut:Yb,backIn:dd,backInOut:Hb,backOut:Gb,anticipate:Ub},jN=e=>typeof e=="string",sg=e=>{if(qb(e)){sd(e.length===4);const[t,n,r,i]=e;return Pa(t,n,r,i)}else if(jN(e))return WN[e];return e};function zN(e,t){return e.map(()=>t||jb).splice(0,e.length-1)}function Io({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Ob(r)?r.map(sg):sg(r),s={done:!1,value:t[0]},o=RN(n&&n.length===t.length?n:Ib(t),e),a=IN(o,t,{ease:Array.isArray(i)?i:zN(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const KN=e=>e!==null;function md(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(KN),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const GN={decay:Ef,inertia:Ef,tween:Io,keyframes:Io,spring:ia};function Xb(e){typeof e.type=="string"&&(e.type=GN[e.type])}class gd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const HN=e=>e/100;class yd extends gd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:i}=this.options;i&&i.updatedAt!==Ge.now()&&this.tick(Ge.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Xb(t);const{type:n=Io,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Io;l!==Io&&typeof a[0]!="number"&&(this.mixKeyframes=Ma(HN,$b(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=cd(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:p,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,w=r;if(f){const T=Math.min(this.currentTime,i)/a;let k=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(h==="reverse"?(R=1-R,d&&(R-=d/a)):h==="mirror"&&(w=o)),x=xr(0,1,R)*a}const S=v?{done:!1,value:u[0]}:w.next(x);s&&(S.value=s(S.value));let{done:C}=S;!v&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return M&&p!==Ef&&(S.value=md(u,this.options,g,this.speed)),m&&m(S.value),M&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Hn(this.calculatedDuration)}get time(){return Hn(this.currentTime)}set time(t){var n;t=bn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ge.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Hn(this.currentTime))}play(){var t,n;if(this.isStopped)return;const{driver:r=kN,startTime:i}=this.options;this.driver||(this.driver=r(o=>this.tick(o))),(n=(t=this.options).onPlay)==null||n.call(t);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ge.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}const UN=e=>e.startsWith("--");function YN(e,t,n){UN(t)?e.style.setProperty(t,n):e.style[t]=n}function vd(e){let t;return()=>(t===void 0&&(t=e()),t)}const JN=vd(()=>window.ScrollTimeline!==void 0),qN={};function XN(e,t){const n=vd(e);return()=>qN[t]??n()}const Qb=XN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,og={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yo([0,.65,.55,1]),circOut:yo([.55,0,1,.45]),backIn:yo([.31,.01,.66,-.59]),backOut:yo([.33,1.53,.69,.99])};function Zb(e,t){if(e)return typeof e=="function"?Qb()?Bb(e,t):"ease-out":qb(e)?yo(e):Array.isArray(e)?e.map(n=>Zb(n,t)||og.easeOut):og[e]}function QN(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const f=Zb(a,i);Array.isArray(f)&&(u.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function ZN({type:e,...t}){return ud(e)&&Qb()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tD extends gd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,sd(typeof t.type!="string");const c=ZN(t);this.animation=QN(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=md(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):YN(n,r,u),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var t,n;const r=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return Hn(Number(r))}get time(){return Hn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=bn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&JN()?(this.animation.timeline=t,He):n(this)}}const t_={anticipate:Ub,backInOut:Hb,circInOut:Jb};function eD(e){return e in t_}function nD(e){typeof e.ease=="string"&&eD(e.ease)&&(e.ease=t_[e.ease])}const ag=10;class rD extends tD{constructor(t){nD(t),Xb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new yd({...o,autoplay:!1}),l=bn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-ag).value,a.sample(l).value,ag),a.stop()}}const lg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yr.test(e)||e==="0")&&!e.startsWith("url("));function iD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sD(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=lg(i,t),a=lg(s,t);return!o||!a?!1:iD(e)||(n==="spring"||ud(n))&&r}function e_(e){return typeof e=="object"&&e!==null}function n_(e){return e_(e)&&"offsetHeight"in e}const oD=new Set(["opacity","clipPath","filter","transform"]),aD=vd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lD(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n_((t=n?.owner)==null?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return aD()&&r&&oD.has(r)&&(r!=="transform"||!c)&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}const cD=40;class uD extends gd{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var h;super(),this.stop=()=>{var m,g;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Ge.now();const d={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...f},p=u?.KeyframeResolver||ed;this.keyframeResolver=new p(a,(m,g,y)=>this.onKeyframesResolved(m,g,d,!y),l,c,u),(h=this.keyframeResolver)==null||h.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Ge.now(),sD(t,s,o,a)||((yr.instantAnimations||!l)&&u?.(md(t,r,n)),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},d=!c&&lD(h)?new rD({...h,element:h.motionValue.owner.current}):new yd(h);d.finished.then(()=>this.notifyFinished()).catch(He),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),nO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const xd=(e,t,n,r={},i,s)=>o=>{const a=fd(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-bn(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};mN(a)||Object.assign(u,pN(e,u)),u.duration&&(u.duration=bn(u.duration)),u.repeatDelay&&(u.repeatDelay=bn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(yr.instantAnimations||yr.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const h=cN(u.keyframes,a);if(h!==void 0){jt.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new yd(u):new uD(u)};function fD({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function hD(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const f=e.getValue(u,e.latestValues[u]??null),h=a[u];if(h===void 0||c&&fD(c,u))continue;const d={delay:n,...fd(s||{},u)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=Lb(e);if(y){const v=window.MotionHandoffAnimation(y,u,jt);v!==null&&(d.startTime=v,m=!0)}}sN(e,u),f.start(xd(u,f,h,e.shouldReduceMotion&&bb.has(u)?{type:!1}:d,e,m));const g=f.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{jt.update(()=>{o&&rN(e,o)})}),l}function dD(e,t){return e in t}class pD extends xb{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(dD(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Qt()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function bd(e){return e_(e)&&"ownerSVGElement"in e}function r_(e){return bd(e)&&e.tagName==="svg"}function mD(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=bd(e)&&!r_(e)?new Pb(t):new Eb(t);n.mount(e),ki.set(e,n)}function gD(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new pD(t);n.mount(e),ki.set(e,n)}function i_(e,t,n){const r=ne(e)?e:Ci(e);return r.start(xd("",r,t,n)),r.animation}function yD(e,t){return ne(e)||typeof e=="number"||typeof e=="string"&&!ad(t)}function s_(e,t,n,r){const i=[];if(yD(e,t))i.push(i_(e,ad(t)&&t.default||t,n&&(n.default||n)));else{const s=Ab(e,t,r),o=s.length;for(let a=0;a<o;a++){const l=s[a],c=l instanceof Element?mD:gD;ki.has(l)||c(l);const u=ki.get(l),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(a,o)),i.push(...hD(u,{...t,transition:f},{}))}}return i}function vD(e,t,n){const r=[];return YO(e,t,n,{spring:ia}).forEach(({keyframes:s,transition:o},a)=>{r.push(...s_(a,s,o))}),r}class xD{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bD extends xD{then(t,n){return this.finished.finally(t).then(()=>{})}}function _D(e){return Array.isArray(e)&&e.some(Array.isArray)}function wD(e){function t(n,r,i){let s=[];return _D(n)?s=vD(n,r,e):s=s_(n,r,i,e),new bD(s)}return t}const ll=wD(),SD=["initial","animate","whileInView","whileHover","whilePress","whileDrag","whileFocus","exit"];class TD extends kr{constructor(t){var n;super(t),this.animateUpdates=({controlActiveState:r,directAnimate:i,directTransition:s,controlDelay:o=0,isFallback:a,isExit:l}={})=>{const{reducedMotion:c}=this.state.options.motionConfig;this.state.visualElement.shouldReduceMotion=c==="always"||c==="user"&&!!Il.current;const u=this.state.target;this.state.target={...this.state.baseTarget};let f={};f=this.resolveStateAnimation({controlActiveState:r,directAnimate:i,directTransition:s});const h=this.createAnimationFactories(u,f,o),{getChildAnimations:d}=this.setupChildAnimations(f,this.state.activeStates,a);return this.executeAnimations({factories:h,getChildAnimations:d,transition:f,controlActiveState:r,isExit:l})},this.state.visualElement=VO(this.state.options.as,{presenceContext:null,parent:(n=this.state.parent)==null?void 0:n.visualElement,props:{...this.state.options,whileTap:this.state.options.whilePress},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{...this.state.baseTarget}},reducedMotionConfig:this.state.options.motionConfig.reducedMotion}),this.state.animateUpdates=this.animateUpdates,this.state.isMounted()&&this.state.startAnimation()}updateAnimationControlsSubscription(){const{animate:t}=this.state.options;Nm(t)&&(this.unmountControls=t.subscribe(this.state))}executeAnimations({factories:t,getChildAnimations:n,transition:r,controlActiveState:i,isExit:s=!1}){const o=()=>Promise.all(t.map(f=>f()).filter(Boolean)),a={...this.state.target},l=this.state.element,c=f=>{var h,d;l.dispatchEvent(Im("motionstart",a)),(d=(h=this.state.options).onAnimationStart)==null||d.call(h,a),f.then(()=>{var p,m;l.dispatchEvent(Im("motioncomplete",a,s)),(m=(p=this.state.options).onAnimationComplete)==null||m.call(p,a)}).catch(He)},u=()=>{const f=r?.when?(r.when==="beforeChildren"?o():n()).then(()=>r.when==="beforeChildren"?n():o()):Promise.all([o(),n()]);return c(f),f};return i?u:u()}setupChildAnimations(t,n,r){var i;const s=this.state.visualElement;if(!((i=s.variantChildren)!=null&&i.size)||!n)return{getChildAnimations:()=>Promise.resolve()};const{staggerChildren:o=0,staggerDirection:a=1,delayChildren:l=0}=t||{},c=s.variantChildren.size,u=(c-1)*o,f=typeof l=="function",h=f?p=>l(p,c):a===1?(p=0)=>p*o:(p=0)=>u-p*o,d=Array.from(s.variantChildren).map((p,m)=>p.state.animateUpdates({controlActiveState:n,controlDelay:(f?0:l)+h(m)}));return{getChildAnimations:()=>Promise.all(d.map(p=>p()))}}createAnimationFactories(t,n,r){const i=[];return Object.keys(this.state.target).forEach(s=>{var o;if(!sA(t[s],this.state.target[s]))return;(o=this.state.baseTarget)[s]??(o[s]=MA.get(this.state.element,s));const a=this.state.target[s]==="none"&&Bm(Fm[s])?Fm[s]:this.state.target[s];i.push(()=>{var l;return ll(this.state.element,{[s]:a},{...n?.[s]||n,delay:(((l=n?.[s])==null?void 0:l.delay)||n?.delay||0)+r})})}),i}resolveStateAnimation({controlActiveState:t,directAnimate:n,directTransition:r}){let i=this.state.options.transition,s={};const{variants:o,custom:a,transition:l,animatePresenceContext:c}=this.state.options,u=a??c?.custom;return this.state.activeStates={...this.state.activeStates,...t},SD.forEach(f=>{if(!this.state.activeStates[f]||Nm(this.state.options[f]))return;const h=this.state.options[f];let d=Bm(h)?No(h,o,u):void 0;if(this.state.visualElement.isVariantNode){const p=No(this.state.context[f],o,u);d=p?Object.assign(p||{},d):s}d&&(f!=="initial"&&(i=d.transition||this.state.options.transition||{}),s=Object.assign(s,d))}),n&&(s=No(n,o,u),i=s.transition||r||l),Object.entries(s).forEach(([f,h])=>{f!=="transition"&&(this.state.target[f]=h)}),i}mount(){const{element:t}=this.state;eb.set(t,this.state),ki.get(t)||(this.state.visualElement.mount(t),ki.set(t,this.state.visualElement)),this.state.visualElement.state=this.state,this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.state.options,{animate:n}=this.state.visualElement.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;(t=this.unmountControls)==null||t.call(this)}}const kD={y:!1};function CD(){return kD.y}const o_=(e,t)=>t?e===t?!0:o_(e,t.parentElement):!1,ED=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function a_(e,t){const n=ld(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}const MD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PD(e){return MD.has(e.tagName)||e.tabIndex!==-1}const cl=new WeakSet;function cg(e){return t=>{t.key==="Enter"&&e(t)}}function yu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const AD=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=cg(()=>{if(cl.has(n))return;yu(n,"down");const i=cg(()=>{yu(n,"up")}),s=()=>yu(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function ug(e){return ED(e)&&!0}function OD(e,t,n={}){const[r,i,s]=a_(e,n),o=a=>{const l=a.currentTarget;if(!ug(a))return;cl.add(l);const c=t(l,a),u=(d,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),cl.has(l)&&cl.delete(l),ug(d)&&typeof c=="function"&&c(d,{success:p})},f=d=>{u(d,l===window||l===document||n.useGlobalTarget||o_(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),n_(a)&&(a.addEventListener("focus",c=>AD(c,i)),!PD(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function l_(e){return{point:{x:e.pageX,y:e.pageY}}}function fg(e,t,n){const r=e.options;r.whilePress&&e.setActive("whilePress",n==="Start");const i=`onPress${n==="End"?"":n}`,s=r[i];s&&jt.postRender(()=>s(t,l_(t)))}class ND extends kr{isActive(){const{whilePress:t,onPress:n,onPressCancel:r,onPressStart:i}=this.state.options;return!!(t||n||r||i)}constructor(t){super(t)}mount(){this.register()}update(){const{whilePress:t,onPress:n,onPressCancel:r,onPressStart:i}=this.state.options;t||n||r||i||this.register()}register(){const t=this.state.element;!t||!this.isActive()||(this.unmount(),this.unmount=OD(t,(n,r)=>(fg(this.state,r,"Start"),(i,{success:s})=>fg(this.state,i,s?"End":"Cancel")),{useGlobalTarget:this.state.options.globalPressTarget}))}}function hg(e){return!(e.pointerType==="touch"||CD())}function DD(e,t,n={}){const[r,i,s]=a_(e,n),o=a=>{if(!hg(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=f=>{hg(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function dg(e,t,n){const r=e.options;r.whileHover&&e.setActive("whileHover",n==="Start");const i=`onHover${n}`,s=r[i];s&&jt.postRender(()=>s(t,l_(t)))}class ID extends kr{isActive(){const{whileHover:t,onHoverStart:n,onHoverEnd:r}=this.state.options;return!!(t||n||r)}constructor(t){super(t)}mount(){this.register()}update(){const{whileHover:t,onHoverStart:n,onHoverEnd:r}=this.state.visualElement.prevProps;t||n||r||this.register()}register(){const t=this.state.element;!t||!this.isActive()||(this.unmount(),this.unmount=DD(t,(n,r)=>(dg(this.state,r,"Start"),i=>{dg(this.state,i,"End")})))}}const RD={some:0,all:1};function LD(e,t,{root:n,margin:r,amount:i="some"}={}){const s=ld(e),o=new WeakMap,a=c=>{c.forEach(u=>{const f=o.get(u.target);if(u.isIntersecting!==!!f)if(u.isIntersecting){const h=t(u.target,u);typeof h=="function"?o.set(u.target,h):l.unobserve(u.target)}else typeof f=="function"&&(f(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:RD[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function pg(e,t,n){const r=e.options;r.whileInView&&e.setActive("whileInView",n==="Enter");const i=`onViewport${n}`,s=r[i];s&&jt.postRender(()=>s(t))}class FD extends kr{isActive(){const{whileInView:t,onViewportEnter:n,onViewportLeave:r}=this.state.options;return!!(t||n||r)}constructor(t){super(t)}startObserver(){const t=this.state.element;if(!t||!this.isActive())return;this.unmount();const{once:n,...r}=this.state.options.inViewOptions||{};this.unmount=LD(t,(i,s)=>{if(pg(this.state,s,"Enter"),!n)return o=>{pg(this.state,s,"Leave")}},r)}mount(){this.startObserver()}update(){const{props:t,prevProps:n}=this.state.visualElement;["amount","margin","root"].some($D(t,n))&&this.startObserver()}}function $D({inViewOptions:e={}},{inViewOptions:t={}}={}){return n=>e[n]!==t[n]}function Fl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}class BD extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.state.element.matches(":focus-visible")}catch{t=!0}t&&(this.state.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&(this.state.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ma(Fl(this.state.element,"focus",()=>this.onFocus()),Fl(this.state.element,"blur",()=>this.onBlur()))}}const VD=(e,t)=>e.depth-t.depth;class WD{constructor(){this.children=[],this.isDirty=!1}add(t){Zh(this.children,t),this.isDirty=!0}remove(t){Pc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(VD),this.isDirty=!1,this.children.forEach(t)}}function jD(e,t){const n=Ge.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(vr(r),e(s-t))};return jt.setup(r,!0),()=>vr(r)}function vu(e){return ne(e)?e.get():e}const c_=["TopLeft","TopRight","BottomLeft","BottomRight"],zD=c_.length,mg=e=>typeof e=="string"?parseFloat(e):e,gg=e=>typeof e=="number"||st.test(e);function KD(e,t,n,r,i,s){i?(e.opacity=Gt(0,n.opacity??1,GD(r)),e.opacityExit=Gt(t.opacity??1,0,HD(r))):s&&(e.opacity=Gt(t.opacity??1,n.opacity??1,r));for(let o=0;o<zD;o++){const a=`border${c_[o]}Radius`;let l=yg(t,a),c=yg(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||gg(l)===gg(c)?(e[a]=Math.max(Gt(mg(l),mg(c),r),0),(Gn.test(c)||Gn.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Gt(t.rotate||0,n.rotate||0,r))}function yg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const GD=u_(0,.5,Yb),HD=u_(.5,.95,He);function u_(e,t,n){return r=>r<e?0:r>t?1:n(Ms(e,t,r))}function vg(e,t){e.min=t.min,e.max=t.max}function nn(e,t){vg(e.x,t.x),vg(e.y,t.y)}function xg(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function xu(e){return e===void 0||e===1}function Mf({scale:e,scaleX:t,scaleY:n}){return!xu(e)||!xu(t)||!xu(n)}function oi(e){return Mf(e)||f_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function f_(e){return bg(e.x)||bg(e.y)}function bg(e){return e&&e!=="0%"}function $l(e,t,n){const r=e-n,i=t*r;return n+i}function _g(e,t,n,r,i){return i!==void 0&&(e=$l(e,i,r)),$l(e,n,r)+t}function Pf(e,t=0,n=1,r,i){e.min=_g(e.min,t,n,r,i),e.max=_g(e.max,t,n,r,i)}function h_(e,{x:t,y:n}){Pf(e.x,t.translate,t.scale,t.originPoint),Pf(e.y,n.translate,n.scale,n.originPoint)}const wg=.999999999999,Sg=1.0000000000001;function UD(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&us(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,h_(e,o)),r&&oi(s.latestValues)&&us(e,s.latestValues))}t.x<Sg&&t.x>wg&&(t.x=1),t.y<Sg&&t.y>wg&&(t.y=1)}function Ka(e,t){e.min=e.min+t,e.max=e.max+t}function Tg(e,t,n,r,i=.5){const s=Gt(e.min,e.max,i);Pf(e,t,n,s,r)}function us(e,t){Tg(e.x,t.x,t.scaleX,t.scale,t.originX),Tg(e.y,t.y,t.scaleY,t.scale,t.originY)}const d_=1e-4,YD=1-d_,JD=1+d_,p_=.01,qD=0-p_,XD=0+p_;function an(e){return e.max-e.min}function QD(e,t,n){return Math.abs(e-t)<=n}function kg(e,t,n,r=.5){e.origin=r,e.originPoint=Gt(t.min,t.max,e.origin),e.scale=an(n)/an(t),e.translate=Gt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=YD&&e.scale<=JD||isNaN(e.scale))&&(e.scale=1),(e.translate>=qD&&e.translate<=XD||isNaN(e.translate))&&(e.translate=0)}function Ro(e,t,n,r){kg(e.x,t.x,n.x,r?r.originX:void 0),kg(e.y,t.y,n.y,r?r.originY:void 0)}function Cg(e,t,n){e.min=n.min+t.min,e.max=e.min+an(t)}function ZD(e,t,n){Cg(e.x,t.x,n.x),Cg(e.y,t.y,n.y)}function Eg(e,t,n){e.min=t.min-n.min,e.max=e.min+an(t)}function Lo(e,t,n){Eg(e.x,t.x,n.x),Eg(e.y,t.y,n.y)}function Mg(e,t,n,r,i){return e-=t,e=$l(e,1/n,r),i!==void 0&&(e=$l(e,1/i,r)),e}function tI(e,t=0,n=1,r=.5,i,s=e,o=e){if(Gn.test(t)&&(t=parseFloat(t),t=Gt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Gt(s.min,s.max,r);e===s&&(a-=t),e.min=Mg(e.min,t,n,a,i),e.max=Mg(e.max,t,n,a,i)}function Pg(e,t,[n,r,i],s,o){tI(e,t[n],t[r],t[i],t.scale,s,o)}const eI=["x","scaleX","originX"],nI=["y","scaleY","originY"];function Ag(e,t,n,r){Pg(e.x,t,eI,n?n.x:void 0,r?r.x:void 0),Pg(e.y,t,nI,n?n.y:void 0,r?r.y:void 0)}function Og(e){return e.translate===0&&e.scale===1}function m_(e){return Og(e.x)&&Og(e.y)}function Ng(e,t){return e.min===t.min&&e.max===t.max}function rI(e,t){return Ng(e.x,t.x)&&Ng(e.y,t.y)}function Dg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function g_(e,t){return Dg(e.x,t.x)&&Dg(e.y,t.y)}function Ig(e){return an(e.x)/an(e.y)}function Rg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iI{constructor(){this.members=[]}add(t){Zh(this.members,t),t.scheduleRender()}remove(t){if(Pc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sI(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:p}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),d&&(r+=`skewX(${d}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}function Lg(e){return[e("x"),e("y")]}const ul={hasAnimatedSinceResize:!0,hasEverUpdated:!1},{schedule:oI}=tb(queueMicrotask,!1),bu=["","X","Y","Z"],aI=1e3;let lI=0;function _u(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function y_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Lb(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",jt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&y_(r)}function v_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=lI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fI),this.nodes.forEach(mI),this.nodes.forEach(gI),this.nodes.forEach(hI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WD)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new td),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=bd(o)&&!r_(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;jt.read(()=>{f=window.innerWidth}),e(o,()=>{const d=window.innerWidth;d!==f&&(f=d,this.root.updateBlockedByResize=!0,u&&u(),u=jD(h,250),ul.hasAnimatedSinceResize&&(ul.hasAnimatedSinceResize=!1,this.nodes.forEach(Bg)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||_I,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=c.getProps(),y=!this.targetLayout||!g_(this.targetLayout,d),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...fd(p,"layout"),onPlay:m,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(u,v)}else f||Bg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yI),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($g);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pI),this.nodes.forEach(cI),this.nodes.forEach(uI)):this.nodes.forEach($g),this.clearAllSnapshots();const a=Ge.now();Se.delta=xr(0,1e3/60,a-Se.timestamp),Se.timestamp=a,Se.isProcessing=!0,fu.update.process(Se),fu.preRender.process(Se),fu.render.process(Se),Se.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dI),this.sharedNodes.forEach(vI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!m_(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||oi(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wI(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Qt();const l=a.measureViewportBox();if(!(((o=this.scroll)==null?void 0:o.wasRoot)||this.path.some(SI))){const{scroll:u}=this.root;u&&(Ka(l.x,u.offset.x),Ka(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Qt();if(nn(l,o),(a=this.scroll)!=null&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&nn(l,o),Ka(l.x,f.offset.x),Ka(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Qt();nn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&us(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),oi(u.latestValues)&&us(l,u.latestValues)}return oi(this.latestValues)&&us(l,this.latestValues),l}removeTransform(o){const a=Qt();nn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!oi(c.latestValues))continue;Mf(c.latestValues)&&c.updateSnapshot();const u=Qt(),f=c.measurePageBox();nn(u,f),Ag(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return oi(this.latestValues)&&Ag(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Se.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(a=this.parent)!=null&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Se.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Lo(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nn(this.target,this.layout.layoutBox),h_(this.target,this.targetDelta)):nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Lo(this.relativeTargetOrigin,this.target,d.target),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mf(this.parent.latestValues)||f_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(o=this.parent)!=null&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Se.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;nn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;UD(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Qt());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xg(this.prevProjectionDelta.x,this.projectionDelta.x),xg(this.prevProjectionDelta.y,this.projectionDelta.y)),Ro(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!Rg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ls(),this.projectionDelta=ls(),this.projectionDeltaWithTransform=ls()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Qt(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=d!==p,g=this.getStack(),y=!g||g.members.length<=1,v=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(bI));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;Vg(f.x,o.x,S),Vg(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xI(this.relativeTarget,this.relativeTargetOrigin,h,S),x&&rI(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Qt()),nn(x,this.relativeTarget)),m&&(this.animationValues=u,KD(u,c,this.latestValues,S,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{ul.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ci(0)),this.currentAnimation=i_(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&x_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qt();const f=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}nn(a,l),us(a,u),Ro(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iI),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&_u("z",o,c,this.animationValues);for(let u=0;u<bu.length;u++)_u(`rotate${bu[u]}`,o,c,this.animationValues),_u(`skew${bu[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=vu(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=vu(a?.pointerEvents)||""),this.hasProjected&&!oi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=sI(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),o.transform=f;const{x:h,y:d}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${d.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in ea){if(u[p]===void 0)continue;const{correct:m,applyTo:g,isCSSVariable:y}=ea[p],v=f==="none"?u[p]:m(u[p],c);if(g){const x=g.length;for(let w=0;w<x;w++)o[g[w]]=v}else y?this.options.visualElement.renderState.vars[p]=v:o[p]=v}this.options.layoutId&&(o.pointerEvents=c===this?vu(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Fg),this.root.sharedNodes.clear()}}}function cI(e){e.updateLayout()}function uI(e){var t;const n=((t=e.resumeFrom)==null?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Lg(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],d=an(h);h.min=r[f].min,h.max=h.min+d}):x_(s,n.layoutBox,r)&&Lg(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],d=an(r[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const a=ls();Ro(a,r,n.layoutBox);const l=ls();o?Ro(l,e.applyTransform(i,!0),n.measuredBox):Ro(l,r,n.layoutBox);const c=!m_(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const p=Qt();Lo(p,n.layoutBox,h.layoutBox);const m=Qt();Lo(m,r,d.layoutBox),g_(p,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dI(e){e.clearSnapshot()}function Fg(e){e.clearMeasurements()}function $g(e){e.isLayoutDirty=!1}function pI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mI(e){e.resolveTargetDelta()}function gI(e){e.calcProjection()}function yI(e){e.resetSkewAndRotation()}function vI(e){e.removeLeadSnapshot()}function Vg(e,t,n){e.translate=Gt(t.translate,0,n),e.scale=Gt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Wg(e,t,n,r){e.min=Gt(t.min,n.min,r),e.max=Gt(t.max,n.max,r)}function xI(e,t,n,r){Wg(e.x,t.x,n.x,r),Wg(e.y,t.y,n.y,r)}function bI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _I={duration:.45,ease:[.4,0,.1,1]},jg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zg=jg("applewebkit/")&&!jg("chrome/")?Math.round:He;function Kg(e){e.min=zg(e.min),e.max=zg(e.max)}function wI(e){Kg(e.x),Kg(e.y)}function x_(e,t,n){return e==="position"||e==="preserve-aspect"&&!QD(Ig(t),Ig(n),.2)}function SI(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}function TI(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const kI=v_({attachResizeListener:(e,t)=>TI(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wu={current:void 0},CI=v_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wu.current){const e=new kI({});e.mount(window),e.setOptions({layoutScroll:!0}),wu.current=e}return wu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"});function b_(e){if(e)return e.options.allowProjection!==!1?e.projection:b_(e.parent)}function Gg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=Gg(e,t.target.x),r=Gg(e,t.target.y);return`${n}% ${r}%`}},EI={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Yr.parse(e);if(i.length>5)return r;const s=Yr.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Gt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},__={borderRadius:{...fo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fo,borderTopRightRadius:fo,borderBottomLeftRadius:fo,borderBottomRightRadius:fo,boxShadow:EI};function vo(e){return typeof e=="object"&&e!==null&&"nodeType"in e}class MI extends kr{constructor(t){super(t),Qx(__)}initProjection(){const t=this.state.options;this.state.visualElement.projection=new CI(this.state.visualElement.latestValues,t["data-framer-portal-id"]?void 0:b_(this.state.visualElement.parent)),this.state.visualElement.projection.isPresent=!0,this.setOptions()}beforeMount(){this.initProjection()}setOptions(){const t=this.state.options;this.state.visualElement.projection.setOptions({layout:t.layout,layoutId:t.layoutId,alwaysMeasureLayout:!!t.drag||t.dragConstraints&&vo(t.dragConstraints),visualElement:this.state.visualElement,animationType:typeof t.layout=="string"?t.layout:"both",layoutRoot:t.layoutRoot,layoutScroll:t.layoutScroll,crossfade:t.crossfade,onExitComplete:()=>{var n;if(!((n=this.state.visualElement.projection)!=null&&n.isPresent)){const r=Xh.get(this.state.element);this.state.isSafeToRemove=!0,r&&r({detail:{isExit:!0}},!0)}}})}update(){this.setOptions()}mount(){var t;(t=this.state.visualElement.projection)==null||t.mount(this.state.element)}}function w_(e){return e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1}function _d(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}function PI(e){return t=>w_(t)&&e(t,_d(t))}function Fo(e,t,n,r){return Fl(e,t,PI(n),r)}function S_(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Hg=S_("dragHorizontal"),Ug=S_("dragVertical");function AI(e){let t=!1;if(e==="y")t=Ug();else if(e==="x")t=Hg();else{const n=Hg(),r=Ug();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Af(e){return e.max-e.min}function OI(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Gt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Gt(n,e,r.max):Math.min(e,n)),e}const Of=.35;function NI(e,{top:t,left:n,bottom:r,right:i}){return{x:Yg(e.x,n,i),y:Yg(e.y,t,r)}}function Yg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function DI(e=Of){return e===!1?e=0:e===!0&&(e=Of),{x:Jg(e,"left","right"),y:Jg(e,"top","bottom")}}function Jg(e,t,n){return{min:qg(e,t),max:qg(e,n)}}function qg(e,t){return typeof e=="number"?e:e[t]||0}function II(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}function RI(e,t){return{x:Xg(e.x,t.x),y:Xg(e.y,t.y)}}function Xg(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function LI(e,t){let n=.5;const r=Af(e),i=Af(t);return i>r?n=Ms(t.min,t.max-r,e.min):r>i&&(n=Ms(e.min,e.max-i,t.min)),xr(0,1,n)}const Qg=(e,t)=>Math.abs(e-t);function FI(e,t){const n=Qg(e.x,t.x),r=Qg(e.y,t.y);return Math.sqrt(n**2+r**2)}class T_{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Tu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=FI(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=f,{timestamp:m}=Se;this.history.push({...p,timestamp:m});const{onStart:g,onMove:y}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Su(h,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Tu(f.type==="pointercancel"?this.lastMoveEventInfo:Su(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,g),p&&p(f,g)},!w_(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=_d(t),a=Su(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Se;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Tu(a,this.history)),this.removeListeners=Ma(Fo(this.contextWindow,"pointermove",this.handlePointerMove),Fo(this.contextWindow,"pointerup",this.handlePointerUp),Fo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function Su(e,t){return t?{point:t(e.point)}:e}function Zg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tu({point:e},t){return{point:e,delta:Zg(e,k_(t)),offset:Zg(e,$I(t)),velocity:BI(t,.1)}}function $I(e){return e[0]}function k_(e){return e[e.length-1]}function BI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=k_(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>bn(t)));)n--;if(!r)return{x:0,y:0};const s=Hn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const ty=()=>({min:0,max:0});function VI(){return{x:ty(),y:ty()}}function In(e){return[e("x"),e("y")]}function WI(e){return!!(ne(e)&&e.add)}function ey(e,t){const n=e.getValue("willChange");if(WI(n))return n.add(t)}function C_({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function jI(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function zI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ny(e,t){e.min=e.min+t,e.max=e.max+t}function KI(e,t){return C_(jI(e.getBoundingClientRect(),t))}function GI(e,t,n){const r=KI(e,n),{scroll:i}=t;return i&&(ny(r.x,i.offset.x),ny(r.y,i.offset.y)),r}function ry(e){return!Xh.has(e.current)}function E_({current:e}){return e?e.ownerDocument.defaultView:null}const HI=new WeakMap;class UI{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=VI(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){if(!ry(this.visualElement))return;const r=c=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_d(c,"page").point)},i=(c,u)=>{const{drag:f,dragPropagation:h,onDragStart:d}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=AI(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(m=>{let g=this.getAxisMotionValue(m).get()||0;if(Gn.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const v=y.layout.layoutBox[m];v&&(g=Af(v)*(parseFloat(g)/100))}}this.originPoint[m]=g}),d&&jt.postRender(()=>d(c,u)),ey(this.visualElement,"transform"),this.visualElement.state.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:d,onDrag:p}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:m}=u;if(h&&this.currentDirection===null){this.currentDirection=YI(m),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),p&&p(c,u)},o=(c,u)=>this.stop(c,u),a=()=>In(c=>{var u;return this.getAnimationState(c)==="paused"&&((u=this.getAxisMotionValue(c).animation)==null?void 0:u.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new T_(t,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:E_(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&jt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),this.visualElement.state.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ga(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=OI(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)==null?void 0:t.layout,s=this.constraints;n&&vo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=NI(i.layoutBox,n):this.constraints=!1,this.elastic=DI(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&In(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=II(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!vo(t))return!1;const r=t,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=GI(r,i.root,this.visualElement.getTransformPagePoint());let o=RI(i.layout.layoutBox,s);if(n){const a=n(zI(o));this.hasMutatedConstraints=!!a,a&&(o=C_(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=In(u=>{if(!Ga(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ey(this.visualElement,t),r.start(xd(t,r,0,n,this.visualElement,!1))}stopAnimation(){ry(this.visualElement)&&In(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){In(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){In(n=>{const{drag:r}=this.getProps();if(!Ga(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Gt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};In(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=LI({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),In(o=>{if(!Ga(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Gt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;HI.set(this.visualElement,this);const t=this.visualElement.current,n=Fo(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();vo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),jt.read(r);const o=Fl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(In(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Of,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ga(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function YI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JI extends kr{constructor(t){super(t),this.removeGroupControls=He,this.removeListeners=He,this.controls=new UI(t.visualElement)}mount(){const{dragControls:t}=this.state.options;t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||He}unmount(){this.removeGroupControls(),this.removeListeners()}}class qI extends kr{constructor(t){super(t),Qx(__)}beforeUpdate(){this.state.willUpdate("beforeUpdate")}update(){this.didUpdate()}didUpdate(){var t,n;(this.state.options.layout||this.state.options.layoutId||this.state.options.drag)&&((n=(t=this.state.visualElement.projection)==null?void 0:t.root)==null||n.didUpdate())}mount(){var t;const n=this.state.options,r=this.state.options.layoutGroup;if(n.layout||n.layoutId){const i=this.state.visualElement.projection;i&&(i.promote(),(t=r?.group)==null||t.add(i)),ul.hasEverUpdated=!0}this.didUpdate()}beforeUnmount(){const t=this.state.visualElement.projection;t&&(this.state.willUpdate("beforeUnmount"),this.state.options.layoutId?(t.isPresent=!1,t.relegate()):this.state.options.layout&&(this.state.isSafeToRemove=!0))}unmount(){const t=this.state.options.layoutGroup,n=this.state.visualElement.projection;n&&(t?.group&&(this.state.options.layout||this.state.options.layoutId)&&t.group.remove(n),this.didUpdate())}}function iy(e){return(t,n)=>{e&&jt.postRender(()=>e(t,n))}}class XI extends kr{constructor(){super(...arguments),this.removePointerDownListener=He}onPointerDown(t){this.session=new T_(t,this.createPanHandlers(),{transformPagePoint:this.state.visualElement.getTransformPagePoint(),contextWindow:E_(this.state.visualElement)})}createPanHandlers(){return{onSessionStart:iy((t,n)=>{const{onPanSessionStart:r}=this.state.options;r&&r(t,n)}),onStart:iy((t,n)=>{const{onPanStart:r}=this.state.options;r&&r(t,n)}),onMove:(t,n)=>{const{onPan:r}=this.state.options;r&&r(t,n)},onEnd:(t,n)=>{const{onPanEnd:r}=this.state.options;delete this.session,r&&jt.postRender(()=>r(t,n))}}}mount(){this.removePointerDownListener=Fo(this.state.element,"pointerdown",this.onPointerDown.bind(this))}update(){}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const QI=[TD,ND,ID,FD,BD,MI,XI,JI,qI],ZI={reducedMotion:"never",transition:void 0,nonce:void 0},[tR,Nj]=Ca("MotionConfig");function eR(){return tR(Mt(()=>ZI))}function Bl(e){return e?.nodeType===3||e?.nodeType===8?Bl(e.nextSibling):e}const[nR,Dj]=Ca("LazyMotionContext");function rR(e){const t=nA(null),n=iA({}),r=eR(),i=hA({}),s=nR({features:wt([]),strict:!1}),o=Wk();function a(){return n.id&&e.layoutId?`${n.id}-${e.layoutId}`:e.layoutId||void 0}function l(){return{...e,lazyMotionContext:s,layoutId:a(),transition:e.transition??r.value.transition,layoutGroup:n,motionConfig:r.value,inViewOptions:e.inViewOptions??r.value.inViewOptions,animatePresenceContext:i,initial:i.initial===!1?i.initial:e.initial===!0?void 0:e.initial}}function c(){return{...o,...l()}}const u=new yA(c(),t);rA(u);function f(){var d;const p=u.type==="svg",m={...o};Object.keys(o).forEach(v=>{ne(o[v])&&(m[v]=o[v].get())});let g={...e.style,...p?{}:((d=u.visualElement)==null?void 0:d.latestValues)||u.baseTarget};if(p){const{attrs:v,style:x}=DA({...u.isMounted()?u.target:u.baseTarget,...g});(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=x.transformBox??"fill-box",delete v.transformBox),Object.assign(m,v),g=x}e.drag&&e.dragListener!==!1&&Object.assign(g,{userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",touchAction:e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`});const y=PA(g);return y&&(m.style=y),m}const h=Tc().proxy;return L0(()=>{u.beforeMount()}),$s(()=>{u.mount(Bl(h.$el),c(),sR(h))}),B0(()=>u.beforeUnmount()),zi(()=>{const d=Bl(h.$el);d?.isConnected||u.unmount()}),F0(()=>{u.beforeUpdate()}),$0(()=>{u.update(c())}),{getProps:l,getAttrs:f,layoutGroup:n,state:u}}const iR={ignoreStrict:{type:Boolean},forwardMotionProps:{type:Boolean,default:!1},asChild:{type:Boolean,default:!1},hover:{type:[String,Array,Object]},press:{type:[String,Array,Object]},inView:{type:[String,Array,Object]},focus:{type:[String,Array,Object]},whileDrag:{type:[String,Array,Object]},whileHover:{type:[String,Array,Object],default:({hover:e})=>e},whilePress:{type:[String,Array,Object],default:({press:e})=>e},whileInView:{type:[String,Array,Object],default:({inView:e})=>e},whileFocus:{type:[String,Array,Object],default:({focus:e})=>e},custom:{type:[String,Number,Object,Array]},initial:{type:[String,Array,Object,Boolean],default:void 0},animate:{type:[String,Array,Object],default:void 0},exit:{type:[String,Array,Object]},variants:{type:Object},inherit:{type:Boolean},style:{type:Object},transformTemplate:{type:Function},transition:{type:Object},layoutGroup:{type:Object},motionConfig:{type:Object},onAnimationComplete:{type:Function},onUpdate:{type:Function},layout:{type:[Boolean,String],default:!1},layoutId:{type:String,default:void 0},layoutScroll:{type:Boolean,default:!1},layoutRoot:{type:Boolean,default:!1},"data-framer-portal-id":{type:String},crossfade:{type:Boolean,default:!0},layoutDependency:{type:[String,Number,Object,Array]},onBeforeLayoutMeasure:{type:Function},onLayoutMeasure:{type:Function},onLayoutAnimationStart:{type:Function},onLayoutAnimationComplete:{type:Function},globalPressTarget:{type:Boolean},onPressStart:{type:Function},onPress:{type:Function},onPressCancel:{type:Function},onHoverStart:{type:Function},onHoverEnd:{type:Function},inViewOptions:{type:Object},onViewportEnter:{type:Function},onViewportLeave:{type:Function},drag:{type:[Boolean,String]},dragSnapToOrigin:{type:Boolean},dragDirectionLock:{type:Boolean},dragPropagation:{type:Boolean},dragConstraints:{type:[Boolean,Object]},dragElastic:{type:[Boolean,Number,Object],default:.5},dragMomentum:{type:Boolean,default:!0},dragTransition:{type:Object},dragListener:{type:Boolean,default:!0},dragControls:{type:Object},onDragStart:{type:Function},onDragEnd:{type:Function},onDrag:{type:Function},onDirectionLock:{type:Function},onDragTransitionEnd:{type:Function},onMeasureDragConstraints:{type:Function},onPanSessionStart:{type:Function},onPanStart:{type:Function},onPan:{type:Function},onPanEnd:{type:Function}};function sR(e){var t;const n=((t=Bl(e.$el))==null?void 0:t.style.display)==="none";return e.$.vnode.transition&&n}const oR=new Map,aR=new Map;function lR(e){if(!Array.isArray(e))return[e];const t=[];for(const n of e)Array.isArray(n)?t.push(...n):t.push(n);return t}const cR=["area","img","input"];function uR(e,t,n){var r,i;if(typeof e=="string"&&cR.includes(e))return kc(e,t);if(e==="template"){if(!n.default)return null;const s=lR(n.default()),o=s.findIndex(u=>u.type!==Qn);if(o===-1)return s;const a=s[o];(r=a.props)==null||delete r.ref;const l=a.props?ox(t,a.props):t;t.class&&((i=a.props)!=null&&i.class)&&delete a.props.class;const c=Ti(a,l);for(const u in l)u.startsWith("on")&&(c.props||(c.props={}),c.props[u]=l[u]);return s.length===1?c:(s[o]=c,s)}return null}function sy(e,t={}){var n;const r=typeof e=="string",i=r?e:e.name||"",s=((n=t.features)==null?void 0:n.length)>0?oR:aR;if(r&&s?.has(e))return s.get(e);const o=kn({inheritAttrs:!1,props:{...iR,features:{type:Object,default:()=>t.features||[]},as:{type:[String,Object],default:e||"div"}},name:i?`motion.${i}`:"Motion",setup(a,{slots:l}){const{getProps:c,getAttrs:u,state:f}=rR(a);function h(){const d=f.element;if((!(typeof a.as=="object")||a.asChild)&&d){const{style:m}=u();if(m)for(const[g,y]of Object.entries(m))d.style[g]=y}}return()=>{const d=c(),p=u(),m=a.asChild?"template":a.as,g={...t.forwardMotionProps||a.forwardMotionProps?d:{},...p,onVnodeUpdated:h},y=uR(m,g,l);return y!==null?y:kc(m,{...g},l)}}});return r&&s?.set(e,o),o}function fR(e=[]){return new Proxy({},{get(t,n){return n==="create"?(r,i)=>sy(r,{...i,features:e}):sy(n,{features:e})}})}const wd=fR(QI);wd.create("div");function hR(e,t){const r=wt(null);ZP(r,m=>{i.value=m[0].contentRect.width});const i=wt(430),s=Mt(()=>i.value),o=Mt(()=>Math.ceil(i.value/(s.value+50))+2),a=Mt(()=>Math.floor(i.value/2-s.value/2)),l=wt(0),c=Mt(()=>{const g=l.value;return Array.from({length:o.value},(y,v)=>{const x=g+(v-1),w=a.value+x*(s.value+50);return{id:x,x:w}})}),u=Ci(0);function f(m,g){const y=g.offset.x,v=g.velocity.x,x=s.value+50,w=x/3;let S=0;Math.abs(v)>100?S=v>0?-1:1:Math.abs(y)>w&&(S=y>0?-1:1),S===-1?(h({distancePerItem:x}),requestAnimationFrame(()=>{t?.(),l.value--})):S===1?(d({distancePerItem:x}),requestAnimationFrame(()=>{e?.(),l.value++})):p({distancePerItem:x})}function h({distancePerItem:m}){ll(u,(-l.value+1)*m)}function d({distancePerItem:m}){ll(u,(-l.value-1)*m)}function p({distancePerItem:m}){ll(u,-l.value*m)}return{containerRef:r,items:c,x:u,onDragEnd:f}}const M_=kn({__name:"InfinityCarousel",props:{onNext:{type:Function},onPrev:{type:Function}},setup(e){const{containerRef:t,items:n,x:r,onDragEnd:i}=hR(e.onNext,e.onPrev);return(s,o)=>(gt(),Tt("div",{class:"relative h-full overflow-hidden",ref_key:"containerRef",ref:t},[qt(ct(wd).div,{drag:"x",style:dr({x:ct(r)}),class:"relative h-full will-change-transform",onDragEnd:ct(i)},{default:pi(()=>[(gt(!0),Tt(Kt,null,Wn(ct(n),a=>(gt(),Tt("div",{key:a.id,class:"absolute top-0 h-full w-full",style:dr({transform:`translate3d(${a.x}px, 0, 0)`})},[Bk(s.$slots,"item",{item:a})],4))),128))]),_:3},8,["style","onDragEnd"])],512))}}),sa=mx("selectedDate",()=>{const e=localStorage.getItem("lastSelectedDate")??new Date,t=wt(new Date(e));function n(s){t.value=s}function r(s){t.value=new Date(s,t.value.getMonth(),t.value.getDate())}function i(s){t.value=new Date(t.value.getFullYear(),s,t.value.getDate())}return{selectedDate:t,setSelectedDate:n,setSelectedYear:r,setSelectedMonth:i}}),dR={class:"grid h-dvh grid-rows-[auto_1fr]"},pR={class:"relative z-10 bg-white px-5 py-2"},mR={class:"grid px-5"},gR={class:"grid grid-cols-3 gap-3"},yR=kn({__name:"YearView",setup(e){const t=sa(),{setSelectedYear:n}=sa(),r=Mt(()=>t.selectedDate.getFullYear()),i=t.selectedDate.getFullYear(),s=["top left","top","top right","left 20%","center 20%","right 20%","left 50%","center 50%","right 50%","left 70%","center 70%","right 70%"];return(o,a)=>(gt(),Tt("div",dR,[yt("h2",pR,Ae(r.value),1),yt("div",mR,[qt(ct(wd).div,{initial:{scale:3,transformOrigin:s[ct(t).selectedDate.getMonth()]},animate:{scale:1},transition:{duration:.3},class:"z-0"},{default:pi(()=>[qt(M_,{onNext:()=>{ct(n)(r.value+1)},onPrev:()=>{ct(n)(r.value-1)}},{item:pi(({item:l})=>[yt("div",gR,[(gt(!0),Tt(Kt,null,Wn(ct(qx),(c,u)=>(gt(),Ur(ct(Uh),{to:"/",key:ct(i)+l.id+"-"+u,onClick:f=>ct(t).setSelectedDate(new Date(ct(i)+l.id,u))},{default:pi(()=>[qt(KP,{year:ct(i)+l.id,monthIndex:u},null,8,["year","monthIndex"])]),_:2},1032,["onClick"]))),128))])]),_:1},8,["onNext","onPrev"])]),_:1},8,["initial"])])]))}});function we(e){this.content=e}we.prototype={constructor:we,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new we(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new we(n)},addToStart:function(e,t){return new we([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new we(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new we(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=we.from(e),e.size?new we(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=we.from(e),e.size?new we(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=we.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};we.from=function(e){if(e instanceof we)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new we(t)};function P_(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=P_(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function A_(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=A_(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ${constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>t&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new $(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new $(r,i)}cutByIndex(t,n){return t==n?$.empty:t==0&&n==this.content.length?this:new $(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new $(i,s)}addToStart(t){return new $([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new $(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return P_(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return A_(this,t,n,r)}findIndex(t){if(t==0)return Ha(0,t);if(t==this.size)return Ha(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=t)return s==t?Ha(n+1,s):Ha(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return $.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return $.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new $(n||t,r)}static from(t){if(!t)return $.empty;if(t instanceof $)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new $([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const ku={index:0,offset:0};function Ha(e,t){return ku.index=e,ku.offset=t,ku}function Vl(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Vl(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Vl(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Ht=class Nf{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Vl(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Nf.none;if(t instanceof Nf)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ht.none=[];class Wl extends Error{}class Q{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=N_(this.content,t+this.openStart,n);return r&&new Q(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Q(O_(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Q.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Q($.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Q(t,r,i)}}Q.empty=new Q($.empty,0,0);function O_(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(O_(s.content,t-i-1,n-i-1)))}function N_(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=N_(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function vR(e,t,n){if(n.openStart>e.depth)throw new Wl("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Wl("Inconsistent open depths");return D_(e,t,n,0)}function D_(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=D_(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return bi(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=xR(n,e);return bi(s,R_(e,o,a,t,r))}else return bi(s,jl(e,t,r))}function I_(e,t){if(!t.type.compatibleContent(e.type))throw new Wl("Cannot join "+t.type.name+" onto "+e.type.name)}function Df(e,t,n){let r=e.node(n);return I_(r,t.node(n)),r}function xi(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function $o(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(xi(e.nodeAfter,r),s++));for(let a=s;a<o;a++)xi(i.child(a),r);t&&t.depth==n&&t.textOffset&&xi(t.nodeBefore,r)}function bi(e,t){return e.type.checkContent(t),e.copy(t)}function R_(e,t,n,r,i){let s=e.depth>i&&Df(e,t,i+1),o=r.depth>i&&Df(n,r,i+1),a=[];return $o(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(I_(s,o),xi(bi(s,R_(e,t,n,r,i+1)),a)):(s&&xi(bi(s,jl(e,t,i+1)),a),$o(t,n,i,a),o&&xi(bi(o,jl(n,r,i+1)),a)),$o(r,null,i,a),new $(a)}function jl(e,t,n){let r=[];if($o(null,e,n,r),e.depth>n){let i=Df(e,t,n+1);xi(bi(i,jl(e,t,n+1)),r)}return $o(t,null,n,r),new $(r)}function xR(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy($.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class oa{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ht.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new zl(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new oa(n,r,s)}static resolveCached(t,n){let r=oy.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else oy.set(t,r=new bR);let i=r.elts[r.i]=oa.resolve(t,n);return r.i=(r.i+1)%_R,i}}class bR{constructor(){this.elts=[],this.i=0}}const _R=12,oy=new WeakMap;class zl{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const wR=Object.create(null);class Un{constructor(t,n,r,i=Ht.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||$.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Vl(this.attrs,n||t.defaultAttrs||wR)&&Ht.sameSet(this.marks,r||Ht.none)}copy(t=null){return t==this.content?this:new Un(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Un(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Q.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new Q(c,i.depth-o,s.depth-o)}replace(t,n,r){return vR(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return oa.resolveCached(this,t)}resolveNoCache(t){return oa.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),L_(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=$.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ht.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ht.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=$.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Un.prototype.text=void 0;class Kl extends Un{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):L_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Kl(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Kl(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function L_(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Ei{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new SR(t,n);if(r.next==null)return Ei.empty;let i=F_(r);r.next&&r.err("Unexpected trailing text");let s=AR(PR(i));return OR(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return $.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let h=s(f,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join(`
`)}}Ei.empty=new Ei(!0);class SR{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function F_(e){let t=[];do t.push(TR(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function TR(e){let t=[];do t.push(kR(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function kR(e){let t=MR(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=CR(e,t);else break;return t}function ay(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function CR(e,t){let n=ay(e),r=n;return e.eat(",")&&(e.next!="}"?r=ay(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ER(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(t)&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function MR(e){if(e.eat("(")){let t=F_(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=ER(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function PR(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let c={term:l,to:a};return t[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function $_(e,t){return t-e}function ly(e,t){let n=[];return r(t),n.sort($_);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function AR(e){let t=Object.create(null);return n(ly(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);ly(e,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=t[r.join(",")]=new Ei(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort($_);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function OR(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function B_(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function V_(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function W_(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function j_(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new DR(e,r,t[r]);return n}class Gl{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=j_(t,r.attrs),this.defaultAttrs=B_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ei.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:V_(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Un(this,this.computeAttrs(t),$.from(n),Ht.setFrom(r))}createChecked(t=null,n,r){return n=$.from(n),this.checkContent(n),new Un(this,this.computeAttrs(t),n,Ht.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=$.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore($.empty,!0);return s?new Un(this,t,n.append(s),Ht.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){W_(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ht.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new Gl(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}function NR(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class DR{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?NR(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ac{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=j_(t,i.attrs),this.excluded=null;let s=B_(this.attrs);this.instance=s?new Ht(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Ht(this,V_(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new Ac(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){W_(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class IR{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=we.from(t.nodes),n.marks=we.from(t.marks||{}),this.nodes=Gl.compile(this.spec.nodes,this),this.marks=Ac.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Ei.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?cy(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:cy(this,o.split(" "))}this.nodeFromJSON=i=>Un.fromJSON(this,i),this.markFromJSON=i=>Ht.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Gl){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Kl(r,r.defaultAttrs,t,Ht.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function cy(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function RR(e){return e.tag!=null}function LR(e){return e.style!=null}let Cu=class If{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(RR(i))this.tags.push(i);else if(LR(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new fy(this,n,!1);return r.addAll(t,Ht.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new fy(this,n,!0);return r.addAll(t,Ht.none,n.from,n.to),Q.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(BR(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=hy(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=hy(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new If(t,If.schemaRules(t)))}};const z_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},FR={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},K_={ol:!0,ul:!0},aa=1,Rf=2,Bo=4;function uy(e,t,n){return t!=null?(t?aa:0)|(t==="full"?Rf:0):e&&e.whitespace=="pre"?aa|Rf:n&~Bo}class Ua{constructor(t,n,r,i,s,o){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Ht.none,this.match=s||(o&Bo?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore($.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&aa)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=$.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!z_.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class fy{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=uy(null,n.preserveWhitespace,0)|(r?Bo:0);i?s=new Ua(i.type,i.attrs,Ht.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Ua(null,null,Ht.none,!0,null,o):s=new Ua(t.schema.topNodeType,null,Ht.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&Rf?"full":this.localPreserveWS||(i.options&aa)>0;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=t.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),a;K_.hasOwnProperty(o)&&this.parser.normalizeLists&&$R(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));t:if(l?l.ignore:FR.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(z_.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break t}let f=l&&l.skip?n:this.readStyles(t,n);f&&this.addAll(t,f),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}s&&this.sync(a)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let o=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(o,n);this.findAtPoint(t,s)}findPlace(t,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let o=Ht.none;for(let a of i.concat(t.marks))(s.type?s.type.allowsMarkType(a.type):dy(a.type,t.type))&&(o=a.addToSet(o));return s.content.push(t.mark(o)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r,!1);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let a=uy(t,s,o.options);o.options&Bo&&o.content.length==0&&(a|=Bo);let l=Ht.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):dy(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ua(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=aa)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function $R(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&K_.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function BR(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function hy(e){let t={};for(let n in e)t[n]=e[n];return t}function dy(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}const G_=65535,H_=Math.pow(2,16);function VR(e,t){return e+t*H_}function py(e){return e&G_}function WR(e){return(e-(e&G_))/H_}const U_=1,Y_=2,fl=4,J_=8;class Lf{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&J_)>0}get deletedBefore(){return(this.delInfo&(U_|fl))>0}get deletedAfter(){return(this.delInfo&(Y_|fl))>0}get deletedAcross(){return(this.delInfo&fl)>0}}class Ze{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Ze.empty)return Ze.empty}recover(t){let n=0,r=py(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+WR(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+s],u=this.ranges[a+o],f=l+c;if(t<=f){let h=c?t==l?-1:t==f?1:n:n,d=l+i+(h<0?0:u);if(r)return d;let p=t==(n<0?l:f)?null:VR(a/3,t-l),m=t==l?Y_:t==f?U_:fl;return(n<0?t!=l:t!=f)&&(m|=J_),new Lf(d,m,p)}i+=u-c}return r?t+i:new Lf(t+i,0,null)}touches(t,n){let r=0,i=py(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+s],u=l+c;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];t(a,a+c,l,l+u),s+=u-c}}invert(){return new Ze(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Ze.empty:new Ze(t<0?[0,-t,0]:[0,0,t])}}Ze.empty=new Ze([]);class Hl{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Hl(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Hl;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new Lf(t,i,null)}}const Eu=Object.create(null);class Re{getMap(){return Ze.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Eu[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Eu)throw new RangeError("Duplicate use of step JSON ID "+t);return Eu[t]=n,n.prototype.jsonID=t,n}}class re{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new re(t,null)}static fail(t){return new re(null,t)}static fromReplace(t,n,r,i){try{return re.ok(t.replace(n,r,i))}catch(s){if(s instanceof Wl)return re.fail(s.message);throw s}}}function Sd(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(Sd(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return $.fromArray(r)}class $r extends Re{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Q(Sd(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return re.fromReplace(t,this.from,this.to,s)}invert(){return new vn(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new $r(n.pos,r.pos,this.mark)}merge(t){return t instanceof $r&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new $r(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $r(n.from,n.to,t.markFromJSON(n.mark))}}Re.jsonID("addMark",$r);class vn extends Re{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Q(Sd(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return re.fromReplace(t,this.from,this.to,r)}invert(){return new $r(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new vn(n.pos,r.pos,this.mark)}merge(t){return t instanceof vn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new vn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new vn(n.from,n.to,t.markFromJSON(n.mark))}}Re.jsonID("removeMark",vn);class Br extends Re{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return re.fromReplace(t,this.pos,this.pos+1,new Q($.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Br(this.pos,n.marks[i]);return new Br(this.pos,this.mark)}}return new Mi(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Br(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Br(n.pos,t.markFromJSON(n.mark))}}Re.jsonID("addNodeMark",Br);class Mi extends Re{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return re.fromReplace(t,this.pos,this.pos+1,new Q($.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Br(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Mi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mi(n.pos,t.markFromJSON(n.mark))}}Re.jsonID("removeNodeMark",Mi);class de extends Re{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&Ff(t,this.from,this.to)?re.fail("Structure replace would overwrite content"):re.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ze([this.from,this.to-this.from,this.slice.size])}invert(t){return new de(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new de(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof de)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Q.empty:new Q(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new de(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Q.empty:new Q(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new de(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new de(n.from,n.to,Q.fromJSON(t,n.slice),!!n.structure)}}Re.jsonID("replace",de);class ye extends Re{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(Ff(t,this.from,this.gapFrom)||Ff(t,this.gapTo,this.to)))return re.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return re.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?re.fromReplace(t,this.from,this.to,r):re.fail("Content does not fit in gap")}getMap(){return new Ze([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new ye(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new ye(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ye(n.from,n.to,n.gapFrom,n.gapTo,Q.fromJSON(t,n.slice),n.insert,!!n.structure)}}Re.jsonID("replaceAround",ye);function Ff(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function jR(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,t),d=Math.min(c+l.nodeSize,n),p=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(p)||(o&&o.to==h&&o.mark.eq(f[m])?o.to=d:i.push(o=new vn(h,d,f[m])));a&&a.to==h?a.to=d:s.push(a=new $r(h,d,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function zR(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Ac){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let f=l[u],h;for(let d=0;d<i.length;d++){let p=i[d];p.step==s-1&&f.eq(i[d].style)&&(h=p)}h?(h.to=c,h.step=s):i.push({style:f,from:Math.max(a,t),to:c,step:s})}}}),i.forEach(o=>e.step(new vn(o.from,o.to,o.style)))}function Td(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,f=r.matchType(c.type);if(!f)o.push(new de(a,u,Q.empty));else{r=f;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||e.step(new vn(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,d=/\r?\n|\r/g,p;for(;h=d.exec(c.text);)p||(p=new Q($.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new de(a+h.index,a+h.index+h[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore($.empty,!0);e.replace(a,a,new Q(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function KR(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Ys(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!KR(i,s,o))break}return null}function GR(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=$.empty,f=0;for(let p=s,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,u=$.from(r.node(p).copy(u)),f++):l--;let h=$.empty,d=0;for(let p=s,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,h=$.from(i.node(p).copy(h)),d++):c++;e.step(new ye(l,c,o,a,new Q(u.append(h),f,d),u.size-f,!0))}function kd(e,t,n=null,r=e){let i=HR(e,t),s=i&&UR(r,t);return s?i.map(my).concat({type:t,attrs:n}).concat(s.map(my)):null}function my(e){return{type:e,attrs:null}}function HR(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function UR(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function YR(e,t,n){let r=$.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=$.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new ye(i,s,i,s,new Q(r,0,0),n.length,!0))}function JR(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&qR(e.doc,e.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let d=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);d&&!p?c=!1:!d&&p&&(c=!0)}c===!1&&X_(e,o,a,s),Td(e,e.mapping.slice(s).map(a,1),r,void 0,c===null);let u=e.mapping.slice(s),f=u.map(a,1),h=u.map(a+o.nodeSize,1);return e.step(new ye(f,h,f+1,h-1,new Q($.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&q_(e,o,a,s),!1}})}function q_(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function X_(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function qR(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function XR(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new ye(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new Q($.from(o),0,0),1,!0))}function pr(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let f=i.node(c),h=i.index(c);if(f.type.spec.isolating)return!1;let d=f.content.cutByIndex(h,f.childCount),p=r&&r[u+1];p&&(d=d.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[u]||f;if(!f.canReplace(h+1,f.childCount)||!m.type.validContent(d))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function QR(e,t,n=1,r){let i=e.doc.resolve(t),s=$.empty,o=$.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=$.from(i.node(a).copy(s));let u=r&&r[c];o=$.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}e.step(new de(t,t,new Q(s.append(o),n,n),!0))}function Xr(e,t){let n=e.resolve(t),r=n.index();return Q_(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function ZR(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),o=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function Q_(e,t){return!!(e&&t&&!e.isLeaf&&ZR(e,t))}function Oc(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&Q_(s,o)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function tL(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);u&&!f?r=!1:!u&&f&&(r=!0)}let a=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);X_(e,u.node(),u.before(),a)}o.inlineContent&&Td(e,t+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new de(c,l.map(t+n,-1),Q.empty,!0)),r===!0){let u=e.doc.resolve(c);q_(e,u.node(),u.before(),e.steps.length)}return e}function eL(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Nc(e,t,n=t,r=Q.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return Z_(i,s,r)?new de(t,n,r):new nL(i,s,r).fit()}function Z_(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class nL{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=$.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=$.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Q(s,o,a);return t>-1?new ye(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new de(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Mu(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(n==1&&(o?c.matchType(o.type)||(f=c.fillBefore($.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:f};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Mu(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Q(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Mu(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new Q(xo(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Q(xo(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,c=0,u=[],{match:f,type:h}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));f=f.matchFragment(i)}let d=a.size+t-(o.content.size-o.openEnd);for(;c<a.childCount;){let m=a.child(c),g=f.matchType(m.type);if(!g)break;c++,(c>1||l==0||m.content.size)&&(f=g,u.push(tw(m.mark(h.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?d:-1)))}let p=c==a.childCount;p||(d=-1),this.placed=bo(this.placed,n,$.from(u)),this.frontier[n].match=f,p&&d<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<d;m++){let y=g.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),g=y.content}this.unplaced=p?t==0?Q.empty:new Q(xo(o.content,t-1,1),t-1,d<0?o.openEnd:t-1):new Q(xo(o.content,t,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Pu(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){t:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=Pu(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Pu(t,a,c,l,!0);if(!u||u.childCount)continue t}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=bo(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=bo(this.placed,this.depth,$.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore($.empty,!0);n.childCount&&(this.placed=bo(this.placed,this.frontier.length,n))}}function xo(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(xo(e.firstChild.content,t-1,n)))}function bo(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(bo(e.lastChild.content,t-1,n)))}function Mu(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function tw(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,tw(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore($.empty,!0)))),e.copy(r)}function Pu(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!rL(n,s.content,o)?a:null}function rL(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function iL(e){return e.spec.defining||e.spec.definingForContent}function sL(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(Z_(i,s,r))return e.step(new de(t,n,r));let o=nw(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,d=i.pos-1;h>0;h--,d--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==d&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,d=0;;d++){let p=h.firstChild;if(c.push(p),d==r.openStart)break;h=p.content}for(let h=u-1;h>=0;h--){let d=c[h],p=iL(d.type);if(p&&!d.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(p||!d.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let d=(h+u+1)%(r.openStart+1),p=c[d];if(p)for(let m=0;m<o.length;m++){let g=o[(m+l)%o.length],y=!0;g<0&&(y=!1,g=-g);let v=i.node(g-1),x=i.index(g-1);if(v.canReplaceWith(x,x,p.type,p.marks))return e.replace(i.before(g),y?s.after(g):n,new Q(ew(r.content,0,r.openStart,d),d,r.openEnd))}}let f=e.steps.length;for(let h=o.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>f));h--){let d=o[h];d<0||(t=i.before(d),n=s.after(d))}}function ew(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(ew(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore($.empty,!0))}return e}function oL(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=eL(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Q($.from(r),0,0))}function aL(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=nw(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function nw(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class xs extends Re{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return re.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return re.fromReplace(t,this.pos,this.pos+1,new Q($.from(i),0,n.isLeaf?0:1))}getMap(){return Ze.empty}invert(t){return new xs(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new xs(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xs(n.pos,n.attr,n.value)}}Re.jsonID("attr",xs);class la extends Re{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return re.ok(r)}getMap(){return Ze.empty}invert(t){return new la(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new la(n.attr,n.value)}}Re.jsonID("docAttr",la);let Ps=class extends Error{};Ps=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Ps.prototype=Object.create(Error.prototype);Ps.prototype.constructor=Ps;Ps.prototype.name="TransformError";class lL{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Hl}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Ps(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Q.empty){let i=Nc(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Q($.from(r),0,0))}delete(t,n){return this.replace(t,n,Q.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return sL(this,t,n,r),this}replaceRangeWith(t,n,r){return oL(this,t,n,r),this}deleteRange(t,n){return aL(this,t,n),this}lift(t,n){return GR(this,t,n),this}join(t,n=1){return tL(this,t,n),this}wrap(t,n){return YR(this,t,n),this}setBlockType(t,n=t,r,i=null){return JR(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return XR(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new xs(t,n,r)),this}setDocAttribute(t,n){return this.step(new la(t,n)),this}addNodeMark(t,n){return this.step(new Br(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Ht)n.isInSet(r.marks)&&this.step(new Mi(t,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new Mi(t,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(t,n=1,r){return QR(this,t,n,r),this}addMark(t,n,r){return jR(this,t,n,r),this}removeMark(t,n,r){return zR(this,t,n,r),this}clearIncompatible(t,n,r){return Td(this,t,n,r),this}}const Au=Object.create(null);class Rt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new cL(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Q.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=t.mapping.slice(s);t.replaceRange(u.map(l.pos),u.map(c.pos),a?Q.empty:n),a==0&&vy(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),vy(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Ut(t):ns(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?ns(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):ns(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new fn(t.node(0))}static atStart(t){return ns(t,t,0,0,1)||new fn(t)}static atEnd(t){return ns(t,t,t.content.size,t.childCount,-1)||new fn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Au[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Au)throw new RangeError("Duplicate use of selection JSON ID "+t);return Au[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ut.between(this.$anchor,this.$head).getBookmark()}}Rt.prototype.visible=!0;class cL{constructor(t,n){this.$from=t,this.$to=n}}let gy=!1;function yy(e){!gy&&!e.parent.inlineContent&&(gy=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ut extends Rt{constructor(t,n=t){yy(t),yy(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Rt.near(r);let i=t.resolve(n.map(this.anchor));return new Ut(i.parent.inlineContent?i:r,r)}replace(t,n=Q.empty){if(super.replace(t,n),n==Q.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ut&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Dc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ut(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Rt.findFrom(n,r,!0)||Rt.findFrom(n,-r,!0);if(s)n=s.$head;else return Rt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Rt.findFrom(t,-r,!0)||Rt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Ut(t,n)}}Rt.jsonID("text",Ut);class Dc{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Dc(t.map(this.anchor),t.map(this.head))}resolve(t){return Ut.between(t.resolve(this.anchor),t.resolve(this.head))}}class zt extends Rt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Rt.near(s):new zt(s)}content(){return new Q($.from(this.node),0,0)}eq(t){return t instanceof zt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Cd(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new zt(t.resolve(n.anchor))}static create(t,n){return new zt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}zt.prototype.visible=!1;Rt.jsonID("node",zt);class Cd{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Dc(r,r):new Cd(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&zt.isSelectable(r)?new zt(n):Rt.near(n)}}class fn extends Rt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Q.empty){if(n==Q.empty){t.delete(0,t.doc.content.size);let r=Rt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new fn(t)}map(t){return new fn(t)}eq(t){return t instanceof fn}getBookmark(){return uL}}Rt.jsonID("all",fn);const uL={map(){return this},resolve(e){return new fn(e)}};function ns(e,t,n,r,i,s=!1){if(t.inlineContent)return Ut.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&zt.isSelectable(a))return zt.create(e,n-(i<0?a.nodeSize:0))}else{let l=ns(e,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function vy(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof de||i instanceof ye))return;let s=e.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),e.setSelection(Rt.near(e.doc.resolve(o),n))}function xy(e,t){return!t||!e?e:e.bind(t)}class Ya{constructor(t,n,r){this.name=t,this.init=xy(n.init,r),this.apply=xy(n.apply,r)}}new Ya("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Ya("selection",{init(e,t){return e.selection||Rt.atStart(t.doc)},apply(e){return e.selection}}),new Ya("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Ya("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}});function rw(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=rw(i,t,{})),n[r]=i}return n}class Ki{constructor(t){this.spec=t,this.props={},t.props&&rw(t.props,this,this.props),this.key=t.key?t.key.key:iw("plugin")}getState(t){return t[this.key]}}const Ou=Object.create(null);function iw(e){return e in Ou?e+"$"+ ++Ou[e]:(Ou[e]=0,e+"$")}class Gi{constructor(t="key"){this.key=iw(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Ed=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function sw(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const ow=(e,t,n)=>{let r=sw(e,n);if(!r)return!1;let i=Md(r);if(!i){let o=r.blockRange(),a=o&&Ys(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(mw(e,i,t,-1))return!0;if(r.parent.content.size==0&&(As(s,"end")||zt.isSelectable(s)))for(let o=r.depth;;o--){let a=Nc(e.doc,r.before(o),r.after(o),Q.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(As(s,"end")?Rt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):zt.create(l.doc,i.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},fL=(e,t,n)=>{let r=sw(e,n);if(!r)return!1;let i=Md(r);return i?aw(e,i,t):!1},hL=(e,t,n)=>{let r=cw(e,n);if(!r)return!1;let i=Pd(r);return i?aw(e,i,t):!1};function aw(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=t.nodeAfter,a=o,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Nc(e.doc,s,l,Q.empty);if(!c||c.from!=s||c instanceof de&&c.slice.size>=l-s)return!1;if(n){let u=e.tr.step(c);u.setSelection(Ut.create(u.doc,s)),n(u.scrollIntoView())}return!0}function As(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const lw=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=Md(r)}let o=s&&s.nodeBefore;return!o||!zt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(zt.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Md(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function cw(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const uw=(e,t,n)=>{let r=cw(e,n);if(!r)return!1;let i=Pd(r);if(!i)return!1;let s=i.nodeAfter;if(mw(e,i,t,1))return!0;if(r.parent.content.size==0&&(As(s,"start")||zt.isSelectable(s))){let o=Nc(e.doc,r.before(),r.after(),Q.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(As(s,"start")?Rt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):zt.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},fw=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=Pd(r)}let o=s&&s.nodeAfter;return!o||!zt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(zt.create(e.doc,s.pos)).scrollIntoView()),!0)};function Pd(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const dL=(e,t)=>{let n=e.selection,r=n instanceof zt,i;if(r){if(n.node.isTextblock||!Xr(e.doc,n.from))return!1;i=n.from}else if(i=Oc(e.doc,n.from,-1),i==null)return!1;if(t){let s=e.tr.join(i);r&&s.setSelection(zt.create(s.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},pL=(e,t)=>{let n=e.selection,r;if(n instanceof zt){if(n.node.isTextblock||!Xr(e.doc,n.to))return!1;r=n.to}else if(r=Oc(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},mL=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&Ys(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},hw=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function Ad(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gL=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Ad(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Rt.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},dw=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof fn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Ad(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(Ut.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},pw=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(pr(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ys(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function yL(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof zt&&t.selection.node.isBlock)return!r.parentOffset||!pr(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let d=r.depth;;d--)if(r.node(d).isBlock){l=r.end(d)==r.pos+(r.depth-d),c=r.start(d)==r.pos-(r.depth-d),a=Ad(r.node(d-1).contentMatchAt(r.indexAfter(d-1))),s.unshift(l&&a?{type:a}:null),o=d;break}else{if(d==1)return!1;s.unshift(null)}let u=t.tr;(t.selection instanceof Ut||t.selection instanceof fn)&&u.deleteSelection();let f=u.mapping.map(r.pos),h=pr(u.doc,f,s.length,s);if(h||(s[0]=a?{type:a}:null,h=pr(u.doc,f,s.length,s)),!h)return!1;if(u.split(f,s.length,s),!l&&c&&r.node(o).type!=a){let d=u.mapping.map(r.before(o)),p=u.doc.resolve(d);a&&r.node(o-1).canReplaceWith(p.index(),p.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(o)),a)}return n&&n(u.scrollIntoView()),!0}}const vL=yL(),xL=(e,t)=>{let{$from:n,to:r}=e.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),t&&t(e.tr.setSelection(zt.create(e.doc,i))),!0)};function bL(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||Xr(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function mw(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&bL(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let d=t.pos+s.nodeSize,p=$.empty;for(let y=o.length-1;y>=0;y--)p=$.from(o[y].create(null,p));p=$.from(i.copy(p));let m=e.tr.step(new ye(t.pos-1,d,t.pos,d,new Q(p,1,0),o.length,!0)),g=m.doc.resolve(d+2*o.length);g.nodeAfter&&g.nodeAfter.type==i.type&&Xr(m.doc,g.pos)&&m.join(g.pos),n(m.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:Rt.findFrom(t,1),f=u&&u.$from.blockRange(u.$to),h=f&&Ys(f);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(f,h).scrollIntoView()),!0;if(c&&As(s,"start",!0)&&As(i,"end")){let d=i,p=[];for(;p.push(d),!d.isTextblock;)d=d.lastChild;let m=s,g=1;for(;!m.isTextblock;m=m.firstChild)g++;if(d.canReplace(d.childCount,d.childCount,m.content)){if(n){let y=$.empty;for(let x=p.length-1;x>=0;x--)y=$.from(p[x].copy(y));let v=e.tr.step(new ye(t.pos-p.length,t.pos+s.nodeSize,t.pos+g,t.pos+s.nodeSize-g,new Q(y,p.length,0),0,!0));n(v.scrollIntoView())}return!0}}return!1}function gw(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Ut.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const _L=gw(-1),wL=gw(1);function SL(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&kd(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function by(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,e,t)}r(s.scrollIntoView())}return!0}}function Od(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}Od(Ed,ow,lw);Od(Ed,uw,fw);Od(hw,dw,pw,vL);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function TL(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return kL(a,o,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function kL(e,t,n,r=null){let i=!1,s=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=o.resolve(t.start-2);s=new zl(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new zl(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let a=kd(s,n,r,t);return a?(e&&CL(e,t,a,i,n),!0):!1}function CL(e,t,n,r,i){let s=$.empty;for(let u=n.length-1;u>=0;u--)s=$.from(n[u].type.create(n[u].attrs,s));e.step(new ye(t.start-(r?2:0),t.end,t.start,t.end,new Q(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,f=t.endIndex,h=!0;u<f;u++,h=!1)!h&&pr(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function EL(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?ML(t,n,e,s):PL(t,n,s):!0:!1}}function ML(e,t,n,r){let i=e.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new ye(s-1,o,s,o,new Q($.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new zl(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Ys(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Xr(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function PL(e,t,n){let r=e.tr,i=n.parent;for(let d=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)d-=i.child(p).nodeSize,r.delete(d-1,d+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?$.empty:$.from(i))))return!1;let f=s.pos,h=f+o.nodeSize;return r.step(new ye(f-(a?1:0),h+(l?1:0),f+1,h-1,new Q((a?$.empty:$.from(i.copy($.empty))).append(l?$.empty:$.from(i.copy($.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function AL(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=$.from(c?e.create():null),f=new Q($.from(e.create(null,$.from(a.type.create(null,u)))),c?3:1,0),h=s.start,d=s.end;n(t.tr.step(new ye(h-(c?3:1),d,h,d,f,1,!0)).scrollIntoView())}return!0}}var OL=Object.defineProperty,yw=(e,t)=>{for(var n in t)OL(e,n,{get:t[n],enumerable:!0})};function vw(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var NL=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([o,a])=>[o,(...c)=>{const u=a(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!e,l=e||i.tr,c=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...p)=>{const m=this.buildProps(l,t),g=h(...p)(m);return o.push(g),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:e,editor:r,view:s,state:vw({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}};function DL(e,t){const n=new lL(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var xw=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&xw(r)}return e};function Ja(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return xw(n)}function ca(e,t,n){if(e instanceof Un||e instanceof $)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return $.fromArray(e.map(a=>t.nodeFromJSON(a)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),ca("",t,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new IR({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Cu.fromSchema(l).parseSlice(Ja(e),n.parseOptions):Cu.fromSchema(l).parse(Ja(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Cu.fromSchema(t);return n.slice?s.parseSlice(Ja(e),n.parseOptions).content:s.parse(Ja(e),n.parseOptions)}return ca("",t,n)}function IL(e,t,n={},r={}){return ca(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function RL(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function LL(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Ic(e){return t=>LL(t.$from,e)}function ua(e,t,n){return e.config[t]===void 0&&e.parent?ua(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?ua(e.parent,t,n):null}):e.config[t]}function FL(e){return typeof e=="function"}function Os(e,t=void 0,...n){return FL(e)?t?e.bind(t)(...n):e(...n):e}function $L(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function tr(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,h]=u.split(":").map(d=>d.trim());c.set(f,h)}),a.forEach(u=>{const[f,h]=u.split(":").map(d=>d.trim());c.set(f,h)}),r[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else r[i]=s}),r},{})}function BL(e,t,n){const{from:r,to:i}=t,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return e.nodesBetween(r,i,(l,c,u,f)=>{var h;l.isBlock&&c>r&&(a+=s);const d=o?.[l.type.name];if(d)return u&&(a+=d({node:l,pos:c,parent:u,index:f,range:t})),!1;l.isText&&(a+=(h=l?.text)==null?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function VL(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function Qr(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function WL(e,t){const n=Qr(t,e.schema),{from:r,to:i,empty:s}=e.selection,o=[];s?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function xe(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function bw(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function jL(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function zL(e){const t=jL(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function KL(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=t.slice(s).map(a,-1),u=t.slice(s).map(l),f=t.invert().map(c,-1),h=t.invert().map(u);r.push({oldRange:{from:f,to:h},newRange:{from:c,to:u}})})}),zL(r)}function GL(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ul(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:GL(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function _w(e,t,n={}){return e.find(r=>r.type===t&&Ul(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function _y(e,t,n={}){return!!_w(e,t,n)}function Nd(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!_w([...i.node.marks],t,n)))return;let o=i.index,a=e.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&_y([...e.parent.child(o-1).marks],t,n);)o-=1,a-=e.parent.child(o).nodeSize;for(;l<e.parent.childCount&&_y([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function ww(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const s=n.resolve(e),o=Nd(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(e,t,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var HL=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);a?.type.name===t?o=a:s-=1}return[o,s]};function hl(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(s=>s.type===t&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function UL(e,t,n={}){const{empty:r,ranges:i}=e.selection,s=t?Qr(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>Ul(f.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:h})=>{const d=f.pos,p=h.pos;e.doc.nodesBetween(d,p,(m,g)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(d,g),v=Math.min(p,g+m.nodeSize),x=v-y;o+=x,a.push(...m.marks.map(w=>({mark:w,from:y,to:v})))})}),o===0)return!1;const l=a.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>Ul(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),c=a.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,h)=>f+h.to-h.from,0);return(l>0?l+c:l)>=o}function Ns(e,t,n={}){const{from:r,to:i,empty:s}=e.selection,o=t?xe(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(f,h)=>{if(f.isText)return;const d=Math.max(r,h),p=Math.min(i,h+f.nodeSize);a.push({node:f,from:d,to:p})});const l=i-r,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>Ul(f.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((f,h)=>f+h.to-h.from,0)>=l}var YL=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const s=Ic(a=>a.type.name===t)(e.selection);if(!s)return!1;const o=e.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},JL=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function wy(e,t){const{nodeExtensions:n}=$L(t),r=n.find(o=>o.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Os(ua(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Sw(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(s=>{i!==!1&&(Sw(s,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function Tw(e){return e instanceof Ut}function fi(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function qL(e,t=null){if(!t)return null;const n=Rt.atStart(e),r=Rt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,s=r.to;return t==="all"?Ut.create(e,fi(0,i,s),fi(e.content.size,i,s)):Ut.create(e,fi(t,i,s),fi(t,i,s))}function XL(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof de||i instanceof ye))return;const s=e.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),e.setSelection(Rt.near(e.doc.resolve(o),n))}var kw=class{constructor(e){this.find=e.find,this.handler=e.handler}};function QL(e){return Object.prototype.toString.call(e).slice(8,-1)}function qa(e){return QL(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Cw(e,t){const n={...e};return qa(e)&&qa(t)&&Object.keys(t).forEach(r=>{qa(t[r])&&qa(e[r])?n[r]=Cw(e[r],t[r]):n[r]=t[r]}),n}var Dd=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Os(ua(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Os(ua(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Cw(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Ew=class Mw extends Dd{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new Mw(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>c?.type.name===n.name))return!1;const l=o.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},ZL=class{constructor(e){this.find=e.find,this.handler=e.handler}},tF={};yw(tF,{ClipboardTextSerializer:()=>eF,Commands:()=>u$,Delete:()=>f$,Drop:()=>h$,Editable:()=>d$,FocusEvents:()=>p$,Keymap:()=>m$,Paste:()=>g$,Tabindex:()=>y$,focusEventsPluginKey:()=>Nw});var Cn=class Pw extends Dd{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new Pw(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},eF=Cn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ki({key:new Gi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=VL(n);return BL(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Aw={};yw(Aw,{blur:()=>nF,clearContent:()=>rF,clearNodes:()=>iF,command:()=>sF,createParagraphNear:()=>oF,cut:()=>aF,deleteCurrentNode:()=>lF,deleteNode:()=>cF,deleteRange:()=>uF,deleteSelection:()=>fF,enter:()=>hF,exitCode:()=>dF,extendMarkRange:()=>pF,first:()=>mF,focus:()=>yF,forEach:()=>vF,insertContent:()=>xF,insertContentAt:()=>_F,joinBackward:()=>TF,joinDown:()=>SF,joinForward:()=>kF,joinItemBackward:()=>CF,joinItemForward:()=>EF,joinTextblockBackward:()=>MF,joinTextblockForward:()=>PF,joinUp:()=>wF,keyboardShortcut:()=>OF,lift:()=>NF,liftEmptyBlock:()=>DF,liftListItem:()=>IF,newlineInCode:()=>RF,resetAttributes:()=>LF,scrollIntoView:()=>FF,selectAll:()=>$F,selectNodeBackward:()=>BF,selectNodeForward:()=>VF,selectParentNode:()=>WF,selectTextblockEnd:()=>jF,selectTextblockStart:()=>zF,setContent:()=>KF,setMark:()=>HF,setMeta:()=>UF,setNode:()=>YF,setNodeSelection:()=>JF,setTextSelection:()=>qF,sinkListItem:()=>XF,splitBlock:()=>QF,splitListItem:()=>ZF,toggleList:()=>t$,toggleMark:()=>e$,toggleNode:()=>n$,toggleWrap:()=>r$,undoInputRule:()=>i$,unsetAllMarks:()=>s$,unsetMark:()=>o$,updateAttributes:()=>a$,wrapIn:()=>l$,wrapInList:()=>c$});var nF=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),rF=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),iF=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{e.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=t,f=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),d=f.blockRange(h);if(!d)return;const p=Ys(d);if(a.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(d.start,m)}(p||p===0)&&t.lift(d,p)})}),!0},sF=e=>t=>e(t),oF=()=>({state:e,dispatch:t})=>dw(e,t),aF=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,s.content),r.setSelection(new Ut(r.doc.resolve(Math.max(o-1,0)))),!0},lF=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(t){const a=i.before(s),l=i.after(s);e.delete(a,l).scrollIntoView()}return!0}return!1},cF=e=>({tr:t,state:n,dispatch:r})=>{const i=xe(e,n.schema),s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);t.delete(l,c).scrollIntoView()}return!0}return!1},uF=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},fF=()=>({state:e,dispatch:t})=>Ed(e,t),hF=()=>({commands:e})=>e.keyboardShortcut("Enter"),dF=()=>({state:e,dispatch:t})=>gL(e,t),pF=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const s=Qr(e,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const f=Nd(l,s,t);if(f&&f.from<=c&&f.to>=u){const h=Ut.create(o,f.from,f.to);n.setSelection(h)}}return!0},mF=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function gF(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Id(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var yF=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:s})=>{t={scrollIntoView:!0,...t};const o=()=>{(Id()||gF())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!Tw(n.state.selection))return o(),!0;const a=qL(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},vF=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),xF=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),bF=e=>!("type"in e),_F=(e,t,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const{selection:l}=s.state,c=y=>{s.emit("contentError",{editor:s,error:y,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{ca(t,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(y){c(y)}try{a=ca(t,s.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(y){return c(y),!1}let{from:f,to:h}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},d=!0,p=!0;if((bF(a)?a:[a]).forEach(y=>{y.check(),d=d?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),f===h&&p){const{parent:y}=r.doc.resolve(f);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(f-=1,h+=1)}let g;if(d){if(Array.isArray(t))g=t.map(y=>y.text||"").join("");else if(t instanceof $){let y="";t.forEach(v=>{v.text&&(y+=v.text)}),g=y}else typeof t=="object"&&t&&t.text?g=t.text:g=t;r.insertText(g,f,h)}else{g=a;const y=l.$from.parentOffset===0,v=l.$from.node().isText||l.$from.node().isTextblock,x=l.$from.node().content.size>0;y&&v&&x&&(f=Math.max(0,f-1)),r.replaceWith(f,h,g)}n.updateSelection&&XL(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:g})}return!0},wF=()=>({state:e,dispatch:t})=>dL(e,t),SF=()=>({state:e,dispatch:t})=>pL(e,t),TF=()=>({state:e,dispatch:t})=>ow(e,t),kF=()=>({state:e,dispatch:t})=>uw(e,t),CF=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Oc(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},EF=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Oc(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},MF=()=>({state:e,dispatch:t})=>fL(e,t),PF=()=>({state:e,dispatch:t})=>hL(e,t);function Ow(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function AF(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Id()||Ow()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var OF=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const s=AF(e).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0},NF=(e,t={})=>({state:n,dispatch:r})=>{const i=xe(e,n.schema);return Ns(n,i,t)?mL(n,r):!1},DF=()=>({state:e,dispatch:t})=>pw(e,t),IF=e=>({state:t,dispatch:n})=>{const r=xe(e,t.schema);return EL(r)(t,n)},RF=()=>({state:e,dispatch:t})=>hw(e,t);function Sy(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var LF=(e,t)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=bw(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(s=xe(e,r.schema)),a==="mark"&&(o=Qr(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,Sy(c.attrs,t)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&n.addMark(u,u+c.nodeSize,o.create(Sy(f.attrs,t)))})})}),!0):!1},FF=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),$F=()=>({tr:e,dispatch:t})=>{if(t){const n=new fn(e.doc);e.setSelection(n)}return!0},BF=()=>({state:e,dispatch:t})=>lw(e,t),VF=()=>({state:e,dispatch:t})=>fw(e,t),WF=()=>({state:e,dispatch:t})=>xL(e,t),jF=()=>({state:e,dispatch:t})=>wL(e,t),zF=()=>({state:e,dispatch:t})=>_L(e,t),KF=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=IL(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function GF(e,t,n){var r;const{selection:i}=t;let s=null;if(Tw(i)&&(s=i.$cursor),s){const a=(r=e.storedMarks)!=null?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(u,f,h)=>{if(c)return!1;if(u.isInline){const d=!h||h.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=d&&p}return!c}),c})}var HF=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Qr(e,r.schema);if(i)if(o){const c=WL(r,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(h,d)=>{const p=Math.max(d,u),m=Math.min(d+h.nodeSize,f);h.marks.find(y=>y.type===l)?h.marks.forEach(y=>{l===y.type&&n.addMark(p,m,l.create({...y.attrs,...t}))}):n.addMark(p,m,l.create(t))})});return GF(r,n,l)},UF=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),YF=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const s=xe(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>by(s,{...o,...t})(n)?!0:a.clearNodes()).command(({state:a})=>by(s,{...o,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},JF=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=fi(e,0,r.content.size),s=zt.create(r,i);t.setSelection(s)}return!0},qF=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:s}=typeof e=="number"?{from:e,to:e}:e,o=Ut.atStart(r).from,a=Ut.atEnd(r).to,l=fi(i,o,a),c=fi(s,o,a),u=Ut.create(r,l,c);t.setSelection(u)}return!0},XF=e=>({state:t,dispatch:n})=>{const r=xe(e,t.schema);return AL(r)(t,n)};function Ty(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var QF=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=t,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=hl(c,a.node().type.name,a.node().attrs);if(s instanceof zt&&s.node.isBlock)return!a.parentOffset||!pr(o,a.pos)?!1:(r&&(e&&Ty(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:RL(a.node(-1).contentMatchAt(a.indexAfter(-1)));let d=f&&h?[{type:h,attrs:u}]:void 0,p=pr(t.doc,t.mapping.map(a.pos),1,d);if(!d&&!p&&pr(t.doc,t.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,d=h?[{type:h,attrs:u}]:void 0),r){if(p&&(s instanceof Ut&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,d),h&&!f&&!a.parentOffset&&a.parent.type!==h)){const m=t.mapping.map(a.before()),g=t.doc.resolve(m);a.node(-1).canReplaceWith(g.index(),g.index()+1,h)&&t.setNodeMarkup(t.mapping.map(a.before()),h)}e&&Ty(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},ZF=(e,t={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=xe(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=$.empty;const v=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-v;T>=l.depth-3;T-=1)y=$.from(l.node(T).copy(y));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...hl(h,l.node().type.name,l.node().attrs),...t},S=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(w))||void 0;y=y.append($.from(a.createAndFill(null,S)||void 0));const C=l.before(l.depth-(v-1));n.replace(C,l.after(-x),new Q(y,4-v,0));let M=-1;n.doc.nodesBetween(C,n.doc.content.size,(T,k)=>{if(M>-1)return!1;T.isTextblock&&T.content.size===0&&(M=k+1)}),M>-1&&n.setSelection(Ut.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const d=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,p={...hl(h,f.type.name,f.attrs),...t},m={...hl(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=d?[{type:a,attrs:p},{type:d,attrs:m}]:[{type:a,attrs:p}];if(!pr(n.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:v}=r,{splittableMarks:x}=s.extensionManager,w=v||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!w||!i)return!0;const S=w.filter(C=>x.includes(C.type.name));n.ensureMarks(S)}return!0},Nu=(e,t)=>{const n=Ic(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&Xr(e.doc,n.pos)&&e.join(n.pos),!0},Du=(e,t)=>{const n=Ic(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&Xr(e.doc,r)&&e.join(r),!0},t$=(e,t,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:h}=i.extensionManager,d=xe(e,o.schema),p=xe(t,o.schema),{selection:m,storedMarks:g}=o,{$from:y,$to:v}=m,x=y.blockRange(v),w=g||m.$to.parentOffset&&m.$from.marks();if(!x)return!1;const S=Ic(C=>wy(C.type.name,f))(m);if(x.depth>=1&&S&&x.depth-S.depth<=1){if(S.node.type===d)return c.liftListItem(p);if(wy(S.node.type.name,f)&&d.validContent(S.node.content)&&a)return l().command(()=>(s.setNodeMarkup(S.pos,d),!0)).command(()=>Nu(s,d)).command(()=>Du(s,d)).run()}return!n||!w||!a?l().command(()=>u().wrapInList(d,r)?!0:c.clearNodes()).wrapInList(d,r).command(()=>Nu(s,d)).command(()=>Du(s,d)).run():l().command(()=>{const C=u().wrapInList(d,r),M=w.filter(T=>h.includes(T.type.name));return s.ensureMarks(M),C?!0:c.clearNodes()}).wrapInList(d,r).command(()=>Nu(s,d)).command(()=>Du(s,d)).run()},e$=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Qr(e,r.schema);return UL(r,o,t)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,t)},n$=(e,t,n={})=>({state:r,commands:i})=>{const s=xe(e,r.schema),o=xe(t,r.schema),a=Ns(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},r$=(e,t={})=>({state:n,commands:r})=>{const i=xe(e,n.schema);return Ns(n,i,t)?r.lift(i):r.wrapIn(i,t)},i$=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(e))){if(t){const o=e.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},s$=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},o$=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=t,{selection:a}=n,l=Qr(e,r.schema),{$from:c,empty:u,ranges:f}=a;if(!i)return!0;if(u&&o){let{from:h,to:d}=a;const p=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,m=Nd(c,l,p);m&&(h=m.from,d=m.to),n.removeMark(h,d,l)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},a$=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=bw(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(s=xe(e,r.schema)),a==="mark"&&(o=Qr(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,h,d,p;n.selection.empty?r.doc.nodesBetween(c,u,(m,g)=>{s&&s===m.type&&(d=Math.max(g,c),p=Math.min(g+m.nodeSize,u),f=g,h=m)}):r.doc.nodesBetween(c,u,(m,g)=>{g<c&&s&&s===m.type&&(d=Math.max(g,c),p=Math.min(g+m.nodeSize,u),f=g,h=m),g>=c&&g<=u&&(s&&s===m.type&&n.setNodeMarkup(g,void 0,{...m.attrs,...t}),o&&m.marks.length&&m.marks.forEach(y=>{if(o===y.type){const v=Math.max(g,c),x=Math.min(g+m.nodeSize,u);n.addMark(v,x,o.create({...y.attrs,...t}))}}))}),h&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...h.attrs,...t}),o&&h.marks.length&&h.marks.forEach(m=>{o===m.type&&n.addMark(d,p,o.create({...m.attrs,...t}))}))}),!0):!1},l$=(e,t={})=>({state:n,dispatch:r})=>{const i=xe(e,n.schema);return SL(i,t)(n,r)},c$=(e,t={})=>({state:n,dispatch:r})=>{const i=xe(e,n.schema);return TL(i,t)(n,r)},u$=Cn.create({name:"commands",addCommands(){return{...Aw}}}),f$=Cn.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,e))!=null?c:e.getMeta("y-sync$"))return;const u=DL(e.before,[e,...t]);KL(u).forEach(d=>{u.mapping.mapResult(d.oldRange.from).deletedAfter&&u.mapping.mapResult(d.oldRange.to).deletedBefore&&u.before.nodesBetween(d.oldRange.from,d.oldRange.to,(p,m)=>{const g=m+p.nodeSize-2,y=d.oldRange.from<=m&&g<=d.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:m,to:g,newFrom:u.mapping.map(m),newTo:u.mapping.map(g),deletedRange:d.oldRange,newRange:d.newRange,partial:!y,editor:this.editor,transaction:e,combinedTransform:u})})});const h=u.mapping;u.steps.forEach((d,p)=>{var m,g;if(d instanceof vn){const y=h.slice(p).map(d.from,-1),v=h.slice(p).map(d.to),x=h.invert().map(y,-1),w=h.invert().map(v),S=(m=u.doc.nodeAt(y-1))==null?void 0:m.marks.some(M=>M.eq(d.mark)),C=(g=u.doc.nodeAt(v))==null?void 0:g.marks.some(M=>M.eq(d.mark));this.editor.emit("delete",{type:"mark",mark:d.mark,from:d.from,to:d.to,deletedRange:{from:x,to:w},newRange:{from:y,to:v},partial:!!(C||S),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),h$=Cn.create({name:"drop",addProseMirrorPlugins(){return[new Ki({key:new Gi("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),d$=Cn.create({name:"editable",addProseMirrorPlugins(){return[new Ki({key:new Gi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Nw=new Gi("focusEvents"),p$=Cn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Ki({key:Nw,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),m$=Cn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:h,parent:d}=f,p=f.parent.isTextblock&&h>0?a.doc.resolve(h-1):f,m=p.parent.type.spec.isolating,g=f.pos-f.parentOffset,y=m&&p.parent.childCount===1?g===f.pos:Rt.atStart(c).from===h;return!u||!d.type.isTextblock||d.textContent.length||!y||y&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Id()||Ow()?s:i},addProseMirrorPlugins(){return[new Ki({key:new Gi("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(m=>m.getMeta("composition")))return;const r=e.some(m=>m.docChanged)&&!t.doc.eq(n.doc),i=e.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=t.selection,l=Rt.atStart(t.doc).from,c=Rt.atEnd(t.doc).to;if(s||!(o===l&&a===c)||!Sw(n.doc))return;const h=n.tr,d=vw({state:n,transaction:h}),{commands:p}=new NL({editor:this.editor,state:d});if(p.clearNodes(),!!h.steps.length)return h}})]}}),g$=Cn.create({name:"paste",addProseMirrorPlugins(){return[new Ki({key:new Gi("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),y$=Cn.create({name:"tabindex",addProseMirrorPlugins(){return[new Ki({key:new Gi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});function Yl(e){return new kw({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Os(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=t,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(ww(n.from,n.to,t.doc).filter(d=>d.mark.type.excluded.find(m=>m===e.type&&m!==d.mark.type)).filter(d=>d.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+o.length;s.addMark(n.from+l,h,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}function Ds(e){return new kw({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const s=Os(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&kd(l,e.type,s);if(!c)return null;if(o.wrap(l,c),e.keepMarks&&e.editor){const{selection:f,storedMarks:h}=t,{splittableMarks:d}=e.editor.extensionManager,p=h||f.$to.parentOffset&&f.$from.marks();if(p){const m=p.filter(g=>d.includes(g.type.name));o.ensureMarks(m)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&Xr(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&o.join(n.from-1)}})}var Cr=class Dw extends Dd{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new Dw(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Jl(e){return new ZL({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const s=Os(e.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),f=n.from+l.indexOf(a),h=f+a.length;if(ww(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(g=>g===e.type&&g!==p.mark.type)).filter(p=>p.to>f).length)return null;h<n.to&&o.delete(h,n.to),f>n.from&&o.delete(n.from+u,f),c=n.from+u+a.length,o.addMark(n.from+u,c,e.type.create(s||{})),o.removeStoredMark(e.type)}}})}const v$={},x$={class:"size-1 rounded-full bg-orange-400"};function b$(e,t){return gt(),Tt("div",x$)}const ky=Kh(v$,[["render",b$]]);function ho(e,t){if(e.one!==void 0&&t===1)return e.one;const n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Fe(e){return(t,n)=>n?.addSuffix?n.comparison&&n.comparison>0?e.future?ho(e.future,t):" "+ho(e.regular,t):e.past?ho(e.past,t):ho(e.regular,t)+" ":ho(e.regular,t)}const _$={lessThanXSeconds:Fe({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:Fe({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:Fe({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:Fe({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:Fe({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:Fe({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:Fe({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:Fe({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:Fe({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:Fe({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:Fe({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:Fe({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:Fe({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:Fe({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:Fe({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},w$=(e,t,n)=>_$[e](t,n),S$={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},T$={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},k$={any:"{{date}}, {{time}}"},C$={date:vs({formats:S$,defaultWidth:"full"}),time:vs({formats:T$,defaultWidth:"full"}),dateTime:vs({formats:k$,defaultWidth:"any"})},Rd=["","","","","","",""];function E$(e){const t=Rd[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function Cy(e){const t=Rd[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function M$(e){const t=Rd[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const P$={lastWeek:(e,t,n)=>{const r=e.getDay();return Pm(e,t,n)?Cy(r):E$(r)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,n)=>{const r=e.getDay();return Pm(e,t,n)?Cy(r):M$(r)},other:"P"},A$=(e,t,n,r)=>{const i=P$[e];return typeof i=="function"?i(t,n,r):i},O$={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},N$={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},D$={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},I$={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},R$={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},L$={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},F$={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},$$=(e,t)=>{const n=Number(e),r=t?.unit;let i;return r==="date"?i="-":r==="week"||r==="minute"||r==="second"?i="-":i="-",n+i},B$={ordinalNumber:$$,era:$n({values:O$,defaultWidth:"wide"}),quarter:$n({values:N$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$n({values:D$,defaultWidth:"wide",formattingValues:I$,defaultFormattingWidth:"wide"}),day:$n({values:R$,defaultWidth:"wide"}),dayPeriod:$n({values:L$,defaultWidth:"any",formattingValues:F$,defaultFormattingWidth:"wide"})},V$=/^(\d+)(-?(||||||||||))?/i,W$=/\d+/i,j$={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},z$={any:[/^/i,/^/i]},K$={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},G$={any:[/1/i,/2/i,/3/i,/4/i]},H$={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},U$={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Y$={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},J$={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},q$={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},X$={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},Q$={ordinalNumber:Gx({matchPattern:V$,parsePattern:W$,valueCallback:e=>parseInt(e,10)}),era:Bn({matchPatterns:j$,defaultMatchWidth:"wide",parsePatterns:z$,defaultParseWidth:"any"}),quarter:Bn({matchPatterns:K$,defaultMatchWidth:"wide",parsePatterns:G$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bn({matchPatterns:H$,defaultMatchWidth:"wide",parsePatterns:U$,defaultParseWidth:"any"}),day:Bn({matchPatterns:Y$,defaultMatchWidth:"wide",parsePatterns:J$,defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:q$,defaultMatchWidth:"wide",parsePatterns:X$,defaultParseWidth:"any"})},Nr={code:"ru",formatDistance:w$,formatLong:C$,formatRelative:A$,localize:B$,match:Q$,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Iw(e=new Date){return`${Qe(e,"yyyy-MM-dd")}`}function Rw(e=new Date){return`${Qe(e,"yyyy-'W'II")}`}function Lw(e=new Date){return`${Qe(e,"yyyy-MM")}`}function Fw(e=new Date){return`${Qe(e,"yyyy")}`}const $w=(e,t)=>{const n=e||new Date;switch(t){case"day":return Iw(n);case"week":return Rw(n);case"month":return Lw(n);case"year":return Fw(n)}};function Z$(e=new Date){return{day:Iw(e),week:Rw(e),month:Lw(e),year:Fw(e)}}const Bw=mx("plans",()=>{const e=wt(new Map);function t(n,r){const i=$w(n,r);return e.value.has(i)}return{plans:e,hasPlan:t}}),tB={class:"relative grid grid-rows-[min-content_min-content_1fr]"},eB={class:"flex gap-1 justify-self-center text-gray-400"},nB={class:"grid grid-cols-[repeat(7,_1fr)] border-b border-gray-100 py-2 pl-[40px] text-center text-sm text-gray-400"},rB={class:"grid grid-cols-[40px_1fr] items-start"},iB=["onClick"],sB=["onClick"],oB=kn({__name:"EditorCalendar",setup(e){const t=["","","","","","",""],n=sa(),r=n.selectedDate.getMonth(),i=n.selectedDate.getFullYear(),s=p=>{n.setSelectedDate(p.date),localStorage.setItem("lastSelectedDate",p.date.toString())},o=wt(new Date(i,r)),a=Mt(()=>pf(o.value.getFullYear(),o.value.getMonth())),l=p=>{const m=OP(p,{weekStartsOn:1});return m===6?"gap-y-[1.6px]":m===4?"gap-y-[29.3px]":"gap-y-3"},c=Bw(),u=un("changeViewType");function f(){n.setSelectedDate(o.value),u&&u("month")}function h(){const p=n.selectedDate.getFullYear(),m=o.value.getFullYear();p!==m&&n.setSelectedDate(o.value),u&&u("year")}function d(p){n.setSelectedDate(p),u&&u("week")}return(p,m)=>(gt(),Tt("div",tB,[yt("div",eB,[yt("div",{class:le([{"first-letter:text-orange-400":ct(c).hasPlan(o.value,"month")}]),onClick:f},Ae(ct(Qe)(o.value,"LLLL",{locale:ct(Nr)})),3),yt("span",{class:le([{"first-letter:text-orange-400":ct(c).hasPlan(o.value,"year")}]),onClick:h},Ae(ct(Qe)(o.value,"yyyy")),3)]),yt("div",nB,[(gt(),Tt(Kt,null,Wn(t,g=>yt("div",{key:g},Ae(g),1)),64))]),yt("div",rB,[yt("div",{class:le(["grid items-center justify-center border-r border-r-gray-100 text-[10px] text-gray-400",l(o.value)])},[(gt(!0),Tt(Kt,null,Wn(a.value.weeks,g=>(gt(),Tt("div",{key:g.weekNumber,class:"relative flex justify-center"},[yt("div",{class:"relative grid h-10 items-center text-center text-xs text-gray-400",onClick:()=>d(g.start)},[ct(c).hasPlan(g.end,"week")?(gt(),Ur(ky,{key:0,class:le("absolute top-2 -right-1 justify-self-center")})):ys("",!0),Cl(" "+Ae(g.weekNumber),1)],8,iB)]))),128))],2),qt(M_,{onNext:()=>o.value=new Date(o.value.getFullYear(),o.value.getMonth()+1),onPrev:()=>o.value=new Date(o.value.getFullYear(),o.value.getMonth()-1)},{item:pi(({item:g})=>[yt("div",{class:le(["grid grid-cols-7 items-center justify-end",l(new Date(ct(i),ct(r)+g.id))])},[(gt(!0),Tt(Kt,null,Wn(ct(pf)(ct(i),ct(r)+g.id).weeks,y=>(gt(),Tt(Kt,{key:y.weekNumber},[(gt(!0),Tt(Kt,null,Wn(y.days,v=>(gt(),Tt("div",{key:v.toString(),class:"flex justify-center"},[yt("div",{class:le(["relative flex size-10 items-center justify-center text-lg",{"text-gray-400":!v.isCurrentMonth},{"text-orange-300":ct(Jx)(v.date)},{"rounded-full border border-orange-300 bg-red-100/30 font-bold text-orange-600":v.date.toDateString()===ct(n).selectedDate.toDateString()}]),onClick:()=>s(v)},[Cl(Ae(v.date.getDate())+" ",1),ct(c).hasPlan(v.date,"day")?(gt(),Ur(ky,{key:0,class:le(["absolute justify-self-center",{"-top-0.5 -right-0.5":v.date.toDateString()===ct(n).selectedDate.toDateString()},{"top-2 right-1":v.date.toDateString()!==ct(n).selectedDate.toDateString()}])},null,8,["class"])):ys("",!0)],10,sB)]))),128))],64))),128))],2)]),_:1},8,["onNext","onPrev"])])]))}}),aB=kn({__name:"EditorDate",props:{viewType:{}},setup(e){const t={day:"d MMMM yyyy",week:"d",month:"LLLL yyyy",year:"yyyy"};function n(o){const a=Qe(ta(o),t.week,{locale:Nr}),l=Qe(cu(o),t.week,{locale:Nr}),c=Qe(cu(o),"MMM",{locale:Nr}),u=Qe(cu(o),"yyyy",{locale:Nr});return`${a}  ${l} ${c} ${u}`}const r={day:o=>Qe(o,t.day,{locale:Nr}),week:o=>n(o),month:o=>Qe(o,t.month,{locale:Nr}),year:o=>Qe(o,t.year,{locale:Nr})},i=sa(),s=Mt(()=>{const o=i.selectedDate,a=r[e.viewType];return a?a(o):""});return(o,a)=>(gt(),Ur(ct(Uh),{to:"/yearView",class:"text-gray-300"},{default:pi(()=>[Cl(Ae(s.value),1)]),_:1}))}}),lB={key:0,class:"slider__tooltip"},cB={key:0,class:"slider__labels"},uB=kn({__name:"EditorPeriodSlider",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},vertical:{type:Boolean,default:!1},height:{type:[Number,String],default:200},snapPoints:{type:Array,default:()=>[]},snapThreshold:{type:Number,default:8},snapStrength:{type:Number,default:.3},snapAnimationDuration:{type:Number,default:250},disabled:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1},showLabels:{type:Boolean,default:!1},formatter:{type:Function,default:null}},emits:["update:modelValue","change","snap","dragStart","dragEnd","findClosestSnapPoint"],setup(e,{emit:t}){const n=e,r=t,i=wt(null),s=wt(null),o=wt(null),a=wt(!1),l=wt(!1),c=wt(!1),u=wt(n.modelValue),f=wt({startX:0,startY:0,startValue:0,touchedOnThumb:!1,lastClientX:0,lastClientY:0}),h=Mt(()=>n.max-n.min),d=Mt(()=>(u.value-n.min)/h.value*100),p=Mt(()=>n.vertical?{"--slider-vertical-height":typeof n.height=="number"?`${n.height}px`:n.height}:{}),m=Mt(()=>n.vertical?{height:`${d.value}%`}:{width:`${d.value}%`}),g=Mt(()=>{const V=`${n.snapAnimationDuration}ms`;return n.vertical?{bottom:`${d.value}%`,"--snap-animation-duration":V}:{left:`${d.value}%`,"--snap-animation-duration":V}}),y=V=>n.vertical?{bottom:`${V.percent}%`}:{left:`${V.percent}%`},v=Mt(()=>n.snapPoints.map(V=>{const it=typeof V=="number"?V:V.value,q=typeof V=="object"?V.label:null;return{value:it,label:q,percent:(it-n.min)/h.value*100}})),x=Mt(()=>n.snapThreshold/100*h.value);function w(V){if(n.formatter)return n.formatter(V);const it=(n.step.toString().split(".")[1]||"").length;return V.toFixed(it)}function S(V,it,q){return Math.min(Math.max(V,it),q)}function C(V){return V.touches?V.touches[0].clientX:V.clientX}function M(V){return V.touches?V.touches[0].clientY:V.clientY}function T(V,it){const q=s.value.getBoundingClientRect();if(n.vertical){const Dt=1-(it-q.top)/q.height;return n.min+Dt*h.value}const ft=(V-q.left)/q.width;return n.min+ft*h.value}function k(V,it){const q=s.value.getBoundingClientRect();return n.vertical?-(it/q.height)*h.value:V/q.width*h.value}function R(V){return Math.abs(u.value-V)<=x.value}function X(V){let it=null,q=1/0;for(const ft of v.value){const Dt=Math.abs(V-ft.value);Dt<q&&Dt<=x.value&&(q=Dt,it=ft.value)}return{closestSnap:it,closestDistance:q}}function at(V,it=!1){if(v.value.length===0)return c.value=!1,V;const{closestSnap:q,closestDistance:ft}=X(V);if(q!==null){if(it)return c.value=!0,r("snap",q),q;const Dt=1-ft/x.value,te=Dt*n.snapStrength,oe=V+(q-V)*te;return c.value=Dt>.5,oe}return c.value=!1,V}function nt(V){return n.step<=0?V:Math.round((V-n.min)/n.step)*n.step+n.min}function pt(V,it=!1){let q=S(V,n.min,n.max);q=at(q,it),!c.value&&it&&(q=nt(q)),q=S(q,n.min,n.max),u.value=q,r("update:modelValue",q),r("findClosestSnapPoint",X(q).closestSnap)}function bt(V,it){if(!o.value)return!1;const q=o.value.getBoundingClientRect(),ft=25,Dt=V>=q.left-ft&&V<=q.right+ft,te=it>=q.top-ft&&it<=q.bottom+ft;return Dt&&te}function lt(V){if(n.disabled)return;l.value=!1;const it=C(V),q=M(V),ft=bt(it,q);a.value=!0,f.value={startX:it,startY:q,startValue:u.value,touchedOnThumb:ft,lastClientX:it,lastClientY:q},r("dragStart",u.value),navigator.vibrate&&ft&&navigator.vibrate(10),V.type==="touchstart"?(document.addEventListener("touchmove",H,{passive:!1}),document.addEventListener("touchend",tt),document.addEventListener("touchcancel",tt)):(document.addEventListener("mousemove",H),document.addEventListener("mouseup",tt))}function H(V){if(!a.value)return;V.cancelable&&V.preventDefault();const it=C(V),q=M(V),ft=f.value;let Dt;if(ft.touchedOnThumb)Dt=T(it,q);else{const te=it-ft.startX,oe=q-ft.startY,It=k(te,oe);Dt=ft.startValue+It}pt(Dt,!1),ft.lastClientX=it,ft.lastClientY=q}function tt(){a.value&&(a.value=!1,l.value=!0,pt(u.value,!0),c.value&&navigator.vibrate&&navigator.vibrate(15),r("dragEnd",u.value),r("change",u.value),setTimeout(()=>{l.value=!1},n.snapAnimationDuration),document.removeEventListener("touchmove",H),document.removeEventListener("touchend",tt),document.removeEventListener("touchcancel",tt),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",tt))}return Kn(()=>n.modelValue,V=>{!a.value&&!l.value&&(u.value=V)}),zi(()=>{document.removeEventListener("touchmove",H),document.removeEventListener("touchend",tt),document.removeEventListener("touchcancel",tt),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",tt)}),(V,it)=>(gt(),Tt("div",{class:le(["slider",{"slider--dragging":a.value,"slider--releasing":l.value,"slider--disabled":e.disabled,"slider--vertical":e.vertical}]),style:dr(p.value),ref_key:"sliderRef",ref:i},[yt("div",{class:"slider__touch-area",onMousedown:lt,onTouchstartPassive:lt},[yt("div",{class:"slider__track",ref_key:"trackRef",ref:s},[yt("div",{class:"slider__fill",style:dr(m.value)},null,4),(gt(!0),Tt(Kt,null,Wn(v.value,(q,ft)=>(gt(),Tt("div",{key:ft,class:le(["slider__snap-point",{"slider__snap-point--active":R(q.value)}]),style:dr(y(q))},[q.label?(gt(),Tt("span",{key:0,class:le(["slider__snap-label",{"slider__snap-label--active":R(q.value)}])},Ae(q.label),3)):ys("",!0)],6))),128)),yt("div",{class:le(["slider__thumb",{"slider__thumb--snapping":c.value,"slider__thumb--active":a.value}]),style:dr(g.value),ref_key:"thumbRef",ref:o},[it[0]||(it[0]=yt("div",{class:"slider__thumb-inner"},null,-1)),e.showTooltip&&a.value?(gt(),Tt("div",lB,Ae(w(u.value)),1)):ys("",!0)],6)],512)],32),e.showLabels?(gt(),Tt("div",cB,[yt("span",null,Ae(w(e.vertical?e.max:e.min)),1),yt("span",null,Ae(w(e.vertical?e.min:e.max)),1)])):ys("",!0)],6))}}),fB=Kh(uB,[["__scopeId","data-v-a268783b"]]);Cr.create({name:"doc",topNode:!0,content:"block+"});Cr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",tr(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});Cr.create({name:"text",group:"inline"});var Ey=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},hB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,dB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,pB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,mB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g;Ew.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return Ey("strong",{...tr(this.options.HTMLAttributes,e),children:Ey("slot",{})})},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Yl({find:hB,type:this.type}),Yl({find:pB,type:this.type})]},addPasteRules(){return[Jl({find:dB,type:this.type}),Jl({find:mB,type:this.type})]}});var gB=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,yB=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vB=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,xB=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g;Ew.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",tr(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Yl({find:gB,type:this.type}),Yl({find:vB,type:this.type})]},addPasteRules(){return[Jl({find:yB,type:this.type}),Jl({find:xB,type:this.type})]}});var bB=Object.defineProperty,_B=(e,t)=>{for(var n in t)bB(e,n,{get:t[n],enumerable:!0})},wB="listItem",My="textStyle",Py=/^\s*([-+*])\s$/,SB=Cr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",tr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(wB,this.editor.getAttributes(My)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Ds({find:Py,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ds({find:Py,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(My),editor:this.editor})),[e]}}),TB=Cr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",tr(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),kB={};_B(kB,{findListItemPos:()=>Aa,getNextListDepth:()=>Ld,handleBackspace:()=>$f,handleDelete:()=>Bf,hasListBefore:()=>Vw,hasListItemAfter:()=>CB,hasListItemBefore:()=>Ww,listItemHasSubList:()=>jw,nextListIsDeeper:()=>zw,nextListIsHigher:()=>Kw});var Aa=(e,t)=>{const{$from:n}=t.selection,r=xe(e,t.schema);let i=null,s=n.depth,o=n.pos,a=null;for(;s>0&&a===null;)i=n.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:t.doc.resolve(o),depth:a}},Ld=(e,t)=>{const n=Aa(e,t);if(!n)return!1;const[,r]=HL(t,e,n.$pos.pos+4);return r},Vw=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),s=e.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},Ww=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},jw=(e,t,n)=>{if(!n)return!1;const r=xe(e,t.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},$f=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Ns(e.state,t)&&Vw(e.state,t,n)){const{$anchor:a}=e.state.selection,l=e.state.doc.resolve(a.before()-1),c=[];l.node().descendants((h,d)=>{h.type.name===t&&c.push({node:h,pos:d})});const u=c.at(-1);if(!u)return!1;const f=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:a.start()-1,to:a.end()+1},f.end()).joinForward().run()}if(!Ns(e.state,t)||!JL(e.state))return!1;const r=Aa(t,e.state);if(!r)return!1;const s=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=jw(t,e.state,s);return Ww(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},zw=(e,t)=>{const n=Ld(e,t),r=Aa(e,t);return!r||!n?!1:n>r.depth},Kw=(e,t)=>{const n=Ld(e,t),r=Aa(e,t);return!r||!n?!1:n<r.depth},Bf=(e,t)=>{if(!Ns(e.state,t)||!YL(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:zw(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Kw(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},CB=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},EB=Cn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Bf(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Bf(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&$f(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&$f(e,n,r)&&(t=!0)}),t}}}}),MB="listItem",Ay="textStyle",Oy=/^(\d+)\.\s$/,PB=Cr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",tr(this.options.HTMLAttributes,n),0]:["ol",tr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(MB,this.editor.getAttributes(Ay)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Ds({find:Oy,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ds({find:Oy,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Ay)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),AB=/^\s*(\[([( |x])?\])\s$/,OB=Cr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",tr(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=()=>{var u,f;a.ariaLabel=((f=(u=this.options.a11y)==null?void 0:u.checkboxLabel)==null?void 0:f.call(u,e,a.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return c(),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:f}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const d=n();if(typeof d!="number")return!1;const p=h.doc.nodeAt(d);return h.setNodeMarkup(d,void 0,{...p?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{i.setAttribute(u,f)}),i.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(t).forEach(([u,f])=>{i.setAttribute(u,f)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(),!0)}}},addInputRules(){return[Ds({find:AB,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),NB=Cr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",tr(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Cn.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(SB.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(TB.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(EB.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(PB.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(OB.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(NB.configure(this.options.taskList)),e}});const DB=/^\s*(\[([( |x])?\])\s$/;Cr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){const n=`task-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;return["li",tr(this.options.HTMLAttributes,t,{"data-type":this.name}),["div",{class:"checkbox"},["input",{type:"checkbox",class:"check",id:n,checked:e.attrs.checked?"checked":null}],["label",{for:n,class:"label"},["svg",{width:"50",height:"50",viewBox:"0 0 100 100"},["rect",{x:"30",y:"20",width:"50",height:"50",stroke:"black",fill:"none"}],["g",{transform:"translate(0,-952.36222)"},["path",{d:"m 56,963 c -102,122 6,9 7,9 17,-5 -66,69 -38,52 122,-77 -7,14 18,4 29,-11 45,-43 23,-4 ",stroke:"black","stroke-width":"3",fill:"none",class:"path1"}]]]]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("div"),o=document.createElement("input"),a=document.createElement("label"),l=document.createElement("div"),c=`task-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;s.className="checkbox",s.contentEditable="false",o.type="checkbox",o.className="check",o.id=c,o.checked=e.attrs.checked,a.htmlFor=c,a.className="label";const u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttribute("width","50"),u.setAttribute("height","50"),u.setAttribute("viewBox","0 0 100 100");const f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("x","30"),f.setAttribute("y","20"),f.setAttribute("width","50"),f.setAttribute("height","50"),f.setAttribute("stroke","oklch(64.6% 0.222 41.116)"),f.setAttribute("fill","none"),f.setAttribute("rx","5");const h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("transform","translate(0,-952.36222)");const d=document.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d","m 56,963 c -102,122 6,9 7,9 17,-5 -66,69 -38,52 122,-77 -7,14 18,4 29,-11 45,-43 23,-4 "),d.setAttribute("stroke","oklch(64.6% 0.222 41.116)"),d.setAttribute("stroke-width","3"),d.setAttribute("fill","none"),d.setAttribute("class","path1"),h.appendChild(d),u.appendChild(f),u.appendChild(h),a.appendChild(u),o.addEventListener("mousedown",p=>p.preventDefault()),o.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().command(({tr:g})=>{const y=n();if(typeof y!="number")return!1;const v=g.doc.nodeAt(y);return g.setNodeMarkup(y,void 0,{...v?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,m)||(o.checked=!o.checked))}),s.appendChild(o),s.appendChild(a),i.appendChild(s),i.appendChild(l),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{i.setAttribute(p,m)}),Object.entries(t).forEach(([p,m])=>{i.setAttribute(p,m)}),i.dataset.checked=e.attrs.checked.toString(),{dom:i,contentDOM:l,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked.toString(),o.checked=p.attrs.checked,!0)}}},addInputRules(){return[Ds({find:DB,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}});const IB="PlansDB",RB=1,er="plans";function Rc(){return new Promise((e,t)=>{const n=indexedDB.open(IB,RB);n.onerror=()=>{t(new Error(`  : ${n.error?.message}`))},n.onsuccess=()=>{e(n.result)},n.onupgradeneeded=r=>{const i=r.target.result;if(!i.objectStoreNames.contains(er)){const s=i.createObjectStore(er,{keyPath:"id",autoIncrement:!0});s.createIndex("key","key",{unique:!0}),s.createIndex("type","type",{unique:!1}),s.createIndex("timestamp","timestamp",{unique:!1}),s.createIndex("key_type",["key","type"],{unique:!1})}}})}async function LB(e){const t=await Rc();return new Promise((n,r)=>{const i=t.transaction(er,"readwrite"),o=i.objectStore(er).add(e);o.onsuccess=()=>{n({...e,id:o.result})},o.onerror=()=>{r(new Error(` : ${o.error?.message}`))},i.oncomplete=()=>t.close()})}async function FB(){const e=await Rc();return new Promise((t,n)=>{const r=e.transaction(er,"readonly"),s=r.objectStore(er).getAll();s.onsuccess=()=>{t(s.result)},s.onerror=()=>{n(new Error(` : ${s.error?.message}`))},r.oncomplete=()=>e.close()})}async function $B(e){const t=await Rc();return new Promise((n,r)=>{const i=t.transaction(er,"readwrite"),s=i.objectStore(er),o=s.get(e.id);o.onsuccess=()=>{const a=o.result;if(!a){r(new Error(`  id ${e.id}  `));return}const l={...a,...e},c=s.put(l);c.onsuccess=()=>{n(l)},c.onerror=()=>{r(new Error(` : ${c.error?.message}`))}},o.onerror=()=>{r(new Error(` : ${o.error?.message}`))},i.oncomplete=()=>t.close()})}async function BB(e){const t=await Rc();return new Promise((n,r)=>{const i=t.transaction(er,"readwrite"),o=i.objectStore(er).delete(e);o.onsuccess=()=>{n()},o.onerror=()=>{r(new Error(` : ${o.error?.message}`))},i.oncomplete=()=>t.close()})}function I(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const i of t)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Gw(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const i of t)r.append("v",i);n.search=r.toString(),console.warn(`Minified Lexical warning #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const En=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,VB=En&&"documentMode"in document?document.documentMode:null,gn=En&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Pi=En&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ql=!(!En||!("InputEvent"in window)||VB)&&"getTargetRanges"in new window.InputEvent("input"),Oa=En&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Js=En&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,WB=En&&/Android/.test(navigator.userAgent),Hw=En&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Ny=En&&WB&&Hw,Na=En&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&gn&&!Hw;function Uw(...e){const t=[];for(const n of e)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))t.push(r);return t}const jB=0,zB=1,KB=2,Yw=128,GB=1,HB=2,UB=3,YB=4,JB=5,qB=6,Lc=Oa||Js||Na?"":"",Jr=`

`,XB=Pi?"":Lc,Ai={bold:1,capitalize:1024,code:16,highlight:Yw,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},QB={directionless:1,unmergeable:2},Dy={center:2,end:6,justify:4,left:1,right:3,start:5},ZB={[HB]:"center",[qB]:"end",[YB]:"justify",[GB]:"left",[UB]:"right",[JB]:"start"},tV={normal:0,segmented:2,token:1},eV={[jB]:"normal",[KB]:"segmented",[zB]:"token"},Iy="$config";function Jw(e,t,n,r,i,s){let o=e.getFirstChild();for(;o!==null;){const a=o.__key;o.__parent===t&&(P(o)&&Jw(o,a,n,r,i,s),n.has(a)||s.delete(a),i.push(a)),o=o.getNextSibling()}}let Vf=!1,Fd=0;function nV(e){Fd=e.timeStamp}function Iu(e,t,n){const r=e.nodeName==="BR",i=t.__lexicalLineBreak;return i&&(e===i||r&&e.previousSibling===i)||r&&jc(e,n)!==void 0}function rV(e,t,n){const r=Mn(mn(n));let i=null,s=null;r!==null&&r.anchorNode===e&&(i=r.anchorOffset,s=r.focusOffset);const o=e.nodeValue;o!==null&&ip(t,o,i,s,!1)}function iV(e,t,n){if(F(e)){const r=e.anchor.getNode();if(r.is(n)&&e.format!==r.getFormat())return!1}return Er(t)&&n.isAttached()}function sV(e,t,n,r){for(let i=e;i&&!lW(i);i=Fa(i)){const s=jc(i,t);if(s!==void 0){const o=ue(s,n);if(o)return Pt(o)||!se(i)?void 0:[i,o]}else if(i===r)return[r,QS(n)]}}function qw(e,t,n){Vf=!0;const r=performance.now()-Fd>100;try{Jn(e,()=>{const i=Y()||function(h){return h.getEditorState().read(()=>{const d=Y();return d!==null?d.clone():null})}(e),s=new Map,o=e.getRootElement(),a=e._editorState,l=e._blockCursorElement;let c=!1,u="";for(let h=0;h<t.length;h++){const d=t[h],p=d.type,m=d.target,g=sV(m,e,a,o);if(!g)continue;const[y,v]=g;if(p==="characterData")r&&J(v)&&Er(m)&&iV(i,m,v)&&rV(m,v,e);else if(p==="childList"){c=!0;const x=d.addedNodes;for(let C=0;C<x.length;C++){const M=x[C],T=qS(M),k=M.parentNode;if(k!=null&&M!==l&&T===null&&!Iu(M,k,e)){if(Pi){const R=(se(M)?M.innerText:null)||M.nodeValue;R&&(u+=R)}k.removeChild(M)}}const w=d.removedNodes,S=w.length;if(S>0){let C=0;for(let M=0;M<S;M++){const T=w[M];(Iu(T,m,e)||l===T)&&(m.appendChild(T),C++)}S!==C&&s.set(y,v)}}}if(s.size>0)for(const[h,d]of s)d.reconcileObservedMutation(h,e);const f=n.takeRecords();if(f.length>0){for(let h=0;h<f.length;h++){const d=f[h],p=d.addedNodes,m=d.target;for(let g=0;g<p.length;g++){const y=p[g],v=y.parentNode;v==null||y.nodeName!=="BR"||Iu(y,m,e)||v.removeChild(y)}}n.takeRecords()}i!==null&&(c&&We(i),Pi&&nT(e)&&i.insertRawText(u))})}finally{Vf=!1}}function Xw(e){const t=e._observer;t!==null&&qw(e,t.takeRecords(),t)}function Qw(e){(function(t){Fd===0&&mn(t).addEventListener("textInput",nV,!0)})(e),e._observer=new MutationObserver((t,n)=>{qw(e,t,n)})}function oV(e){const t=new Map,n=new Set;for(let r=typeof e=="function"?e:e.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:i}=Kc(r);if(i&&i.stateConfigs)for(const s of i.stateConfigs){let o;"stateConfig"in s?(o=s.stateConfig,s.flat&&n.add(o.key)):o=s,t.set(o.key,o)}}return{flatKeys:n,sharedConfigMap:t}}let aV=class Zw{node;knownState;unknownState;sharedNodeState;size;constructor(t,n,r=void 0,i=new Map,s=void 0){this.node=t,this.sharedNodeState=n,this.unknownState=r,this.knownState=i;const{sharedConfigMap:o}=this.sharedNodeState,a=s!==void 0?s:function(l,c,u){let f=u.size;if(c)for(const h in c){const d=l.get(h);d&&u.has(d)||f++}return f}(o,r,i);this.size=a}getValue(t){const n=this.knownState.get(t);if(n!==void 0)return n;this.sharedNodeState.sharedConfigMap.set(t.key,t);let r=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){const i=this.unknownState[t.key];i!==void 0&&(r=t.parse(i)),this.updateFromKnown(t,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const t={...this.unknownState},n={};for(const[r,i]of this.knownState)r.isEqual(i,r.defaultValue)?delete t[r.key]:t[r.key]=r.unparse(i);for(const r of this.sharedNodeState.flatKeys)r in t&&(n[r]=t[r],delete t[r]);return Ry(t)&&(n.$=t),n}getWritable(t){if(this.node===t)return this;const{sharedNodeState:n,unknownState:r}=this,i=new Map(this.knownState);return new Zw(t,n,function(s,o,a){let l;if(a)for(const[c,u]of Object.entries(a)){const f=s.get(c);f?o.has(f)||o.set(f,f.parse(u)):(l=l||{},l[c]=u)}return l}(n.sharedConfigMap,i,r),i,this.size)}updateFromKnown(t,n){const r=t.key;this.sharedNodeState.sharedConfigMap.set(r,t);const{knownState:i,unknownState:s}=this;i.has(t)||s&&r in s||(s&&(delete s[r],this.unknownState=Ry(s)),this.size++),i.set(t,n)}updateFromUnknown(t,n){const r=this.sharedNodeState.sharedConfigMap.get(t);r?this.updateFromKnown(r,r.parse(n)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=n)}updateFromJSON(t){const{knownState:n}=this;for(const r of n.keys())n.set(r,r.defaultValue);if(this.size=n.size,this.unknownState=void 0,t)for(const[r,i]of Object.entries(t))this.updateFromUnknown(r,i)}};function lV(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new aV(t,tS(t));return t.__state=n,n}function tS(e){return e.__state?e.__state.sharedNodeState:HS(ap(),e.getType()).sharedNodeState}function Ry(e){if(e)for(const t in e)return e}function Ly(e,t,n){for(const[r,i]of t.knownState){if(e.has(r.key))continue;e.add(r.key);const s=n?n.getValue(r):r.defaultValue;if(s!==i&&!r.isEqual(s,i))return!0}return!1}function Fy(e,t,n){const{unknownState:r}=t,i=n?n.unknownState:void 0;if(r){for(const[s,o]of Object.entries(r))if(!e.has(s)&&(e.add(s),o!==(i?i[s]:void 0)))return!0}return!1}function $y(e,t){const n=e.__state;return n&&n.node===e?n.getWritable(t):n}function By(e,t){const n=e.__mode,r=e.__format,i=e.__style,s=t.__mode,o=t.__format,a=t.__style,l=e.__state,c=t.__state;return(n===null||n===s)&&(r===null||r===o)&&(i===null||i===a)&&(e.__state===null||l===c||function(u,f){if(u===f)return!0;if(u&&f&&u.size!==f.size)return!1;const h=new Set;return!(u&&Ly(h,u,f)||f&&Ly(h,f,u)||u&&Fy(h,u,f)||f&&Fy(h,f,u))}(l,c))}function Vy(e,t){const n=e.mergeWithSibling(t),r=Lt()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function Wy(e){let t,n,r=e;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(t=r.getPreviousSibling())!==null&&J(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(By(t,r)){r=Vy(t,r);break}break}t.remove()}for(;(n=r.getNextSibling())!==null&&J(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(By(r,n)){r=Vy(r,n);break}break}n.remove()}}else r.remove()}function Xl(e){return jy(e.anchor),jy(e.focus),e}function jy(e){for(;e.type==="element";){const t=e.getNode(),n=e.offset;let r,i;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),i=!0):(r=t.getChildAtIndex(n),i=!1),J(r)){e.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!P(r))break;e.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}let Oi,Oe,fa,Fc,Wf,jf,Ni,_n,zf,ha,ce="",Ln=null,ai=null,ur="",rs=!1,Ql=!1;function Zl(e,t){const n=Ni.get(e);if(t!==null){const r=Uf(e);r.parentNode===t&&t.removeChild(r)}if(_n.has(e)||Oe._keyToDOMMap.delete(e),P(n)){const r=ec(n,Ni);Kf(r,0,r.length-1,null)}n!==void 0&&sp(ha,fa,Fc,n,"destroyed")}function Kf(e,t,n,r){let i=t;for(;i<=n;++i){const s=e[i];s!==void 0&&Zl(s,r)}}function ri(e,t){e.setProperty("text-align",t)}const cV="40px";function eS(e,t){const n=Oi.theme.indent;if(typeof n=="string"){const i=e.classList.contains(n);t>0&&!i?e.classList.add(n):t<1&&i&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||cV;e.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${r})`)}function nS(e,t){const n=e.style;t===0?ri(n,""):t===1?ri(n,"left"):t===2?ri(n,"center"):t===3?ri(n,"right"):t===4?ri(n,"justify"):t===5?ri(n,"start"):t===6&&ri(n,"end")}function Gf(e,t){const n=function(r){const i=r.__dir;if(i!==null)return i;if(fe(r))return null;const s=r.getParentOrThrow();return fe(s)&&s.__dir===null?"auto":null}(t);n!==null?e.dir=n:e.removeAttribute("dir")}function tc(e,t){const n=_n.get(e);n===void 0&&I(60);const r=n.createDOM(Oi,Oe);if(function(i,s,o){const a=o._keyToDOMMap;(function(l,c,u){const f=`__lexicalKey_${c._key}`;l[f]=u})(s,o,i),a.set(i,s)}(e,r,Oe),J(n)?r.setAttribute("data-lexical-text","true"):Pt(n)&&r.setAttribute("data-lexical-decorator","true"),P(n)){const i=n.__indent,s=n.__size;if(Gf(r,n),i!==0&&eS(r,i),s!==0){const a=s-1;Hf(ec(n,_n),n,0,a,n.getDOMSlot(r))}const o=n.__format;o!==0&&nS(r,o),n.isInline()||rS(null,n,r),zc(n)&&(ce+=Jr,ur+=Jr)}else{const i=n.getTextContent();if(Pt(n)){const s=n.decorate(Oe,Oi);s!==null&&iS(e,s),r.contentEditable="false"}ce+=i,ur+=i}return t!==null&&t.insertChild(r),sp(ha,fa,Fc,n,"created"),r}function Hf(e,t,n,r,i){const s=ce;ce="";let o=n;for(;o<=r;++o){tc(e[o],i);const a=_n.get(e[o]);a!==null&&J(a)&&Ln===null&&(Ln=a.getFormat(),ai=a.getStyle())}zc(t)&&(ce+=Jr),i.element.__lexicalTextContent=ce,ce=s+ce}function zy(e,t){if(e){const n=e.__last;if(n){const r=t.get(n);if(r)return Ss(r)?"line-break":Pt(r)&&r.isInline()?"decorator":null}return"empty"}return null}function rS(e,t,n){const r=zy(e,Ni),i=zy(t,_n);r!==i&&t.getDOMSlot(n).setManagedLineBreak(i)}function uV(e,t,n){var r;Ln=null,ai=null,function(i,s,o){const a=ce,l=i.__size,c=s.__size;ce="";const u=o.element;if(l===1&&c===1){const f=i.__first,h=s.__first;if(f===h)_o(f,u);else{const p=Uf(f),m=tc(h,null);try{u.replaceChild(m,p)}catch(g){if(typeof g=="object"&&g!=null){const y=`${g.toString()} Parent: ${u.tagName}, new child: {tag: ${m.tagName} key: ${h}}, old child: {tag: ${p.tagName}, key: ${f}}.`;throw new Error(y)}throw g}Zl(f,null)}const d=_n.get(h);J(d)&&Ln===null&&(Ln=d.getFormat(),ai=d.getStyle())}else{const f=ec(i,Ni),h=ec(s,_n);if(f.length!==l&&I(227),h.length!==c&&I(228),l===0)c!==0&&Hf(h,s,0,c-1,o);else if(c===0){if(l!==0){const d=o.after==null&&o.before==null&&o.element.__lexicalLineBreak==null;Kf(f,0,l-1,d?null:u),d&&(u.textContent="")}}else(function(d,p,m,g,y,v){const x=g-1,w=y-1;let S,C,M=v.getFirstChild(),T=0,k=0;for(;T<=x&&k<=w;){const at=p[T],nt=m[k];if(at===nt)M=Ru(_o(nt,v.element)),T++,k++;else{S===void 0&&(S=new Set(p)),C===void 0&&(C=new Set(m));const bt=C.has(at),lt=S.has(nt);if(bt)if(lt){const H=Ii(Oe,nt);H===M?M=Ru(_o(nt,v.element)):(v.withBefore(M).insertChild(H),_o(nt,v.element)),T++,k++}else tc(nt,v.withBefore(M)),k++;else M=Ru(Uf(at)),Zl(at,v.element),T++}const pt=_n.get(nt);pt!==null&&J(pt)&&Ln===null&&(Ln=pt.getFormat(),ai=pt.getStyle())}const R=T>x,X=k>w;if(R&&!X){const at=m[w+1],nt=at===void 0?null:Oe.getElementByKey(at);Hf(m,d,k,w,v.withBefore(nt))}else X&&!R&&Kf(p,T,x,v.element)})(s,f,h,l,c,o)}zc(s)&&(ce+=Jr),u.__lexicalTextContent=ce,ce=a+ce}(e,t,t.getDOMSlot(n)),r=t,Ln==null||Ln===r.__textFormat||Ql||r.setTextFormat(Ln),function(i){ai==null||ai===i.__textStyle||Ql||i.setTextStyle(ai)}(t)}function ec(e,t){const n=[];let r=e.__first;for(;r!==null;){const i=t.get(r);i===void 0&&I(101),n.push(r),r=i.__next}return n}function _o(e,t){const n=Ni.get(e);let r=_n.get(e);n!==void 0&&r!==void 0||I(61);const i=rs||jf.has(e)||Wf.has(e),s=Ii(Oe,e);if(n===r&&!i){if(P(n)){const o=s.__lexicalTextContent;o!==void 0&&(ce+=o,ur+=o)}else{const o=n.getTextContent();ur+=o,ce+=o}return s}if(n!==r&&i&&sp(ha,fa,Fc,r,"updated"),r.updateDOM(n,s,Oi)){const o=tc(e,null);return t===null&&I(62),t.replaceChild(o,s),Zl(e,null),o}if(P(n)&&P(r)){const o=r.__indent;(rs||o!==n.__indent)&&eS(s,o);const a=r.__format;if((rs||a!==n.__format)&&nS(s,a),i&&(uV(n,r,s),fe(r)||r.isInline()||rS(n,r,s)),zc(r)&&(ce+=Jr,ur+=Jr),(rs||r.__dir!==n.__dir)&&(Gf(s,r),fe(r)&&!rs))for(const l of r.getChildren())P(l)&&Gf(Ii(Oe,l.getKey()),l)}else{const o=r.getTextContent();if(Pt(r)){const a=r.decorate(Oe,Oi);a!==null&&iS(e,a)}ce+=o,ur+=o}if(!Ql&&fe(r)&&r.__cachedText!==ur){const o=r.getWritable();o.__cachedText=ur,r=o}return s}function iS(e,t){let n=Oe._pendingDecorators;const r=Oe._decorators;if(n===null){if(r[e]===t)return;n=XS(Oe)}n[e]=t}function Ru(e){let t=e.nextSibling;return t!==null&&t===Oe._blockCursorElement&&(t=t.nextSibling),t}function fV(e,t,n,r,i,s){ce="",ur="",rs=r===2,Oe=n,Oi=n._config,fa=n._nodes,Fc=Oe._listeners.mutation,Wf=i,jf=s,Ni=e._nodeMap,_n=t._nodeMap,Ql=t._readOnly,zf=new Map(n._keyToDOMMap);const o=new Map;return ha=o,_o("root",null),Oe=void 0,fa=void 0,Wf=void 0,jf=void 0,Ni=void 0,_n=void 0,Oi=void 0,zf=void 0,ha=void 0,o}function Uf(e){const t=zf.get(e);return t===void 0&&I(75,e),t}function ot(e){return{type:e}}const sS=ot("SELECTION_CHANGE_COMMAND"),hV=ot("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),oS=ot("CLICK_COMMAND"),aS=ot("BEFORE_INPUT_COMMAND"),lS=ot("INPUT_COMMAND"),cS=ot("COMPOSITION_START_COMMAND"),uS=ot("COMPOSITION_END_COMMAND"),_i=ot("DELETE_CHARACTER_COMMAND"),bs=ot("INSERT_LINE_BREAK_COMMAND"),da=ot("INSERT_PARAGRAPH_COMMAND"),_s=ot("CONTROLLED_TEXT_INSERTION_COMMAND"),$d=ot("PASTE_COMMAND"),Yf=ot("REMOVE_TEXT_COMMAND"),pa=ot("DELETE_WORD_COMMAND"),ma=ot("DELETE_LINE_COMMAND"),jn=ot("FORMAT_TEXT_COMMAND"),fS=ot("UNDO_COMMAND"),hS=ot("REDO_COMMAND"),dS=ot("KEYDOWN_COMMAND"),pS=ot("KEY_ARROW_RIGHT_COMMAND"),dV=ot("MOVE_TO_END"),Bd=ot("KEY_ARROW_LEFT_COMMAND"),pV=ot("MOVE_TO_START"),Vd=ot("KEY_ARROW_UP_COMMAND"),Wd=ot("KEY_ARROW_DOWN_COMMAND"),nc=ot("KEY_ENTER_COMMAND"),jd=ot("KEY_SPACE_COMMAND"),mS=ot("KEY_BACKSPACE_COMMAND"),zd=ot("KEY_ESCAPE_COMMAND"),gS=ot("KEY_DELETE_COMMAND"),yS=ot("KEY_TAB_COMMAND"),mV=ot("INSERT_TAB_COMMAND"),gV=ot("INDENT_CONTENT_COMMAND"),Ky=ot("OUTDENT_CONTENT_COMMAND"),vS=ot("DROP_COMMAND"),yV=ot("FORMAT_ELEMENT_COMMAND"),xS=ot("DRAGSTART_COMMAND"),bS=ot("DRAGOVER_COMMAND"),vV=ot("DRAGEND_COMMAND"),$c=ot("COPY_COMMAND"),Kd=ot("CUT_COMMAND"),Jf=ot("SELECT_ALL_COMMAND"),xV=ot("FOCUS_COMMAND"),bV=ot("BLUR_COMMAND"),_V=ot("KEY_MODIFIER_COMMAND"),sr=Object.freeze({}),qf=[["keydown",function(e,t){ga=e.timeStamp,_S=e.key,!t.isComposing()&&U(t,dS,e)}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;no(n)&&r!=="touch"&&r!=="pen"&&e.button===0&&Jn(t,()=>{US(n)||(Zf=!0)})}],["compositionstart",function(e,t){U(t,cS,e)}],["compositionend",function(e,t){Pi?wo=!0:Js||!Oa&&!Na?U(t,uS,e):(th=!0,eh=e.data)}],["input",function(e,t){e.stopPropagation(),Jn(t,()=>{t.dispatchCommand(lS,e)},{event:e}),is=null}],["click",function(e,t){Jn(t,()=>{const n=Y(),r=Mn(mn(t)),i=Qs();if(r){if(F(n)){const s=n.anchor,o=s.getNode();if(s.type==="element"&&s.offset===0&&n.isCollapsed()&&!fe(o)&&be().getChildrenSize()===1&&o.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(e.detail===3&&!n.isCollapsed()&&o!==n.focus.getNode()){const a=hn(o,l=>P(l)&&!l.isInline());P(a)&&a.select(0)}}else if(e.pointerType==="touch"||e.pointerType==="pen"){const s=r.anchorNode;(se(s)||Er(s))&&We(Ud(i,r,t,e))}}U(t,oS,e)})}],["cut",sr],["copy",sr],["dragstart",sr],["dragover",sr],["dragend",sr],["paste",sr],["focus",sr],["blur",sr],["drop",sr]];ql&&qf.push(["beforeinput",(e,t)=>function(n,r){const i=n.inputType;i==="deleteCompositionText"||Pi&&nT(r)||i!=="insertCompositionText"&&U(r,aS,n)}(e,t)]);let ga=0,_S=null,wS=0,is=null;const Xf=new WeakMap,rc=new WeakMap;let Qf=!1,Zf=!1,Vo=!1,wo=!1,th=!1,eh="",li=null,SS=[0,"",0,"root",0];function TS(e,t,n,r,i){const s=e.anchor,o=e.focus,a=s.getNode(),l=Lt(),c=Mn(mn(l)),u=c!==null?c.anchorNode:null,f=s.key,h=l.getElementByKey(f),d=n.length;return f!==o.key||!J(a)||(!i&&(!ql||wS<r+50)||a.isDirty()&&d<2||ZS(n))&&s.offset!==o.offset&&!a.isComposing()||cr(a)||a.isDirty()&&d>1||(i||!ql)&&h!==null&&!a.isComposing()&&u!==Rs(h)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==e.format||a.getStyle()!==e.style||function(p,m){if(m.isSegmented())return!0;if(!p.isCollapsed())return!1;const g=p.anchor.offset,y=m.getParentOrThrow(),v=wi(m);return g===0?!m.canInsertTextBefore()||!y.canInsertTextBefore()&&!m.isComposing()||v||function(x){const w=x.getPreviousSibling();return(J(w)||P(w)&&w.isInline())&&!w.canInsertTextAfter()}(m):g===m.getTextContentSize()&&(!m.canInsertTextAfter()||!y.canInsertTextAfter()&&!m.isComposing()||v)}(e,a)}function Gy(e,t){return Er(e)&&e.nodeValue!==null&&t!==0&&t!==e.nodeValue.length}function Hy(e,t,n){const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=e;Qf&&(Qf=!1,Gy(r,i)&&Gy(s,o)&&!li)||Jn(t,()=>{if(!n)return void We(null);if(!La(t,r,s))return;let a=Y();if(li&&F(a)&&a.isCollapsed()){const l=a.anchor,c=li.anchor;(l.key===c.key&&l.offset===c.offset+1||l.offset===1&&c.getNode().is(l.getNode().getPreviousSibling()))&&(a=li.clone(),We(a))}if(li=null,F(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){e.type==="Range"&&e.anchorNode===e.focusNode&&(a.dirty=!0);const u=mn(t).event,f=u?u.timeStamp:performance.now(),[h,d,p,m,g]=SS,y=be(),v=t.isComposing()===!1&&y.getTextContent()==="";if(f<g+200&&l.offset===p&&l.key===m)dl(a,h,d);else if(l.type==="text")J(c)||I(141),kS(a,c);else if(l.type==="element"&&!v){P(c)||I(259);const x=l.getNode();x.isEmpty()?function(w,S){const C=S.getTextFormat(),M=S.getTextStyle();dl(w,C,M)}(a,x):dl(a,0,"")}}else{const u=l.key,f=a.focus.key,h=a.getNodes(),d=h.length,p=a.isBackward(),m=p?o:i,g=p?i:o,y=p?f:u,v=p?u:f;let x=2047,w=!1;for(let S=0;S<d;S++){const C=h[S],M=C.getTextContentSize();if(J(C)&&M!==0&&!(S===0&&C.__key===y&&m===M||S===d-1&&C.__key===v&&g===0)&&(w=!0,x&=C.getFormat(),x===0))break}a.format=w?x:0}}U(t,sS,void 0)})}function dl(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function kS(e,t){dl(e,t.getFormat(),t.getStyle())}function CS(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return t.length===0?null:t[0]}function wV(e){const t=e.inputType,n=CS(e),r=Lt(),i=Y();if(t==="deleteContentBackward"){if(i===null){const f=Qs();if(!F(f))return!0;We(f.clone())}if(F(i)){const f=i.anchor.key===i.focus.key;if(s=e.timeStamp,_S==="MediaLast"&&s<ga+30&&r.isComposing()&&f){if(ke(null),ga=0,setTimeout(()=>{Jn(r,()=>{ke(null)})},30),F(i)){const h=i.anchor.getNode();h.markDirty(),J(h)||I(142),kS(i,h)}}else{ke(null),e.preventDefault();const h=i.anchor.getNode(),d=h.getTextContent(),p=h.canInsertTextAfter(),m=i.anchor.offset===0&&i.focus.offset===d.length;let g=Ny&&f&&!m&&p;if(g&&i.isCollapsed()&&(g=!Pt(ah(i.anchor,!0))),!g){U(r,_i,!0);const y=Y();Ny&&F(y)&&y.isCollapsed()&&(li=y,setTimeout(()=>li=null))}}return!0}}var s;if(!F(i))return!0;const o=e.data;is!==null&&rp(!1,r,is),i.dirty&&is===null||!i.isCollapsed()||fe(i.anchor.getNode())||n===null||i.applyDOMRange(n),is=null;const a=i.anchor,l=i.focus,c=a.getNode(),u=l.getNode();if(t==="insertText"||t==="insertTranspose"){if(o===`
`)e.preventDefault(),U(r,bs,!1);else if(o===Jr)e.preventDefault(),U(r,da,void 0);else if(o==null&&e.dataTransfer){const f=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(f)}else o!=null&&TS(i,n,o,e.timeStamp,!0)?(e.preventDefault(),U(r,_s,o)):is=o;return wS=e.timeStamp,!0}switch(e.preventDefault(),t){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":U(r,_s,e);break;case"insertFromComposition":ke(null),U(r,_s,e);break;case"insertLineBreak":ke(null),U(r,bs,!1);break;case"insertParagraph":ke(null),Vo&&!Js?(Vo=!1,U(r,bs,!1)):U(r,da,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":U(r,$d,e);break;case"deleteByComposition":(function(f,h){return f!==h||P(f)||P(h)||!wi(f)||!wi(h)})(c,u)&&U(r,Yf,e);break;case"deleteByDrag":case"deleteByCut":U(r,Yf,e);break;case"deleteContent":U(r,_i,!1);break;case"deleteWordBackward":U(r,pa,!0);break;case"deleteWordForward":U(r,pa,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":U(r,ma,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":U(r,ma,!1);break;case"formatStrikeThrough":U(r,jn,"strikethrough");break;case"formatBold":U(r,jn,"bold");break;case"formatItalic":U(r,jn,"italic");break;case"formatUnderline":U(r,jn,"underline");break;case"historyUndo":U(r,fS,void 0);break;case"historyRedo":U(r,hS,void 0)}return!0}function SV(e){if(se(e.target)&&US(e.target))return!0;const t=Lt(),n=Y(),r=e.data,i=CS(e);if(r!=null&&F(n)&&TS(n,i,r,e.timeStamp,!1)){wo&&(ic(t,r),wo=!1);const s=n.anchor.getNode(),o=Mn(mn(t));if(o===null)return!0;const a=n.isBackward(),l=a?n.anchor.offset:n.focus.offset,c=a?n.focus.offset:n.anchor.offset;ql&&!n.isCollapsed()&&J(s)&&o.anchorNode!==null&&s.getTextContent().slice(0,l)+r+s.getTextContent().slice(l+c)===eT(o.anchorNode)||U(t,_s,r);const u=r.length;Pi&&u>1&&e.inputType==="insertCompositionText"&&!t.isComposing()&&(n.anchor.offset-=u),Oa||Js||Na||!t.isComposing()||(ga=0,ke(null))}else rp(!1,t,r!==null?r:void 0),wo&&(ic(t,r||void 0),wo=!1);return function(){Pe();const s=Lt();Xw(s)}(),!0}function TV(e){const t=Lt(),n=Y();if(F(n)&&!t.isComposing()){const r=n.anchor,i=n.anchor.getNode();ke(r.key),(e.timeStamp<ga+30||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||J(i)&&i.getStyle()!==n.style)&&U(t,_s,XB)}return!0}function kV(e){return ic(Lt(),e.data),!0}function ic(e,t){const n=e._compositionKey;if(ke(null),n!==null&&t!=null){if(t===""){const r=ue(n),i=Rs(e.getElementByKey(n));return void(i!==null&&i.nodeValue!==null&&J(r)&&ip(r,i.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const r=Y();if(F(r)){const i=r.focus;return r.anchor.set(i.key,i.offset,i.type),void U(e,nc,null)}}}rp(!0,e,t)}function CV(e){const t=Lt();if(e.key==null)return!0;if(th&&yv(e))return Jn(t,()=>{ic(t,eh)}),th=!1,eh="",!0;if(function(n){return Ot(n,"ArrowRight",{shiftKey:"any"})}(e))U(t,pS,e);else if(function(n){return Ot(n,"ArrowRight",ar)}(e))U(t,dV,e);else if(function(n){return Ot(n,"ArrowLeft",{shiftKey:"any"})}(e))U(t,Bd,e);else if(function(n){return Ot(n,"ArrowLeft",ar)}(e))U(t,pV,e);else if(function(n){return Ot(n,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))U(t,Vd,e);else if(function(n){return Ot(n,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))U(t,Wd,e);else if(function(n){return Ot(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))Vo=!0,U(t,nc,e);else if(function(n){return n.key===" "}(e))U(t,jd,e);else if(function(n){return gn&&Ot(n,"o",{ctrlKey:!0})}(e))e.preventDefault(),Vo=!0,U(t,bs,!0);else if(function(n){return Ot(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))Vo=!1,U(t,nc,e);else if(function(n){return Ot(n,"Backspace",{shiftKey:"any"})||gn&&Ot(n,"h",{ctrlKey:!0})}(e))yv(e)?U(t,mS,e):(e.preventDefault(),U(t,_i,!0));else if(function(n){return n.key==="Escape"}(e))U(t,zd,e);else if(function(n){return Ot(n,"Delete",{})||gn&&Ot(n,"d",{ctrlKey:!0})}(e))(function(n){return n.key==="Delete"})(e)?U(t,gS,e):(e.preventDefault(),U(t,_i,!1));else if(function(n){return Ot(n,"Backspace",gv)}(e))e.preventDefault(),U(t,pa,!0);else if(function(n){return Ot(n,"Delete",gv)}(e))e.preventDefault(),U(t,pa,!1);else if(function(n){return gn&&Ot(n,"Backspace",{metaKey:!0})}(e))e.preventDefault(),U(t,ma,!0);else if(function(n){return gn&&(Ot(n,"Delete",{metaKey:!0})||Ot(n,"k",{ctrlKey:!0}))}(e))e.preventDefault(),U(t,ma,!1);else if(function(n){return Ot(n,"b",ar)}(e))e.preventDefault(),U(t,jn,"bold");else if(function(n){return Ot(n,"u",ar)}(e))e.preventDefault(),U(t,jn,"underline");else if(function(n){return Ot(n,"i",ar)}(e))e.preventDefault(),U(t,jn,"italic");else if(function(n){return Ot(n,"Tab",{shiftKey:"any"})}(e))U(t,yS,e);else if(function(n){return Ot(n,"z",ar)}(e))e.preventDefault(),U(t,fS,void 0);else if(function(n){return gn?Ot(n,"z",{metaKey:!0,shiftKey:!0}):Ot(n,"y",{ctrlKey:!0})||Ot(n,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),U(t,hS,void 0);else{const n=t._editorState._selection;n===null||F(n)?vv(e)&&(e.preventDefault(),U(t,Jf,e)):function(r){return Ot(r,"c",ar)}(e)?(e.preventDefault(),U(t,$c,e)):function(r){return Ot(r,"x",ar)}(e)?(e.preventDefault(),U(t,Kd,e)):vv(e)&&(e.preventDefault(),U(t,Jf,e))}return function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey}(e)&&t.dispatchCommand(_V,e),!0}function ES(e){let t=e.__lexicalEventHandles;return t===void 0&&(t=[],e.__lexicalEventHandles=t),t}const ws=new Map;function MS(e){const t=iW(e.target);if(t===null)return;const n=ep(t.anchorNode);if(n===null)return;Zf&&(Zf=!1,Jn(n,()=>{const l=Qs(),c=t.anchorNode;(se(c)||Er(c))&&We(Ud(l,t,n,e))}));const r=np(n),i=r[r.length-1],s=i._key,o=ws.get(s),a=o||i;a!==n&&Hy(t,a,!1),Hy(t,n,!0),n!==i?ws.set(s,n):o&&ws.delete(s)}function Uy(e){e._lexicalHandled=!0}function Yy(e){return e._lexicalHandled===!0}function EV(e){const t=Xf.get(e);if(t===void 0)return;const n=rc.get(t);if(n===void 0)return;const r=n-1;r>=0||I(164),Xf.delete(e),rc.set(t,r),r===0&&t.removeEventListener("selectionchange",MS);const i=Wc(e);tp(i)?(function(o){if(o._parentEditor!==null){const a=np(o),l=a[a.length-1]._key;ws.get(l)===o&&ws.delete(l)}else ws.delete(o._key)}(i),e.__lexicalEditor=null):i&&I(198);const s=ES(e);for(let o=0;o<s.length;o++)s[o]();e.__lexicalEventHandles=[]}function nh(e,t,n){Pe();const r=e.__key,i=e.getParent();if(i===null)return;const s=function(a){const l=Y();if(!F(l)||!P(a))return l;const{anchor:c,focus:u}=l,f=c.getNode(),h=u.getNode();return ch(f,a)&&c.set(a.__key,0,"element"),ch(h,a)&&u.set(a.__key,0,"element"),l}(e);let o=!1;if(F(s)&&t){const a=s.anchor,l=s.focus;a.key===r&&(ac(a,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0),l.key===r&&(ac(l,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else Xe(s)&&t&&e.isSelected()&&e.selectPrevious();if(F(s)&&t&&!o){const a=e.getIndexWithinParent();Si(e),oc(s,i,a,-1)}else Si(e);n||Ye(i)||i.canBeEmpty()||!i.isEmpty()||nh(i,t),t&&s&&fe(i)&&i.isEmpty()&&i.selectEnd()}const PS=Symbol.for("ephemeral");function sc(e){return e[PS]||!1}class Yn{__type;__key;__parent;__prev;__next;__state;static getType(){const{ownNodeType:t}=Kc(this);return t===void 0&&I(64,this.name),t}static clone(t){I(65,this.name)}$config(){return{}}config(t,n){const r=n.extends||Object.getPrototypeOf(this.constructor);return Object.assign(n,{extends:r,type:t}),{[t]:n}}afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this))}static importDOM;constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),QV(this,t)}getType(){return this.__type}isInline(){I(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const n=ue(t);if(n===null)break;t=n.__parent}return!1}isSelected(t){const n=t||Y();if(n==null)return!1;const r=n.getNodes().some(i=>i.__key===this.__key);if(J(this))return r;if(F(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const i=this.getParent();if(Pt(this)&&this.isInline()&&i){const s=n.isBackward()?n.focus:n.anchor;if(i.is(s.getNode())&&s.offset===i.getChildrenSize()&&this.is(i.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let n=t.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:ue(t)}getParentOrThrow(){const t=this.getParent();return t===null&&I(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const n=t.getParent();if(Ye(n))return P(t)||t===this&&Pt(t)||I(194),t;t=n}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&I(67,this.__key),t}getParents(){const t=[];let n=this.getParent();for(;n!==null;)t.push(n),n=n.getParent();return t}getParentKeys(){const t=[];let n=this.getParent();for(;n!==null;)t.push(n.__key),n=n.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:ue(t)}getPreviousSiblings(){const t=[],n=this.getParent();if(n===null)return t;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)t.push(r),r=r.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:ue(t)}getNextSiblings(){const t=[];let n=this.getNextSibling();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getCommonAncestor(t){const n=P(this)?this:this.getParent(),r=P(t)?t:t.getParent(),i=n&&r?gl(n,r):null;return i?i.commonAncestor:null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){const n=gl(this,t);return n!==null&&(n.type==="descendant"||(n.type==="branch"?aT(n)===-1:(n.type!=="same"&&n.type!=="ancestor"&&I(279),!1)))}isParentOf(t){const n=gl(this,t);return n!==null&&n.type==="ancestor"}getNodesBetween(t){const n=this.isBefore(t),r=[],i=new Set;let s=this;for(;s!==null;){const o=s.__key;if(i.has(o)||(i.add(o),r.push(s)),s===t)break;const a=P(s)?n?s.getFirstChild():s.getLastChild():null;if(a!==null){s=a;continue}const l=n?s.getNextSibling():s.getPreviousSibling();if(l!==null){s=l;continue}const c=s.getParentOrThrow();if(i.has(c.__key)||r.push(c),c===t)break;let u=null,f=c;do{if(f===null&&I(68),u=n?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),f===null)break;u!==null||i.has(f.__key)||r.push(f)}while(u===null);s=u}return n||r.reverse(),r}isDirty(){const t=Lt()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){if(sc(this))return this;const t=ue(this.__key);return t===null&&I(113),t}getWritable(){if(sc(this))return this;Pe();const t=ti(),n=Lt(),r=t._nodeMap,i=this.__key,s=this.getLatest(),o=n._cloneNotNeeded,a=Y();if(a!==null&&a.setCachedNodes(null),o.has(i))return cc(s),s;const l=iT(s);return o.add(i),cc(l),r.set(i,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,n){I(70)}updateDOM(t,n,r){I(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){const t=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...t}}static importJSON(t){I(18,this.name)}updateFromJSON(t){return function(n,r){const i=n.getWritable(),s=r.$;let o=s;for(const a of tS(i).flatKeys)a in r&&(o!==void 0&&o!==s||(o={...s}),o[a]=r[a]);return(i.__state||o)&&lV(n).updateFromJSON(o),i}(this,t)}static transform(){return null}remove(t){nh(this,!0,t)}replace(t,n){Pe();let r=Y();r!==null&&(r=r.clone()),Wu(this,t);const i=this.getLatest(),s=this.__key,o=t.__key,a=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;Si(a);const u=i.getPreviousSibling(),f=i.getNextSibling(),h=i.__prev,d=i.__next,p=i.__parent;if(nh(i,!1,!0),u===null?l.__first=o:u.getWritable().__next=o,a.__prev=h,f===null?l.__last=o:f.getWritable().__prev=o,a.__next=d,a.__parent=p,l.__size=c,n&&(P(this)&&P(a)||I(139),this.getChildren().forEach(m=>{a.append(m)})),F(r)){We(r);const m=r.anchor,g=r.focus;m.key===s&&Qy(m,a),g.key===s&&Qy(g,a)}return Vr()===s&&ke(o),a}insertAfter(t,n=!0){Pe(),Wu(this,t);const r=this.getWritable(),i=t.getWritable(),s=i.getParent(),o=Y();let a=!1,l=!1;if(s!==null){const d=t.getIndexWithinParent();if(Si(i),F(o)){const p=s.__key,m=o.anchor,g=o.focus;a=m.type==="element"&&m.key===p&&m.offset===d+1,l=g.type==="element"&&g.key===p&&g.offset===d+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),f=i.__key,h=r.__next;if(c===null?u.__last=f:c.getWritable().__prev=f,u.__size++,r.__next=f,i.__next=h,i.__prev=r.__key,i.__parent=r.__parent,n&&F(o)){const d=this.getIndexWithinParent();oc(o,u,d+1);const p=u.__key;a&&o.anchor.set(p,d+2,"element"),l&&o.focus.set(p,d+2,"element")}return t}insertBefore(t,n=!0){Pe(),Wu(this,t);const r=this.getWritable(),i=t.getWritable(),s=i.__key;Si(i);const o=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=r.__prev,c=this.getIndexWithinParent();o===null?a.__first=s:o.getWritable().__next=s,a.__size++,r.__prev=s,i.__prev=l,i.__next=r.__key,i.__parent=r.__parent;const u=Y();return n&&F(u)&&oc(u,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return Ne()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,n){Pe();const r=this.getPreviousSibling(),i=this.getParentOrThrow();if(r===null)return i.select(0,0);if(P(r))return r.select();if(!J(r)){const s=r.getIndexWithinParent()+1;return i.select(s,s)}return r.select(t,n)}selectNext(t,n){Pe();const r=this.getNextSibling(),i=this.getParentOrThrow();if(r===null)return i.select();if(P(r))return r.select(0,0);if(!J(r)){const s=r.getIndexWithinParent();return i.select(s,s)}return r.select(t,n)}markDirty(){this.getWritable()}reconcileObservedMutation(t,n){this.markDirty()}}const pl="history-merge",MV="paste",PV="collaboration",AV="skip-scroll-into-view",OV="skip-dom-selection",rh="skip-selection-focus";class qs extends Yn{static getType(){return"linebreak"}static clone(t){return new qs(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:t=>function(n){const r=n.parentElement;if(r!==null&&uc(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&Xa(i)){const s=r.lastChild;if(s===n||s.previousSibling===n&&Xa(s))return!0}}return!1}(t)||function(n){const r=n.parentElement;if(r!==null&&uc(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&Xa(i))return!1;const s=r.lastChild;if(s===n||s.previousSibling===n&&Xa(s))return!0}return!1}(t)?null:{conversion:NV,priority:0}}}static importJSON(t){return Di().updateFromJSON(t)}}function NV(e){return{node:Di()}}function Di(){return eo(new qs)}function Ss(e){return e instanceof qs}function Xa(e){return Er(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function Lu(e,t){return 16&t?"code":t&Yw?"mark":32&t?"sub":64&t?"sup":null}function Fu(e,t){return 1&t?"strong":2&t?"em":"span"}function AS(e,t,n,r,i){const s=r.classList;let o=Ts(i,"base");o!==void 0&&s.add(...o),o=Ts(i,"underlineStrikethrough");let a=!1;const l=8&t&&4&t;o!==void 0&&(8&n&&4&n?(a=!0,l||s.add(...o)):l&&s.remove(...o));for(const c in Ai){const u=Ai[c];if(o=Ts(i,c),o!==void 0)if(n&u){if(a&&(c==="underline"||c==="strikethrough")){t&u&&s.remove(...o);continue}((t&u)===0||l&&c==="underline"||c==="strikethrough")&&s.add(...o)}else t&u&&s.remove(...o)}}function OS(e,t,n){const r=t.firstChild,i=n.isComposing(),s=e+(i?Lc:"");if(r==null)t.textContent=s;else{const o=r.nodeValue;if(o!==s)if(i||Pi){const[a,l,c]=function(u,f){const h=u.length,d=f.length;let p=0,m=0;for(;p<h&&p<d&&u[p]===f[p];)p++;for(;m+p<h&&m+p<d&&u[h-m-1]===f[d-m-1];)m++;return[p,h-p-m,f.slice(p,d-m)]}(o,s);l!==0&&r.deleteData(a,l),r.insertData(a,c)}else r.nodeValue=s}}function Jy(e,t,n,r,i,s){OS(i,e,t);const o=s.theme.text;o!==void 0&&AS(0,0,r,e,o)}function Qa(e,t){const n=document.createElement(t);return n.appendChild(e),n}class Zr extends Yn{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(t){return new Zr(t.__text,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail}constructor(t="",n){super(n),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return eV[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Vr()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const n=Ai[t];return(this.getFormat()&n)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,n){return lc(this.getLatest().__format,t,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(t,n){const r=this.__format,i=Lu(0,r),s=Fu(0,r),o=i===null?s:i,a=document.createElement(o);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),i!==null&&(l=document.createElement(s),a.appendChild(l)),Jy(l,this,0,r,this.__text,t);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(t,n,r){const i=this.__text,s=t.__format,o=this.__format,a=Lu(0,s),l=Lu(0,o),c=Fu(0,s),u=Fu(0,o);if((a===null?c:a)!==(l===null?u:l))return!0;if(a===l&&c!==u){const m=n.firstChild;m==null&&I(48);const g=document.createElement(u);return Jy(g,this,0,o,i,r),n.replaceChild(g,m),!1}let f=n;l!==null&&a!==null&&(f=n.firstChild,f==null&&I(49)),OS(i,f,this);const h=r.theme.text;h!==void 0&&s!==o&&AS(0,s,o,f,h);const d=t.__style,p=this.__style;return d!==p&&(n.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:LV,priority:0}),b:()=>({conversion:IV,priority:0}),code:()=>({conversion:or,priority:0}),em:()=>({conversion:or,priority:0}),i:()=>({conversion:or,priority:0}),mark:()=>({conversion:or,priority:0}),s:()=>({conversion:or,priority:0}),span:()=>({conversion:DV,priority:0}),strong:()=>({conversion:or,priority:0}),sub:()=>({conversion:or,priority:0}),sup:()=>({conversion:or,priority:0}),u:()=>({conversion:or,priority:0})}}static importJSON(t){return he().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style)}exportDOM(t){let{element:n}=super.exportDOM(t);return se(n)||I(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=Qa(n,"b")),this.hasFormat("italic")&&(n=Qa(n,"i")),this.hasFormat("strikethrough")&&(n=Qa(n,"s")),this.hasFormat("underline")&&(n=Qa(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(t,n){}setFormat(t){const n=this.getWritable();return n.__format=typeof t=="string"?Ai[t]:t,n}setDetail(t){const n=this.getWritable();return n.__detail=typeof t=="string"?QB[t]:t,n}setStyle(t){const n=this.getWritable();return n.__style=t,n}toggleFormat(t){const n=lc(this.getFormat(),t,null);return this.setFormat(n)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const n=tV[t];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(t){if(this.__text===t)return this;const n=this.getWritable();return n.__text=t,n}select(t,n){Pe();let r=t,i=n;const s=Y(),o=this.getTextContent(),a=this.__key;if(typeof o=="string"){const l=o.length;r===void 0&&(r=l),i===void 0&&(i=l)}else r=0,i=0;if(!F(s))return RS(a,r,a,i,"text","text");{const l=Vr();l!==s.anchor.key&&l!==s.focus.key||ke(a),s.setTextNodeRange(this,r,this,i)}return s}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,n,r,i){const s=this.getWritable(),o=s.__text,a=r.length;let l=t;l<0&&(l=a+l,l<0&&(l=0));const c=Y();if(i&&F(c)){const f=t+a;c.setTextNodeRange(s,f,s,f)}const u=o.slice(0,l)+r+o.slice(l+n);return s.__text=u,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Pe();const n=this.getLatest(),r=n.getTextContent();if(r==="")return[];const i=n.__key,s=Vr(),o=r.length;t.sort((T,k)=>T-k),t.push(o);const a=[],l=t.length;for(let T=0,k=0;T<o&&k<=l;k++){const R=t[k];R>T&&(a.push(r.slice(T,R)),T=R)}const c=a.length;if(c===1)return[n];const u=a[0],f=n.getParent();let h;const d=n.getFormat(),p=n.getStyle(),m=n.__detail;let g=!1,y=null,v=null;const x=Y();if(F(x)){const[T,k]=x.isBackward()?[x.focus,x.anchor]:[x.anchor,x.focus];T.type==="text"&&T.key===i&&(y=T),k.type==="text"&&k.key===i&&(v=k)}n.isSegmented()?(h=he(u),h.__format=d,h.__style=p,h.__detail=m,h.__state=$y(n,h),g=!0):h=n.setTextContent(u);const w=[h];for(let T=1;T<c;T++){const k=he(a[T]);k.__format=d,k.__style=p,k.__detail=m,k.__state=$y(n,k);const R=k.__key;s===i&&ke(R),w.push(k)}const S=y?y.offset:null,C=v?v.offset:null;let M=0;for(const T of w){if(!y&&!v)break;const k=M+T.getTextContentSize();if(y!==null&&S!==null&&S<=k&&S>=M&&(y.set(T.getKey(),S-M,"text"),S<k&&(y=null)),v!==null&&C!==null&&C<=k&&C>=M){v.set(T.getKey(),C-M,"text");break}M=k}if(f!==null){(function(R){const X=R.getPreviousSibling(),at=R.getNextSibling();X!==null&&cc(X),at!==null&&cc(at)})(this);const T=f.getWritable(),k=this.getIndexWithinParent();g?(T.splice(k,0,w),this.remove()):T.splice(k,1,w),F(x)&&oc(x,f,k,c-1)}return w}mergeWithSibling(t){const n=t===this.getPreviousSibling();n||t===this.getNextSibling()||I(50);const r=this.__key,i=t.__key,s=this.__text,o=s.length;Vr()===i&&ke(r);const a=Y();if(F(a)){const f=a.anchor,h=a.focus;f!==null&&f.key===i&&sv(f,n,r,t,o),h!==null&&h.key===i&&sv(h,n,r,t,o)}const l=t.__text,c=n?l+s:s+l;this.setTextContent(c);const u=this.getWritable();return t.remove(),u}isTextEntity(){return!1}}function DV(e){return{forChild:Gd(e.style),node:null}}function IV(e){const t=e,n=t.style.fontWeight==="normal";return{forChild:Gd(t.style,n?void 0:"bold"),node:null}}const qy=new WeakMap;function RV(e){if(!se(e))return!1;if(e.nodeName==="PRE")return!0;const t=e.style.whiteSpace;return typeof t=="string"&&t.startsWith("pre")}function LV(e){const t=e;e.parentElement===null&&I(129);let n=t.textContent||"";if(function(r){let i,s=r.parentNode;const o=[r];for(;s!==null&&(i=qy.get(s))===void 0&&!RV(s);)o.push(s),s=s.parentNode;const a=i===void 0?s:i;for(let l=0;l<o.length;l++)qy.set(o[l],a);return a}(t)!==null){const r=n.split(/(\r?\n|\t)/),i=[],s=r.length;for(let o=0;o<s;o++){const a=r[o];a===`
`||a===`\r
`?i.push(Di()):a==="	"?i.push(Da()):a!==""&&i.push(he(a))}return{node:i}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=t,i=!0;for(;r!==null&&(r=Xy(r,!1))!==null;){const s=r.textContent||"";if(s.length>0){/[ \t\n]$/.test(s)&&(n=n.slice(1)),i=!1;break}}i&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=t,i=!0;for(;r!==null&&(r=Xy(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:he(n)}}function Xy(e,t){let n=e;for(;;){let r;for(;(r=t?n.nextSibling:n.previousSibling)===null;){const s=n.parentElement;if(s===null)return null;n=s}if(n=r,se(n)){const s=n.style.display;if(s===""&&!hh(n)||s!==""&&!s.startsWith("inline"))return null}let i=n;for(;(i=t?n.firstChild:n.lastChild)!==null;)n=i;if(Er(n))return n;if(n.nodeName==="BR")return null}}const FV={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function or(e){const t=FV[e.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:Gd(e.style,t),node:null}}function he(e=""){return eo(new Zr(e))}function J(e){return e instanceof Zr}function Gd(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),i=n==="700"||n==="bold",s=r.includes("line-through"),o=e.fontStyle==="italic",a=r.includes("underline"),l=e.verticalAlign;return c=>(J(c)&&(i&&!c.hasFormat("bold")&&c.toggleFormat("bold"),s&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),o&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}class Xs extends Zr{static getType(){return"tab"}static clone(t){return new Xs(t.__key)}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}createDOM(t){const n=super.createDOM(t),r=Ts(t.theme,"tab");return r!==void 0&&n.classList.add(...r),n}static importJSON(t){return Da().updateFromJSON(t)}setTextContent(t){return t!=="	"&&t!==""&&Gw(126),super.setTextContent("	")}spliceText(t,n,r,i){return r===""&&n===0||r==="	"&&n===1||I(286),this}setDetail(t){return t!==2&&I(127),this}setMode(t){return t!=="normal"&&I(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Da(){return eo(new Xs)}function NS(e){return e instanceof Xs}class $V{key;offset;type;_selection;constructor(t,n,r){this._selection=null,this.key=t,this.offset=n,this.type=r}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){return this.key===t.key?this.offset<t.offset:oT(ln(wr(this,"next")),ln(wr(t,"next")))<0}getNode(){const t=ue(this.key);return t===null&&I(20),t}set(t,n,r,i){const s=this._selection,o=this.key;i&&this.key===t&&this.offset===n&&this.type===r||(this.key=t,this.offset=n,this.type=r,Ia()||(Vr()===o&&ke(t),s!==null&&(s.setCachedNodes(null),s.dirty=!0)))}}function nr(e,t,n){return new $V(e,t,n)}function $u(e,t){let n=t.__key,r=e.offset,i="element";if(J(t)){i="text";const s=t.getTextContentSize();r>s&&(r=s)}else if(!P(t)){const s=t.getNextSibling();if(J(s))n=s.__key,r=0,i="text";else{const o=t.getParent();o&&(n=o.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function Qy(e,t){if(P(t)){const n=t.getLastDescendant();P(n)||J(n)?$u(e,n):$u(e,t)}else $u(e,t)}class Bc{_nodes;_cachedNodes;dirty;constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!Xe(t))return!1;const n=this._nodes,r=t._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new Bc(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const n=this.getNodes(),r=n.length,i=n[r-1];let s;if(J(i))s=i.select();else{const o=i.getIndexWithinParent()+1;s=i.getParentOrThrow().select(o,o)}s.insertNodes(t);for(let o=0;o<r;o++)n[o].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const n=this._nodes,r=[];for(const i of n){const s=ue(i);s!==null&&r.push(s)}return Ia()||(this._cachedNodes=r),r}getTextContent(){const t=this.getNodes();let n="";for(let r=0;r<t.length;r++)n+=t[r].getTextContent();return n}deleteNodes(){const t=this.getNodes();if((Y()||Qs())===this&&t[0]){const n=De(t[0],"next");yW(qr(n,n))}for(const n of t)n.remove()}}function F(e){return e instanceof Hi}class Hi{format;style;anchor;focus;_cachedNodes;dirty;constructor(t,n,r,i){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!F(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const n=function(r){const i=[],[s,o]=r.getTextSlices();s&&i.push(s.caret.origin);const a=new Set,l=new Set;for(const c of r)if(qn(c)){const{origin:u}=c;i.length===0?a.add(u):(l.add(u),i.push(u))}else{const{origin:u}=c;P(u)&&l.has(u)||i.push(u)}if(o&&i.push(o.caret.origin),Ls(r.focus)&&P(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let c=Tn(r.focus.origin,"previous");qn(c)&&a.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(i[i.length-1]);c=up(c))a.delete(c.origin),i.pop();for(;i.length>1;){const c=i[i.length-1];if(!P(c)||l.has(c)||c.isEmpty()||a.has(c))break;i.pop()}if(i.length===0&&r.isCollapsed()){const c=ln(r.anchor),u=ln(r.anchor.getFlipped()),f=d=>Kr(d)?d.origin:d.getNodeAtCaret(),h=f(c)||f(u)||(r.anchor.getNodeAtCaret()?c.origin:u.origin);i.push(h)}return i}(cT(Tv(this),"next"));return Ia()||(this._cachedNodes=n),n}setTextNodeRange(t,n,r,i){this.anchor.set(t.__key,n,"text"),this.focus.set(r.__key,i,"text")}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const n=t[0],r=t[t.length-1],i=this.anchor,s=this.focus,o=i.isBefore(s),[a,l]=ih(this);let c="",u=!0;for(let f=0;f<t.length;f++){const h=t[f];if(P(h)&&!h.isInline())u||(c+=`
`),u=!h.isEmpty();else if(u=!1,J(h)){let d=h.getTextContent();h===n?h===r?i.type==="element"&&s.type==="element"&&s.offset!==i.offset||(d=a<l?d.slice(a,l):d.slice(l,a)):d=o?d.slice(a):d.slice(l):h===r&&(d=o?d.slice(0,l):d.slice(0,a)),c+=d}else!Pt(h)&&!Ss(h)||h===r&&this.isCollapsed()||(c+=h.getTextContent())}return c}applyDOMRange(t){const n=Lt(),r=n.getEditorState()._selection,i=IS(t.startContainer,t.startOffset,t.endContainer,t.endOffset,n,r);if(i===null)return;const[s,o]=i;this.anchor.set(s.key,s.offset,s.type,!0),this.focus.set(o.key,o.offset,o.type,!0),Xl(this)}clone(){const t=this.anchor,n=this.focus;return new Hi(nr(t.key,t.offset,t.type),nr(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(t){this.format=lc(this.format,t,null),this.dirty=!0}setFormat(t){this.format=t,this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const n=Ai[t];return(this.format&n)!==0}insertRawText(t){const n=t.split(/(\r?\n|\t)/),r=[],i=n.length;for(let s=0;s<i;s++){const o=n[s];o===`
`||o===`\r
`?r.push(Di()):o==="	"?r.push(Da()):r.push(he(o))}this.insertNodes(r)}insertText(t){const n=this.anchor,r=this.focus,i=this.format,s=this.style;let o=n,a=r;!this.isCollapsed()&&r.isBefore(n)&&(o=r,a=n),o.type==="element"&&function(g,y,v,x){const w=g.getNode(),S=w.getChildAtIndex(g.offset),C=he();if(C.setFormat(v),C.setStyle(x),KS(S))S.splice(0,0,[C]);else{const M=fe(w)?Ne().append(C):C;S===null?w.append(M):S.insertBefore(M)}g.is(y)&&y.set(C.__key,0,"text"),g.set(C.__key,0,"text")}(o,a,i,s),a.type==="element"&&$i(a,ln(wr(a,"next")));const l=o.offset;let c=a.offset;const u=this.getNodes(),f=u.length;let h=u[0];J(h)||I(26);const d=h.getTextContent().length,p=h.getParentOrThrow();let m=u[f-1];if(f===1&&a.type==="element"&&(c=d,a.set(o.key,c,"text")),this.isCollapsed()&&l===d&&(cr(h)||!h.canInsertTextAfter()||!p.canInsertTextAfter()&&h.getNextSibling()===null)){let g=h.getNextSibling();if(J(g)&&g.canInsertTextBefore()&&!cr(g)||(g=he(),g.setFormat(i),g.setStyle(s),p.canInsertTextAfter()?h.insertAfter(g):p.insertAfter(g)),g.select(0,0),h=g,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&l===0&&(cr(h)||!h.canInsertTextBefore()||!p.canInsertTextBefore()&&h.getPreviousSibling()===null)){let g=h.getPreviousSibling();if(J(g)&&!cr(g)||(g=he(),g.setFormat(i),p.canInsertTextBefore()?h.insertBefore(g):p.insertBefore(g)),g.select(),h=g,t!=="")return void this.insertText(t)}else if(h.isSegmented()&&l!==d){const g=he(h.getTextContent());g.setFormat(i),h.replace(g),h=g}else if(!this.isCollapsed()&&t!==""){const g=m.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||P(g)&&(!g.canInsertTextBefore()||!g.canInsertTextAfter()))return this.insertText(""),DS(this.anchor,this.focus,null),void this.insertText(t)}if(f===1){if(wi(h)){const x=he(t);return x.select(),void h.replace(x)}const g=h.getFormat(),y=h.getStyle();if(l!==c||g===i&&y===s){if(NS(h)){const x=he(t);return x.setFormat(i),x.setStyle(s),x.select(),void h.replace(x)}}else{if(h.getTextContent()!==""){const x=he(t);if(x.setFormat(i),x.setStyle(s),x.select(),l===0)h.insertBefore(x,!1);else{const[w]=h.splitText(l);w.insertAfter(x,!1)}return void(x.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}h.setFormat(i),h.setStyle(s)}const v=c-l;h=h.spliceText(l,v,t,!0),h.getTextContent()===""?h.remove():this.anchor.type==="text"&&(h.isComposing()?this.anchor.offset-=t.length:(this.format=g,this.style=y))}else{const g=new Set([...h.getParentKeys(),...m.getParentKeys()]),y=P(h)?h:h.getParentOrThrow();let v=P(m)?m:m.getParentOrThrow(),x=m;if(!y.is(v)&&v.isInline())do x=v,v=v.getParentOrThrow();while(v.isInline());if(a.type==="text"&&(c!==0||m.getTextContent()==="")||a.type==="element"&&m.getIndexWithinParent()<c)if(J(m)&&!wi(m)&&c!==m.getTextContentSize()){if(m.isSegmented()){const T=he(m.getTextContent());m.replace(T),m=T}fe(a.getNode())||a.type!=="text"||(m=m.spliceText(0,c,"")),g.add(m.__key)}else{const T=m.getParentOrThrow();T.canBeEmpty()||T.getChildrenSize()!==1?m.remove():T.remove()}else g.add(m.__key);const w=v.getChildren(),S=new Set(u),C=y.is(v),M=y.isInline()&&h.getNextSibling()===null?y:h;for(let T=w.length-1;T>=0;T--){const k=w[T];if(k.is(h)||P(k)&&k.isParentOf(h))break;k.isAttached()&&(!S.has(k)||k.is(x)?C||M.insertAfter(k,!1):k.remove())}if(!C){let T=v,k=null;for(;T!==null;){const R=T.getChildren(),X=R.length;(X===0||R[X-1].is(k))&&(g.delete(T.__key),k=T),T=T.getParent()}}if(wi(h))if(l===d)h.select();else{const T=he(t);T.select(),h.replace(T)}else h=h.spliceText(l,d-l,t,!0),h.getTextContent()===""?h.remove():h.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let T=1;T<f;T++){const k=u[T],R=k.__key;g.has(R)||k.remove()}}}removeText(){const t=Y()===this;yl(this,vW(Tv(this))),t&&Y()!==this&&We(this)}formatText(t,n=null){if(this.isCollapsed())return this.toggleFormat(t),void ke(null);const r=this.getNodes(),i=[];for(const w of r)J(w)&&i.push(w);const s=w=>{r.forEach(S=>{if(P(S)){const C=S.getFormatFlags(t,w);S.setTextFormat(C)}})},o=i.length;if(o===0)return this.toggleFormat(t),ke(null),void s(n);const a=this.anchor,l=this.focus,c=this.isBackward(),u=c?l:a,f=c?a:l;let h=0,d=i[0],p=u.type==="element"?0:u.offset;if(u.type==="text"&&p===d.getTextContentSize()&&(h=1,d=i[1],p=0),d==null)return;const m=d.getFormatFlags(t,n);s(m);const g=o-1;let y=i[g];const v=f.type==="text"?f.offset:y.getTextContentSize();if(d.is(y)){if(p===v)return;if(cr(d)||p===0&&v===d.getTextContentSize())d.setFormat(m);else{const w=d.splitText(p,v),S=p===0?w[0]:w[1];S.setFormat(m),u.type==="text"&&u.set(S.__key,0,"text"),f.type==="text"&&f.set(S.__key,v-p,"text")}return void(this.format=m)}p===0||cr(d)||([,d]=d.splitText(p),p=0),d.setFormat(m);const x=y.getFormatFlags(t,m);v>0&&(v===y.getTextContentSize()||cr(y)||([y]=y.splitText(v)),y.setFormat(x));for(let w=h+1;w<g;w++){const S=i[w],C=S.getFormatFlags(t,x);S.setFormat(C)}u.type==="text"&&u.set(d.__key,p,"text"),f.type==="text"&&f.set(y.__key,v,"text"),this.format=m|x}insertNodes(t){if(t.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const p=Y();return F(p)||I(134),p.insertNodes(t)}const n=(this.isBackward()?this.focus:this.anchor).getNode(),r=hn(n,on),i=t[t.length-1];if(P(r)&&"__language"in r){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const p=Bu(this);r.splice(p,0,t),i.selectEnd()}return}if(!t.some(p=>(P(p)||Pt(p))&&!p.isInline())){P(r)||I(211,n.constructor.name,n.getType());const p=Bu(this);return r.splice(p,0,t),void i.selectEnd()}const s=function(p){const m=Ne();let g=null;for(let y=0;y<p.length;y++){const v=p[y],x=Ss(v);if(x||Pt(v)&&v.isInline()||P(v)&&v.isInline()||J(v)||v.isParentRequired()){if(g===null&&(g=v.createParentElementNode(),m.append(g),x))continue;g!==null&&g.append(v)}else m.append(v),g=null}return m}(t),o=s.getLastDescendant(),a=s.getChildren(),l=!P(r)||!r.isEmpty()?this.insertParagraph():null,c=a[a.length-1];let u=a[0];var f;P(f=u)&&on(f)&&!f.isEmpty()&&P(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(P(r)||I(211,n.constructor.name,n.getType()),r.append(...u.getChildren()),u=a[1]),u&&(r===null&&I(212,n.constructor.name,n.getType()),function(p,m){const g=m.getParentOrThrow().getLastChild();let y=m;const v=[m];for(;y!==g;)y.getNextSibling()||I(140),y=y.getNextSibling(),v.push(y);let x=p;for(const w of v)x=x.insertAfter(w)}(r,u));const h=hn(o,on);l&&P(h)&&(l.canMergeWhenEmpty()||on(c))&&(h.append(...l.getChildren()),l.remove()),P(r)&&r.isEmpty()&&r.remove(),o.selectEnd();const d=P(r)?r.getLastChild():null;Ss(d)&&h!==r&&d.remove()}insertParagraph(){if(this.anchor.key==="root"){const o=Ne();return be().splice(this.anchor.offset,0,[o]),o.select(),o}const t=Bu(this),n=hn(this.anchor.getNode(),on);P(n)||I(213);const r=n.getChildAtIndex(t),i=r?[r,...r.getNextSiblings()]:[],s=n.insertNewAfter(this,!1);return s?(s.append(...i),s.selectStart(),s):null}insertLineBreak(t){const n=Di();if(this.insertNodes([n]),t){const r=n.getParentOrThrow(),i=n.getIndexWithinParent();r.select(i,i)}}extract(){const t=[...this.getNodes()],n=t.length;let r=t[0],i=t[n-1];const[s,o]=ih(this),a=this.isBackward(),[l,c]=a?[this.focus,this.anchor]:[this.anchor,this.focus],[u,f]=a?[o,s]:[s,o];if(n===0)return[];if(n===1){if(J(r)&&!this.isCollapsed()){const h=r.splitText(u,f),d=u===0?h[0]:h[1];return d?(l.set(d.getKey(),0,"text"),c.set(d.getKey(),d.getTextContentSize(),"text"),[d]):[]}return[r]}if(J(r)&&(u===r.getTextContentSize()?t.shift():u!==0&&([,r]=r.splitText(u),t[0]=r,l.set(r.getKey(),0,"text"))),J(i)){const h=i.getTextContent().length;f===0?t.pop():f!==h&&([i]=i.splitText(f),t[t.length-1]=i,c.set(i.getKey(),i.getTextContentSize(),"text"))}return t}modify(t,n,r){if(ov(this,t,n,r))return;const i=t==="move",s=Lt(),o=Mn(mn(s));if(!o)return;const a=s._blockCursorElement,l=s._rootElement,c=this.focus.getNode();if(l===null||a===null||!P(c)||c.isInline()||c.canBeEmpty()||uh(a,s,l),this.dirty){let u=Ii(s,this.anchor.key),f=Ii(s,this.focus.key);this.anchor.type==="text"&&(u=Rs(u)),this.focus.type==="text"&&(f=Rs(f)),u&&f&&FS(o,u,this.anchor.offset,f,this.focus.offset)}if(function(u,f,h,d){u.modify(f,h,d)}(o,t,n?"backward":"forward",r),o.rangeCount>0){const u=o.getRangeAt(0),f=this.anchor.getNode(),h=fe(f)?f:nW(f);if(this.applyDOMRange(u),this.dirty=!0,!i){const d=this.getNodes(),p=[];let m=!1;for(let g=0;g<d.length;g++){const y=d[g];ch(y,h)?p.push(y):m=!0}if(m&&p.length>0)if(n){const g=p[0];P(g)?g.selectStart():g.getParentOrThrow().selectStart()}else{const g=p[p.length-1];P(g)?g.selectEnd():g.getParentOrThrow().selectEnd()}o.anchorNode===u.startContainer&&o.anchorOffset===u.startOffset||function(g){const y=g.focus,v=g.anchor,x=v.key,w=v.offset,S=v.type;v.set(y.key,y.offset,y.type,!0),y.set(x,w,S,!0)}(this)}}r==="lineboundary"&&ov(this,t,n,r,"decorators")}forwardDeletion(t,n,r){if(!r&&(t.type==="element"&&P(n)&&t.offset===n.getChildrenSize()||t.type==="text"&&t.offset===n.getTextContentSize())){const i=n.getParent(),s=n.getNextSibling()||(i===null?null:i.getNextSibling());if(P(s)&&s.isShadowRoot())return!0}return!1}deleteCharacter(t){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let i=r.getNode();if(this.forwardDeletion(r,i,t))return;const s=hp(wr(r,t?"previous":"next"));if(s.getTextSlices().every(a=>a===null||a.distance===0)){let a={type:"initial"};for(const l of s.iterNodeCarets("shadowRoot"))if(qn(l)){if(!l.origin.isInline()){if(l.origin.isShadowRoot()){if(a.type==="merge-block")break;if(P(s.anchor.origin)&&s.anchor.origin.isEmpty()){const c=ln(l);yl(this,qr(c,c)),s.anchor.origin.remove()}return}a.type!=="merge-next-block"&&a.type!=="merge-block"||(a={block:a.block,caret:l,type:"merge-block"})}}else{if(a.type==="merge-block")break;if(Ls(l)){if(P(l.origin)){if(l.origin.isInline()){if(!l.origin.isParentOf(s.anchor.origin))break}else a={block:l.origin,type:"merge-next-block"};continue}if(Pt(l.origin)){if(!l.origin.isIsolated())if(a.type==="merge-next-block"&&(l.origin.isKeyboardSelectable()||!l.origin.isInline())&&P(s.anchor.origin)&&s.anchor.origin.isEmpty()){s.anchor.origin.remove();const c=LS();c.add(l.origin.getKey()),We(c)}else l.origin.remove();return}break}}if(a.type==="merge-block"){const{caret:l,block:c}=a;return yl(this,qr(!l.origin.isEmpty()&&c.isEmpty()?dp(De(c,l.direction)):s.anchor,l)),this.removeText()}}const o=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&r.offset===0&&tv(this,r.getNode()))return}else{const a=o.type==="text"?o.getNode():null;if(i=r.type==="text"?r.getNode():null,a!==null&&a.isSegmented()){const l=o.offset,c=a.getTextContentSize();if(a.is(i)||t&&l!==c||!t&&l!==0)return void ev(a,t,l)}else if(i!==null&&i.isSegmented()){const l=r.offset,c=i.getTextContentSize();if(i.is(a)||t&&l!==0||!t&&l!==c)return void ev(i,t,l)}(function(l,c){const u=l.anchor,f=l.focus,h=u.getNode(),d=f.getNode();if(h===d&&u.type==="text"&&f.type==="text"){const p=u.offset,m=f.offset,g=p<m,y=g?p:m,v=g?m:p,x=v-1;y!==x&&function(w){return!(ZS(w)||BV(w))}(h.getTextContent().slice(y,v))&&(c?f.set(f.key,x,f.type):u.set(u.key,x,u.type))}})(this,t)}}if(this.removeText(),t&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&fe(r.getParent())&&r.getPreviousSibling()===null&&tv(this,r)}}deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText()}deleteWord(t){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Xe(e){return e instanceof Bc}function Zy(e){const t=e.offset;if(e.type==="text")return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function ih(e){const t=e.getStartEndPoints();if(t===null)return[0,0];const[n,r]=t;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[Zy(n),Zy(r)]}function tv(e,t){for(let n=t;n;n=n.getParent()){if(P(n)){if(n.collapseAtStart(e))return!0;if(Ye(n))break}if(n.getPreviousSibling())break}return!1}const BV=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("")&&t("#")&&t(""))return t}catch{}return()=>!1})();function ev(e,t,n){const r=e,i=r.getTextContent().split(/(?=\s)/g),s=i.length;let o=0,a=0;for(let c=0;c<s;c++){const u=c===s-1;if(a=o,o+=i[c].length,t&&o===n||o>n||u){i.splice(c,1),u&&(a=void 0);break}}const l=i.join("").trim();l===""?r.remove():(r.setTextContent(l),r.select(a,a))}function nv(e,t,n,r){let i,s=t;if(se(e)){let o=!1;const a=e.childNodes,l=a.length,c=r._blockCursorElement;s===l&&(o=!0,s=l-1);let u=a[s],f=!1;if(u===c)u=a[s+1],f=!0;else if(c!==null){const h=c.parentNode;e===h&&t>Array.prototype.indexOf.call(h.children,c)&&s--}if(i=fs(u),J(i))s=Gr(i,o?"next":"previous");else{let h=fs(e);if(h===null)return null;if(P(h)){const d=r.getElementByKey(h.getKey());d===null&&I(214),[h,s]=h.getDOMSlot(d).resolveChildIndex(h,d,e,t),P(h)||I(215),o&&s>=h.getChildrenSize()&&(s=Math.max(0,h.getChildrenSize()-1));let m=h.getChildAtIndex(s);if(P(m)&&function(g,y,v){const x=g.getParent();return v===null||x===null||!x.canBeEmpty()||x!==v.getNode()}(m,0,n)){const g=o?m.getLastDescendant():m.getFirstDescendant();g===null?h=m:(m=g,h=P(m)?m:m.getParentOrThrow()),s=0}J(m)?(i=m,h=null,s=Gr(m,o?"next":"previous")):m!==h&&o&&!f&&(P(h)||I(216),s=Math.min(h.getChildrenSize(),s+1))}else{const d=h.getIndexWithinParent();s=t===0&&Pt(h)&&fs(e)===h?d:d+1,h=h.getParentOrThrow()}if(P(h))return nr(h.__key,s,"element")}}else i=fs(e);return J(i)?nr(i.__key,Gr(i,s,"clamp"),"text"):null}function rv(e,t,n){const r=e.offset,i=e.getNode();if(r===0){const s=i.getPreviousSibling(),o=i.getParent();if(t){if((n||!t)&&s===null&&P(o)&&o.isInline()){const a=o.getPreviousSibling();J(a)&&e.set(a.__key,a.getTextContent().length,"text")}}else P(s)&&!n&&s.isInline()?e.set(s.__key,s.getChildrenSize(),"element"):J(s)&&e.set(s.__key,s.getTextContent().length,"text")}else if(r===i.getTextContent().length){const s=i.getNextSibling(),o=i.getParent();if(t&&P(s)&&s.isInline())e.set(s.__key,0,"element");else if((n||t)&&s===null&&P(o)&&o.isInline()&&!o.canInsertTextAfter()){const a=o.getNextSibling();J(a)&&e.set(a.__key,0,"text")}}}function DS(e,t,n){if(e.type==="text"&&t.type==="text"){const r=e.isBefore(t),i=e.is(t);rv(e,r,i),rv(t,!r,i),i&&t.set(e.key,e.offset,e.type);const s=Lt();if(s.isComposing()&&s._compositionKey!==e.key&&F(n)){const o=n.anchor,a=n.focus;e.set(o.key,o.offset,o.type,!0),t.set(a.key,a.offset,a.type,!0)}}}function IS(e,t,n,r,i,s){if(e===null||n===null||!La(i,e,n))return null;const o=nv(e,t,F(s)?s.anchor:null,i);if(o===null)return null;const a=nv(n,r,F(s)?s.focus:null,i);if(a===null)return null;if(o.type==="element"&&a.type==="element"){const l=fs(e),c=fs(n);if(Pt(l)&&Pt(c))return null}return DS(o,a,s),[o,a]}function sh(e){return P(e)&&!e.isInline()}function RS(e,t,n,r,i,s){const o=ti(),a=new Hi(nr(e,t,i),nr(n,r,s),0,"");return a.dirty=!0,o._selection=a,a}function Hd(){const e=nr("root",0,"element"),t=nr("root",0,"element");return new Hi(e,t,0,"")}function LS(){return new Bc(new Set)}function Ud(e,t,n,r){const i=n._window;if(i===null)return null;const s=r||i.event,o=s?s.type:void 0,a=o==="selectionchange",l=!Vf&&(a||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&s&&s.detail===3||o==="drop"||o===void 0);let c,u,f,h;if(F(e)&&!l)return e.clone();if(t===null)return null;if(c=t.anchorNode,u=t.focusNode,f=t.anchorOffset,h=t.focusOffset,(a||o===void 0)&&F(e)&&!La(n,c,u))return e.clone();const d=IS(c,f,u,h,n,e);if(d===null)return null;const[p,m]=d;return new Hi(p,m,F(e)?e.format:0,F(e)?e.style:"")}function Y(){return ti()._selection}function Qs(){return Lt()._editorState._selection}function oc(e,t,n,r=1){const i=e.anchor,s=e.focus,o=i.getNode(),a=s.getNode();if(!t.is(o)&&!t.is(a))return;const l=t.__key;if(e.isCollapsed()){const c=i.offset;if(n<=c&&r>0||n<c&&r<0){const u=Math.max(0,c+r);i.set(l,u,"element"),s.set(l,u,"element"),iv(e)}}else{const c=e.isBackward(),u=c?s:i,f=u.getNode(),h=c?i:s,d=h.getNode();if(t.is(f)){const p=u.offset;(n<=p&&r>0||n<p&&r<0)&&u.set(l,Math.max(0,p+r),"element")}if(t.is(d)){const p=h.offset;(n<=p&&r>0||n<p&&r<0)&&h.set(l,Math.max(0,p+r),"element")}}iv(e)}function iv(e){const t=e.anchor,n=t.offset,r=e.focus,i=r.offset,s=t.getNode(),o=r.getNode();if(e.isCollapsed()){if(!P(s))return;const a=s.getChildrenSize(),l=n>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(n);if(J(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text"),r.set(c.__key,u,"text")}return}if(P(s)){const a=s.getChildrenSize(),l=n>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(n);if(J(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text")}}if(P(o)){const a=o.getChildrenSize(),l=i>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(i);if(J(c)){let u=0;l&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}function ac(e,t,n,r,i){let s=null,o=0,a=null;r!==null?(s=r.__key,J(r)?(o=r.getTextContentSize(),a="text"):P(r)&&(o=r.getChildrenSize(),a="element")):i!==null&&(s=i.__key,J(i)?a="text":P(i)&&(a="element")),s!==null&&a!==null?e.set(s,o,a):(o=t.getIndexWithinParent(),o===-1&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function sv(e,t,n,r,i){e.type==="text"?e.set(n,e.offset+(t?0:i),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function FS(e,t,n,r,i){try{e.setBaseAndExtent(t,n,r,i)}catch{}}function VV(e,t,n,r,i,s,o){const a=r.anchorNode,l=r.focusNode,c=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(i.has(PV)&&f!==s||f!==null&&Zd(f))return;if(!F(t))return void(e!==null&&La(n,a,l)&&r.removeAllRanges());const h=t.anchor,d=t.focus,p=h.key,m=d.key,g=Ii(n,p),y=Ii(n,m),v=h.offset,x=d.offset,w=t.format,S=t.style,C=t.isCollapsed();let M=g,T=y,k=!1;if(h.type==="text"){M=Rs(g);const bt=h.getNode();k=bt.getFormat()!==w||bt.getStyle()!==S}else F(e)&&e.anchor.type==="text"&&(k=!0);var R,X,at,nt,pt;if(d.type==="text"&&(T=Rs(y)),M!==null&&T!==null&&(C&&(e===null||k||F(e)&&(e.format!==w||e.style!==S))&&(R=w,X=S,at=v,nt=p,pt=performance.now(),SS=[R,X,at,nt,pt]),c!==v||u!==x||a!==M||l!==T||r.type==="Range"&&C||(f!==null&&s.contains(f)||i.has(rh)||s.focus({preventScroll:!0}),h.type==="element"))){if(FS(r,M,v,T,x),!i.has(AV)&&t.isCollapsed()&&s!==null&&s===document.activeElement){const bt=F(t)&&t.anchor.type==="element"?M.childNodes[v]||null:r.rangeCount>0?r.getRangeAt(0):null;if(bt!==null){let lt;if(bt instanceof Text){const H=document.createRange();H.selectNode(bt),lt=H.getBoundingClientRect()}else lt=bt.getBoundingClientRect();(function(H,tt,V){const it=rT(V),q=op(it);if(it===null||q===null)return;let{top:ft,bottom:Dt}=tt,te=0,oe=0,It=V;for(;It!==null;){const A=It===it.body;if(A)te=0,oe=mn(H).innerHeight;else{const B=It.getBoundingClientRect();te=B.top,oe=B.bottom}let j=0;if(ft<te?j=-(te-ft):Dt>oe&&(j=Dt-oe),j!==0)if(A)q.scrollBy(0,j);else{const B=It.scrollTop;It.scrollTop+=j;const Z=It.scrollTop-B;ft-=Z,Dt-=Z}if(A)break;It=Fa(It)}})(n,lt,s)}}Qf=!0}}function WV(e){let t=Y()||Qs();t===null&&(t=be().selectEnd()),t.insertNodes(e)}function Bu(e){let t=e;e.isCollapsed()||t.removeText();const n=Y();F(n)&&(t=n),F(t)||I(161);const r=t.anchor;let i=r.getNode(),s=r.offset;for(;!on(i);){const o=i;if([i,s]=jV(i,s),o.is(i))break}return s}function jV(e,t){const n=e.getParent();if(!n){const i=Ne();return be().append(i),i.select(),[be(),0]}if(J(e)){const i=e.splitText(t);if(i.length===0)return[n,e.getIndexWithinParent()];const s=t===0?0:1;return[n,i[0].getIndexWithinParent()+s]}if(!P(e)||t===0)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const i=new Hi(nr(e.__key,t,"element"),nr(e.__key,t,"element"),0,""),s=e.insertNewAfter(i);s&&s.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function ov(e,t,n,r,i="decorators-and-blocks"){if(t==="move"&&r==="character"&&!e.isCollapsed()){const[u,f]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return f.set(u.key,u.offset,u.type),!0}const s=wr(e.focus,n?"previous":"next"),o=r==="lineboundary",a=t==="move";let l=s,c=i==="decorators-and-blocks";if(!lT(l)){for(const u of l){c=!1;const{origin:f}=u;if(!Pt(f)||f.isIsolated()||(l=u,!o||!f.isInline()))break}if(c)for(const u of hp(s).iterNodeCarets(t==="extend"?"shadowRoot":"root")){if(qn(u))u.origin.isInline()||(l=u);else{if(P(u.origin))continue;Pt(u.origin)&&!u.origin.isInline()&&(l=u)}break}}if(l===s)return!1;if(a&&!o&&Pt(l.origin)&&l.origin.isKeyboardSelectable()){const u=LS();return u.add(l.origin.getKey()),We(u),!0}return l=ln(l),a&&$i(e.anchor,l),$i(e.focus,l),c||!o}let me=null,ge=null,Ue=!1,Vu=!1,ml=0;const av={characterData:!0,childList:!0,subtree:!0};function Ia(){return Ue||me!==null&&me._readOnly}function Pe(){Ue&&I(13)}function $S(){ml>99&&I(14)}function ti(){return me===null&&I(195,BS()),me}function Lt(){return ge===null&&I(196,BS()),ge}function BS(){let e=0;const t=new Set,n=Is.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const s=Wc(i);if(tp(s))e++;else if(s){let o=String(s.constructor.version||"<0.17.1");o===n&&(o+=" (separately built, likely a bundler configuration issue)"),t.add(o)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function zV(){return ge}function lv(e,t,n){const r=t.__type,i=HS(e,r);let s=n.get(r);s===void 0&&(s=Array.from(i.transforms),n.set(r,s));const o=s.length;for(let a=0;a<o&&(s[a](t),t.isAttached());a++);}function cv(e,t){return e!==void 0&&e.__key!==t&&e.isAttached()}function VS(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const i of r)n.add(i)}function KV(e){return Yd(e,Lt()._nodes)}function Yd(e,t){const n=e.type,r=t.get(n);r===void 0&&I(17,n);const i=r.klass;e.type!==i.getType()&&I(18,i.name);const s=i.importJSON(e),o=e.children;if(P(s)&&Array.isArray(o))for(let a=0;a<o.length;a++){const l=Yd(o[a],t);s.append(l)}return s}function uv(e,t,n){const r=me,i=Ue,s=ge;me=t,Ue=!0,ge=e;try{return n()}finally{me=r,Ue=i,ge=s}}function hr(e,t){const n=e._pendingEditorState,r=e._rootElement,i=e._headless||r===null;if(n===null)return;const s=e._editorState,o=s._selection,a=n._selection,l=e._dirtyType!==0,c=me,u=Ue,f=ge,h=e._updating,d=e._observer;let p=null;if(e._pendingEditorState=null,e._editorState=n,!i&&l&&d!==null){ge=e,me=n,Ue=!1,e._updating=!0;try{const C=e._dirtyType,M=e._dirtyElements,T=e._dirtyLeaves;d.disconnect(),p=fV(s,n,e,C,M,T)}catch(C){if(C instanceof Error&&e._onError(C),Vu)throw C;return GS(e,null,r,n),Qw(e),e._dirtyType=2,Vu=!0,hr(e,s),void(Vu=!1)}finally{d.observe(r,av),e._updating=h,me=c,Ue=u,ge=f}}n._readOnly||(n._readOnly=!0);const m=e._dirtyLeaves,g=e._dirtyElements,y=e._normalizedNodes,v=e._updateTags,x=e._deferred;l&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(C,M){const T=C._decorators;let k=C._pendingDecorators||T;const R=M._nodeMap;let X;for(X in k)R.has(X)||(k===T&&(k=XS(C)),delete k[X])}(e,n);const w=i?null:Mn(mn(e));if(e._editable&&w!==null&&(l||a===null||a.dirty||!a.is(o))&&r!==null&&!v.has(OV)){ge=e,me=n;try{if(d!==null&&d.disconnect(),l||a===null||a.dirty){const C=e._blockCursorElement;C!==null&&uh(C,e,r),VV(o,a,e,w,v,r)}(function(C,M,T){let k=C._blockCursorElement;if(F(T)&&T.isCollapsed()&&T.anchor.type==="element"&&M.contains(document.activeElement)){const R=T.anchor,X=R.getNode(),at=R.offset;let nt=!1,pt=null;if(at===X.getChildrenSize())ju(X.getChildAtIndex(at-1))&&(nt=!0);else{const bt=X.getChildAtIndex(at);if(bt!==null&&ju(bt)){const lt=bt.getPreviousSibling();(lt===null||ju(lt))&&(nt=!0,pt=C.getElementByKey(bt.__key))}}if(nt){const bt=C.getElementByKey(X.__key);return k===null&&(C._blockCursorElement=k=function(lt){const H=lt.theme,tt=document.createElement("div");tt.contentEditable="false",tt.setAttribute("data-lexical-cursor","true");let V=H.blockCursor;if(V!==void 0){if(typeof V=="string"){const it=Uw(V);V=H.blockCursor=it}V!==void 0&&tt.classList.add(...V)}return tt}(C._config)),M.style.caretColor="transparent",void(pt===null?bt.appendChild(k):bt.insertBefore(k,pt))}}k!==null&&uh(k,C,M)})(e,r,a)}finally{d!==null&&d.observe(r,av),ge=f,me=c}}p!==null&&function(C,M,T,k,R){const X=Array.from(C._listeners.mutation),at=X.length;for(let nt=0;nt<at;nt++){const[pt,bt]=X[nt];for(const lt of bt){const H=M.get(lt);H!==void 0&&pt(H,{dirtyLeaves:k,prevEditorState:R,updateTags:T})}}}(e,p,v,m,s),F(a)||a===null||o!==null&&o.is(a)||e.dispatchCommand(sS,void 0);const S=e._pendingDecorators;S!==null&&(e._decorators=S,e._pendingDecorators=null,Wo("decorator",e,!0,S)),function(C,M,T){const k=pv(M),R=pv(T);k!==R&&Wo("textcontent",C,!0,R)}(e,t||s,n),Wo("update",e,!0,{dirtyElements:g,dirtyLeaves:m,editorState:n,mutatedNodes:p,normalizedNodes:y,prevEditorState:t||s,tags:v}),function(C,M){if(C._deferred=[],M.length!==0){const T=C._updating;C._updating=!0;try{for(let k=0;k<M.length;k++)M[k]()}finally{C._updating=T}}}(e,x),function(C){const M=C._updates;if(M.length!==0){const T=M.shift();if(T){const[k,R]=T;Vc(C,k,R)}}}(e)}function Wo(e,t,n,...r){const i=t._updating;t._updating=n;try{const s=Array.from(t._listeners[e]);for(let o=0;o<s.length;o++)s[o].apply(null,r)}finally{t._updating=i}}function fv(e,t){const n=e._updates;let r=t||!1;for(;n.length!==0;){const i=n.shift();if(i){const[s,o]=i,a=e._pendingEditorState;let l;o!==void 0&&(l=o.onUpdate,o.skipTransforms&&(r=!0),o.discrete&&(a===null&&I(191),a._flushSync=!0),l&&e._deferred.push(l),VS(e,o.tag)),a==null?Vc(e,s,o):s()}}return r}function Vc(e,t,n){const r=e._updateTags;let i,s=!1,o=!1;n!==void 0&&(i=n.onUpdate,VS(e,n.tag),s=n.skipTransforms||!1,o=n.discrete||!1),i&&e._deferred.push(i);const a=e._editorState;let l=e._pendingEditorState,c=!1;(l===null||l._readOnly)&&(l=e._pendingEditorState=jS(l||a),c=!0),l._flushSync=o;const u=me,f=Ue,h=ge,d=e._updating;me=l,Ue=!1,e._updating=!0,ge=e;const p=e._headless||e.getRootElement()===null;Xd(null);try{c&&(p?a._selection!==null&&(l._selection=a._selection.clone()):l._selection=function(v,x){const w=v.getEditorState()._selection,S=Mn(mn(v));return F(w)||w==null?Ud(w,S,v,x):w.clone()}(e,n&&n.event||null));const g=e._compositionKey;t(),s=fv(e,s),function(v,x){const w=x.getEditorState()._selection,S=v._selection;if(F(S)){const C=S.anchor,M=S.focus;let T;if(C.type==="text"&&(T=C.getNode(),T.selectionTransform(w,S)),M.type==="text"){const k=M.getNode();T!==k&&k.selectionTransform(w,S)}}}(l,e),e._dirtyType!==0&&(s?function(v,x){const w=x._dirtyLeaves,S=v._nodeMap;for(const C of w){const M=S.get(C);J(M)&&M.isAttached()&&M.isSimpleText()&&!M.isUnmergeable()&&Wy(M)}}(l,e):function(v,x){const w=x._dirtyLeaves,S=x._dirtyElements,C=v._nodeMap,M=Vr(),T=new Map;let k=w,R=k.size,X=S,at=X.size;for(;R>0||at>0;){if(R>0){x._dirtyLeaves=new Set;for(const nt of k){const pt=C.get(nt);J(pt)&&pt.isAttached()&&pt.isSimpleText()&&!pt.isUnmergeable()&&Wy(pt),pt!==void 0&&cv(pt,M)&&lv(x,pt,T),w.add(nt)}if(k=x._dirtyLeaves,R=k.size,R>0){ml++;continue}}x._dirtyLeaves=new Set,x._dirtyElements=new Map,X.delete("root")&&X.set("root",!0);for(const nt of X){const pt=nt[0],bt=nt[1];if(S.set(pt,bt),!bt)continue;const lt=C.get(pt);lt!==void 0&&cv(lt,M)&&lv(x,lt,T)}k=x._dirtyLeaves,R=k.size,X=x._dirtyElements,at=X.size,ml++}x._dirtyLeaves=w,x._dirtyElements=S}(l,e),fv(e),function(v,x,w,S){const C=v._nodeMap,M=x._nodeMap,T=[];for(const[k]of S){const R=M.get(k);R!==void 0&&(R.isAttached()||(P(R)&&Jw(R,k,C,M,T,S),C.has(k)||S.delete(k),T.push(k)))}for(const k of T)M.delete(k);for(const k of w){const R=M.get(k);R===void 0||R.isAttached()||(C.has(k)||w.delete(k),M.delete(k))}}(a,l,e._dirtyLeaves,e._dirtyElements)),g!==e._compositionKey&&(l._flushSync=!0);const y=l._selection;if(F(y)){const v=l._nodeMap,x=y.anchor.key,w=y.focus.key;v.get(x)!==void 0&&v.get(w)!==void 0||I(19)}else Xe(y)&&y._nodes.size===0&&(l._selection=null)}catch(g){return g instanceof Error&&e._onError(g),e._pendingEditorState=a,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void hr(e)}finally{me=u,Ue=f,ge=h,e._updating=d,ml=0}e._dirtyType!==0||e._deferred.length>0||function(g,y){const v=y.getEditorState()._selection,x=g._selection;if(x!==null){if(x.dirty||!x.is(v))return!0}else if(v!==null)return!0;return!1}(l,e)?l._flushSync?(l._flushSync=!1,hr(e)):c&&XV(()=>{hr(e)}):(l._flushSync=!1,c&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Jn(e,t,n){ge===e&&n===void 0?t():Vc(e,t,n)}class jo{element;before;after;constructor(t,n,r){this.element=t,this.before=n||null,this.after=r||null}withBefore(t){return new jo(this.element,t,this.after)}withAfter(t){return new jo(this.element,this.before,t)}withElement(t){return this.element===t?this:new jo(t,this.before,this.after)}insertChild(t){const n=this.before||this.getManagedLineBreak();return n!==null&&n.parentElement!==this.element&&I(222),this.element.insertBefore(t,n),this}removeChild(t){return t.parentElement!==this.element&&I(223),this.element.removeChild(t),this}replaceChild(t,n){return n.parentElement!==this.element&&I(224),this.element.replaceChild(t,n),this}getFirstChild(){const t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(t){if(t===null)this.removeManagedLineBreak();else{const n=t==="decorator"&&(Na||Js||Oa);this.insertManagedLineBreak(n)}}removeManagedLineBreak(){const t=this.getManagedLineBreak();if(t){const n=this.element,r=t.nodeName==="IMG"?t.nextSibling:null;r&&n.removeChild(r),n.removeChild(t),n.__lexicalLineBreak=void 0}}insertManagedLineBreak(t){const n=this.getManagedLineBreak();if(n){if(t===(n.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,i=this.before,s=document.createElement("br");if(r.insertBefore(s,i),t){const o=document.createElement("img");o.setAttribute("data-lexical-linebreak","true"),o.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",o.alt="",r.insertBefore(o,s),r.__lexicalLineBreak=o}else r.__lexicalLineBreak=s}getFirstChildOffset(){let t=0;for(let n=this.after;n!==null;n=n.previousSibling)t++;return t}resolveChildIndex(t,n,r,i){if(r===this.element){const l=this.getFirstChildOffset();return[t,Math.min(l+t.getChildrenSize(),Math.max(l,i))]}const s=hv(n,r);s.push(i);const o=hv(n,this.element);let a=t.getIndexWithinParent();for(let l=0;l<o.length;l++){const c=s[l],u=o[l];if(c===void 0||c<u)break;if(c>u){a+=1;break}}return[t.getParentOrThrow(),a]}}function hv(e,t){const n=[];let r=t;for(;r!==e&&r!==null;r=r.parentNode){let i=0;for(let s=r.previousSibling;s!==null;s=s.previousSibling)i++;n.push(i)}return r!==e&&I(225),n.reverse()}class br extends Yn{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(t){super.afterCloneFrom(t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return ZB[t]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let n=this.getFirstChild();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getChildrenKeys(){const t=[];let n=this.getFirstChild();for(;n!==null;)t.push(n.__key),n=n.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=Lt()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(t)}getAllTextNodes(){const t=[];let n=this.getFirstChild();for(;n!==null;){if(J(n)&&t.push(n),P(n)){const r=n.getAllTextNodes();t.push(...r)}n=n.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;P(t);){const n=t.getFirstChild();if(n===null)break;t=n}return t}getLastDescendant(){let t=this.getLastChild();for(;P(t);){const n=t.getLastChild();if(n===null)break;t=n}return t}getDescendantByIndex(t){const n=this.getChildren(),r=n.length;if(t>=r){const s=n[r-1];return P(s)&&s.getLastDescendant()||s||null}const i=n[t];return P(i)&&i.getFirstDescendant()||i||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:ue(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&I(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:ue(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&I(96,this.__key),t}getChildAtIndex(t){const n=this.getChildrenSize();let r,i;if(t<n/2){for(r=this.getFirstChild(),i=0;r!==null&&i<=t;){if(i===t)return r;r=r.getNextSibling(),i++}return null}for(r=this.getLastChild(),i=n-1;r!==null&&i>=t;){if(i===t)return r;r=r.getPreviousSibling(),i--}return null}getTextContent(){let t="";const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const s=n[i];t+=s.getTextContent(),P(s)&&i!==r-1&&!s.isInline()&&(t+=Jr)}return t}getTextContentSize(){let t=0;const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const s=n[i];t+=s.getTextContentSize(),P(s)&&i!==r-1&&!s.isInline()&&(t+=2)}return t}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(t){if(t!==""){const n=Dy[t];return(this.getFormat()&n)!==0}return!1}hasTextFormat(t){const n=Ai[t];return(this.getTextFormat()&n)!==0}getFormatFlags(t,n){return lc(this.getLatest().__textFormat,t,n)}getTextStyle(){return this.getLatest().__textStyle}select(t,n){Pe();const r=Y();let i=t,s=n;const o=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&n===0){const l=this.getFirstChild();if(J(l)||P(l))return l.select(0,0)}else if(!(t!==void 0&&t!==o||n!==void 0&&n!==o)){const l=this.getLastChild();if(J(l)||P(l))return l.select()}}i===void 0&&(i=o),s===void 0&&(s=o);const a=this.__key;return F(r)?(r.anchor.set(a,i,"element"),r.focus.set(a,s,"element"),r.dirty=!0,r):RS(a,i,a,s,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(n=>n.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const n=this.getWritable();return n.__dir=t,n}setFormat(t){return this.getWritable().__format=t!==""?Dy[t]:0,this}setStyle(t){return this.getWritable().__style=t||"",this}setTextFormat(t){const n=this.getWritable();return n.__textFormat=t,n}setTextStyle(t){const n=this.getWritable();return n.__textStyle=t,n}setIndent(t){return this.getWritable().__indent=t,this}splice(t,n,r){sc(this)&&I(324,this.__key,this.__type);const i=this.getChildrenSize(),s=this.getWritable();t+n<=i||I(226,String(t),String(n),String(i));const o=s.__key,a=[],l=[],c=this.getChildAtIndex(t+n);let u=null,f=i-n+r.length;if(t!==0)if(t===i)u=this.getLastChild();else{const d=this.getChildAtIndex(t);d!==null&&(u=d.getPreviousSibling())}if(n>0){let d=u===null?this.getFirstChild():u.getNextSibling();for(let p=0;p<n;p++){d===null&&I(100);const m=d.getNextSibling(),g=d.__key;Si(d.getWritable()),l.push(g),d=m}}let h=u;for(const d of r){h!==null&&d.is(h)&&(u=h=h.getPreviousSibling());const p=d.getWritable();p.__parent===o&&f--,Si(p);const m=d.__key;if(h===null)s.__first=m,p.__prev=null;else{const g=h.getWritable();g.__next=m,p.__prev=g.__key}d.__key===o&&I(76),p.__parent=o,a.push(m),h=d}if(t+n===i)h!==null&&(h.getWritable().__next=null,s.__last=h.__key);else if(c!==null){const d=c.getWritable();if(h!==null){const p=h.getWritable();d.__prev=h.__key,p.__next=c.__key}else d.__prev=null}if(s.__size=f,l.length){const d=Y();if(F(d)){const p=new Set(l),m=new Set(a),{anchor:g,focus:y}=d;dv(g,p,m)&&ac(g,g.getNode(),this,u,c),dv(y,p,m)&&ac(y,y.getNode(),this,u,c),f!==0||this.canBeEmpty()||Ye(this)||this.remove()}}return s}getDOMSlot(t){return new jo(t)}exportDOM(t){const{element:n}=super.exportDOM(t);if(se(n)){const r=this.getIndent();r>0&&(n.style.paddingInlineStart=40*r+"px");const i=this.getDirection();i&&(n.dir=i)}return{element:n}}exportJSON(){const t={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),r=this.getTextStyle();return n===0&&r===""||Ye(this)||this.getChildren().some(J)||(n!==0&&(t.textFormat=n),r!==""&&(t.textStyle=r)),t}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"")}insertNewAfter(t,n){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,n,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(t,n){const r=this.getDOMSlot(t);let i=r.getFirstChild();for(let s=this.getFirstChild();s;s=s.getNextSibling()){const o=n.getElementByKey(s.getKey());o!==null&&(i==null?(r.insertChild(o),i=o):i!==o&&r.replaceChild(o,i),i=i.nextSibling)}}}function P(e){return e instanceof br}function dv(e,t,n){let r=e.getNode();for(;r;){const i=r.__key;if(t.has(i)&&!n.has(i))return!0;r=r.getParent()}return!1}class WS extends Yn{decorate(t,n){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Pt(e){return e instanceof WS}class Zs extends br{__cachedText;static getType(){return"root"}static clone(){return new Zs}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){I(51)}getTextContent(){const t=this.__cachedText;return!Ia()&&Lt()._dirtyType!==0||t===null?super.getTextContent():t}remove(){I(52)}replace(t){I(53)}insertBefore(t){I(54)}insertAfter(t){I(55)}updateDOM(t,n){return!1}splice(t,n,r){for(const i of r)P(i)||Pt(i)||I(282);return super.splice(t,n,r)}static importJSON(t){return be().updateFromJSON(t)}collapseAtStart(){return!0}}function fe(e){return e instanceof Zs}function jS(e){return new Ra(new Map(e._nodeMap))}function Jd(){return new Ra(new Map([["root",new Zs]]))}function zS(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&I(130,n.name),P(e)){const r=t.children;Array.isArray(r)||I(59,n.name);const i=e.getChildren();for(let s=0;s<i.length;s++){const o=zS(i[s]);r.push(o)}}return t}function GV(e){return e instanceof Ra}class Ra{_nodeMap;_selection;_flushSync;_readOnly;constructor(t,n){this._nodeMap=t,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t,n){return uv(n&&n.editor||null,this,t)}clone(t){const n=new Ra(this._nodeMap,t===void 0?this._selection:t);return n._readOnly=!0,n}toJSON(){return uv(null,this,()=>({root:zS(be())}))}}class qd extends br{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class to extends br{static getType(){return"paragraph"}static clone(t){return new to(t.__key)}createDOM(t){const n=document.createElement("p"),r=Ts(t.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(t,n,r){return!1}static importDOM(){return{p:t=>({conversion:HV,priority:0})}}exportDOM(t){const{element:n}=super.exportDOM(t);if(se(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();r&&(n.style.textAlign=r)}return{element:n}}static importJSON(t){return Ne().updateFromJSON(t)}exportJSON(){const t=super.exportJSON();if(t.textFormat===void 0||t.textStyle===void 0){const n=this.getChildren().find(J);n?(t.textFormat=n.getFormat(),t.textStyle=n.getStyle()):(t.textFormat=this.getTextFormat(),t.textStyle=this.getTextStyle())}return t}insertNewAfter(t,n){const r=Ne();r.setTextFormat(t.format),r.setTextStyle(t.style);const i=this.getDirection();return r.setDirection(i),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,n),r}collapseAtStart(){const t=this.getChildren();if(t.length===0||J(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function HV(e){const t=Ne();return e.style&&(t.setFormat(e.style.textAlign),aW(e,t)),{node:t}}function Ne(){return eo(new to)}function KS(e){return e instanceof to}const xt=0,yn=1,UV=4;function GS(e,t,n,r){const i=e._keyToDOMMap;i.clear(),e._editorState=Jd(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const s=e._observer;s!==null&&(s.disconnect(),e._observer=null),t!==null&&(t.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function YV(e){const t=new Set,n=new Set;let r=e;for(;r;){const{ownNodeConfig:i}=Kc(r),s=r.transform;if(!n.has(s)){n.add(s);const o=r.transform();o&&t.add(o)}if(i){const o=i.$transform;o&&t.add(o),r=i.extends}else{const o=Object.getPrototypeOf(r);r=o.prototype instanceof Yn&&o!==Yn?o:void 0}}return t}function JV(e){const t=e||{},n=zV(),r=t.theme||{},i=e===void 0?n:t.parentEditor||null,s=t.disableEvents||!1,o=Jd(),a=t.namespace||(i!==null?i._config.namespace:tT()),l=t.editorState,c=[Zs,Zr,qs,Xs,to,qd,...t.nodes||[]],{onError:u,html:f}=t,h=t.editable===void 0||t.editable;let d;if(e===void 0&&n!==null)d=n._nodes;else{d=new Map;for(let m=0;m<c.length;m++){let g=c[m],y=null,v=null;if(typeof g!="function"){const S=g;g=S.replace,y=S.with,v=S.withKlass||null}Kc(g);const x=g.getType(),w=YV(g);d.set(x,{exportDOM:f&&f.export?f.export.get(g):void 0,klass:g,replace:y,replaceWithKlass:v,sharedNodeState:oV(c[m]),transforms:w})}}const p=new Is(o,i,d,{disableEvents:s,namespace:a,theme:r},u||console.error,function(m,g){const y=new Map,v=new Set,x=w=>{Object.keys(w).forEach(S=>{let C=y.get(S);C===void 0&&(C=[],y.set(S,C)),C.push(w[S])})};return m.forEach(w=>{const S=w.klass.importDOM;if(S==null||v.has(S))return;v.add(S);const C=S.call(w.klass);C!==null&&x(C)}),g&&x(g),y}(d,f?f.import:void 0),h,e);return l!==void 0&&(p._pendingEditorState=l,p._dirtyType=2),function(m){m.registerCommand(aS,wV,xt),m.registerCommand(lS,SV,xt),m.registerCommand(cS,TV,xt),m.registerCommand(uS,kV,xt),m.registerCommand(dS,CV,xt)}(p),p}class Is{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(t,n,r,i,s,o,a,l){this._createEditorArgs=l,this._parentEditor=n,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=tT(),this._onError=s,this._htmlConversions=o,this._editable=a,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const n=this._listeners.update;return n.add(t),()=>{n.delete(t)}}registerEditableListener(t){const n=this._listeners.editable;return n.add(t),()=>{n.delete(t)}}registerDecoratorListener(t){const n=this._listeners.decorator;return n.add(t),()=>{n.delete(t)}}registerTextContentListener(t){const n=this._listeners.textcontent;return n.add(t),()=>{n.delete(t)}}registerRootListener(t){const n=this._listeners.root;return t(this._rootElement,null),n.add(t),()=>{t(null,this._rootElement),n.delete(t)}}registerCommand(t,n,r){r===void 0&&I(35);const i=this._commands;i.has(t)||i.set(t,[new Set,new Set,new Set,new Set,new Set]);const s=i.get(t);s===void 0&&I(36,String(t));const o=s[r];return o.add(n),()=>{o.delete(n),s.every(a=>a.size===0)&&i.delete(t)}}registerMutationListener(t,n,r){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,s=this._listeners.mutation;let o=s.get(n);o===void 0&&(o=new Set,s.set(n,o)),o.add(i);const a=r&&r.skipInitialization;return a!==void 0&&a||this.initializeMutationListener(n,i),()=>{o.delete(i),o.size===0&&s.delete(n)}}getRegisteredNode(t){const n=this._nodes.get(t.getType());return n===void 0&&I(37,t.name),n}resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t}initializeMutationListener(t,n){const r=this._editorState,i=_v(r).get(n.getType());if(!i)return;const s=new Map;for(const o of i.keys())s.set(o,"created");s.size>0&&t(s,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(t,n){const r=this.getRegisteredNode(t);return r.transforms.add(n),r}registerNodeTransform(t,n){const r=this.registerNodeTransformToKlass(t,n),i=[r],s=r.replaceWithKlass;if(s!=null){const o=this.registerNodeTransformToKlass(s,n);i.push(o)}return function(o,a){const l=_v(o.getEditorState()),c=[];for(const u of a){const f=l.get(u);f&&c.push(f)}c.length!==0&&o.update(()=>{for(const u of c)for(const f of u.keys()){const h=ue(f);h&&h.markDirty()}},o._pendingEditorState===null?{tag:pl}:void 0)}(this,i.map(o=>o.klass.getType())),()=>{i.forEach(o=>o.transforms.delete(n))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,n){return U(this,t,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const n=this._rootElement;if(t!==n){const r=Ts(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=t,GS(this,n,t,i),n!==null&&(this._config.disableEvents||EV(n),r!=null&&n.classList.remove(...r)),t!==null){const s=op(t),o=t.style;o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=2,Qw(this),this._updateTags.add(pl),hr(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument;Xf.set(a,c);const u=rc.get(c)??0;u<1&&c.addEventListener("selectionchange",MS),rc.set(c,u+1),a.__lexicalEditor=l;const f=ES(a);for(let h=0;h<qf.length;h++){const[d,p]=qf[h],m=typeof p=="function"?g=>{Yy(g)||(Uy(g),(l.isEditable()||d==="click")&&p(g,l))}:g=>{if(Yy(g))return;Uy(g);const y=l.isEditable();switch(d){case"cut":return y&&U(l,Kd,g);case"copy":return U(l,$c,g);case"paste":return y&&U(l,$d,g);case"dragstart":return y&&U(l,xS,g);case"dragover":return y&&U(l,bS,g);case"dragend":return y&&U(l,vV,g);case"focus":return y&&U(l,xV,g);case"blur":return y&&U(l,bV,g);case"drop":return y&&U(l,vS,g)}};a.addEventListener(d,m),f.push(()=>{a.removeEventListener(d,m)})}}(t,this),r!=null&&t.classList.add(...r)}else this._window=null,this._updateTags.add(pl),hr(this);Wo("root",this,!1,t,n)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,n){t.isEmpty()&&I(38);let r=t;r._readOnly&&(r=jS(t),r._selection=t._selection?t._selection.clone():null),Xw(this);const i=this._pendingEditorState,s=this._updateTags,o=n!==void 0?n.tag:null;i===null||i.isEmpty()||(o!=null&&s.add(o),hr(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,o!=null&&s.add(o),this._updating||hr(this)}parseEditorState(t,n){return function(r,i,s){const o=Jd(),a=me,l=Ue,c=ge,u=i._dirtyElements,f=i._dirtyLeaves,h=i._cloneNotNeeded,d=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,me=o,Ue=!1,ge=i,Xd(null);try{const p=i._nodes;Yd(r.root,p),s&&s(),o._readOnly=!0}catch(p){p instanceof Error&&i._onError(p)}finally{i._dirtyElements=u,i._dirtyLeaves=f,i._cloneNotNeeded=h,i._dirtyType=d,me=a,Ue=l,ge=c}return o}(typeof t=="string"?JSON.parse(t):t,this,n)}read(t){return hr(this),this.getEditorState().read(t,{editor:this})}update(t,n){(function(r,i,s){r._updating?r._updates.push([i,s]):Vc(r,i,s)})(this,t,n)}focus(t,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Jn(this,()=>{const i=Y(),s=be();i!==null?i.dirty||We(i.clone()):s.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?s.selectStart():s.selectEnd()),lh("focus"),eW(()=>{r.removeAttribute("autocapitalize"),t&&t()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const n=Mn(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,Wo("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}Is.version="0.39.0+prod.esm";let oh=null;function Xd(e){oh=e}let qV=1;function HS(e,t){const n=Qd(e,t);return n===void 0&&I(30,t),n}function Qd(e,t){return e._nodes.get(t)}const XV=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)};function US(e){return Pt(_r(e))}function Zd(e){const t=document.activeElement;if(!se(t))return!1;const n=t.nodeName;return Pt(_r(e))&&(n==="INPUT"||n==="TEXTAREA"||t.contentEditable==="true"&&Wc(t)==null)}function La(e,t,n){const r=e.getRootElement();try{return r!==null&&r.contains(t)&&r.contains(n)&&t!==null&&!Zd(t)&&ep(t)===e}catch{return!1}}function tp(e){return e instanceof Is}function ep(e){let t=e;for(;t!=null;){const n=Wc(t);if(tp(n))return n;t=Fa(t)}return null}function Wc(e){return e?e.__lexicalEditor:null}function wi(e){return NS(e)||e.isToken()}function cr(e){return wi(e)||e.isSegmented()}function Er(e){return no(e)&&e.nodeType===3}function YS(e){return no(e)&&e.nodeType===9}function Rs(e){let t=e;for(;t!=null;){if(Er(t))return t;t=t.firstChild}return null}function lc(e,t,n){const r=Ai[t];if(n!==null&&(e&r)===(n&r))return e;let i=e^r;return t==="subscript"?i&=-65:t==="superscript"?i&=-33:t==="lowercase"?(i&=-513,i&=-1025):t==="uppercase"?(i&=-257,i&=-1025):t==="capitalize"&&(i&=-257,i&=-513),i}function JS(e){return J(e)||Ss(e)||Pt(e)}function QV(e,t){const n=function(){const o=oh;return oh=null,o}();if((t=t||n&&n.__key)!=null)return void(e.__key=t);Pe(),$S();const r=Lt(),i=ti(),s=""+qV++;i._nodeMap.set(s,e),P(e)?r._dirtyElements.set(s,!0):r._dirtyLeaves.add(s),r._cloneNotNeeded.add(s),r._dirtyType=1,e.__key=s}function Si(e){const t=e.getParent();if(t!==null){const n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),s=e.getNextSibling(),o=s!==null?s.__key:null,a=i!==null?i.__key:null,l=i!==null?i.getWritable():null,c=s!==null?s.getWritable():null;i===null&&(r.__first=o),s===null&&(r.__last=a),l!==null&&(l.__next=o),c!==null&&(c.__prev=a),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function cc(e){$S(),sc(e)&&I(323,e.__key,e.__type);const t=e.getLatest(),n=t.__parent,r=ti(),i=Lt(),s=r._nodeMap,o=i._dirtyElements;n!==null&&function(l,c,u){let f=l;for(;f!==null;){if(u.has(f))return;const h=c.get(f);if(h===void 0)break;u.set(f,!1),f=h.__parent}}(n,s,o);const a=t.__key;i._dirtyType=1,P(e)?o.set(a,!0):i._dirtyLeaves.add(a)}function ke(e){Pe();const t=Lt(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,n!==null){const r=ue(n);r!==null&&r.getWritable()}if(e!==null){const r=ue(e);r!==null&&r.getWritable()}}}function Vr(){return Ia()?null:Lt()._compositionKey}function ue(e,t){const n=(t||ti())._nodeMap.get(e);return n===void 0?null:n}function qS(e,t){const n=jc(e,Lt());return n!==void 0?ue(n,t):null}function jc(e,t){return e[`__lexicalKey_${t._key}`]}function _r(e,t){let n=e;for(;n!=null;){const r=qS(n,t);if(r!==null)return r;n=Fa(n)}return null}function XS(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function pv(e){return e.read(()=>be().getTextContent())}function be(){return QS(ti())}function QS(e){return e._nodeMap.get("root")}function We(e){Pe();const t=ti();e!==null&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function fs(e){const t=Lt(),n=function(r,i){let s=r;for(;s!=null;){const o=jc(s,i);if(o!==void 0)return o;s=Fa(s)}return null}(e,t);return n===null?e===t.getRootElement()?ue("root"):null:ue(n)}function ZS(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function np(e){const t=[];let n=e;for(;n!==null;)t.push(n),n=n._parentEditor;return t}function tT(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function eT(e){return Er(e)?e.nodeValue:null}function rp(e,t,n){const r=Mn(mn(t));if(r===null)return;const i=r.anchorNode;let{anchorOffset:s,focusOffset:o}=r;if(i!==null){let a=eT(i);const l=_r(i);if(a!==null&&J(l)){if(a===Lc&&n){const c=n.length;a=n,s=c,o=c}a!==null&&ip(l,a,s,o,e)}}}function ip(e,t,n,r,i){let s=e;if(s.isAttached()&&(i||!s.isDirty())){const o=s.isComposing();let a=t;(o||i)&&t[t.length-1]===Lc&&(a=t.slice(0,-1));const l=s.getTextContent();if(i||a!==l){if(a===""){if(ke(null),Oa||Js||Na)s.remove();else{const m=Lt();setTimeout(()=>{m.update(()=>{s.isAttached()&&s.remove()})},20)}return}const c=s.getParent(),u=Qs(),f=s.getTextContentSize(),h=Vr(),d=s.getKey();if(s.isToken()||h!==null&&d===h&&!o||F(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===e.__key&&u.anchor.offset===0&&!s.canInsertTextBefore()&&!o||u.focus.key===e.__key&&u.focus.offset===f&&!s.canInsertTextAfter()&&!o))return void s.markDirty();const p=Y();if(!F(p)||n===null||r===null)return void mv(s,a,p);if(p.setTextNodeRange(s,n,s,r),s.isSegmented()){const m=he(s.getTextContent());s.replace(m),s=m}mv(s,a,p)}}}function mv(e,t,n){if(e.setTextContent(t),F(n)){const r=e.getKey();for(const i of["anchor","focus"]){const s=n[i];s.type==="text"&&s.key===r&&(s.offset=Gr(e,s.offset,"clamp"))}}}function Za(e,t,n){const r=t[n]||!1;return r==="any"||r===e[n]}function ZV(e,t){return Za(e,t,"altKey")&&Za(e,t,"ctrlKey")&&Za(e,t,"shiftKey")&&Za(e,t,"metaKey")}function Ot(e,t,n){return ZV(e,n)&&e.key.toLowerCase()===t.toLowerCase()}const ar={ctrlKey:!gn,metaKey:gn},gv={altKey:gn,ctrlKey:!gn};function yv(e){return e.key==="Backspace"}function vv(e){return Ot(e,"a",ar)}function tW(e){const t=be();if(F(e)){const n=e.anchor,r=e.focus,i=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();return n.set(i.getKey(),0,"element"),r.set(i.getKey(),i.getChildrenSize(),"element"),Xl(e),e}{const n=t.select(0,t.getChildrenSize());return We(Xl(n)),n}}function Ts(e,t){e.__lexicalClassNameCache===void 0&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(r!==void 0)return r;const i=e[t];if(typeof i=="string"){const s=Uw(i);return n[t]=s,s}return i}function sp(e,t,n,r,i){if(n.size===0)return;const s=r.__type,o=r.__key,a=t.get(s);a===void 0&&I(33,s);const l=a.klass;let c=e.get(l);c===void 0&&(c=new Map,e.set(l,c));const u=c.get(o),f=u==="destroyed"&&i==="created";(u===void 0||f)&&c.set(o,f?"updated":i)}function xv(e,t,n){const r=e.getParent();let i=n,s=e;return r!==null&&(t&&n===0?(i=s.getIndexWithinParent(),s=r):t||n!==s.getChildrenSize()||(i=s.getIndexWithinParent()+1,s=r)),s.getChildAtIndex(t?i-1:i)}function ah(e,t){const n=e.offset;if(e.type==="element")return xv(e.getNode(),t,n);{const r=e.getNode();if(t&&n===0||!t&&n===r.getTextContentSize()){const i=t?r.getPreviousSibling():r.getNextSibling();return i===null?xv(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):i}}return null}function nT(e){const t=mn(e).event,n=t&&t.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function U(e,t,n){return function(r,i,s){const o=np(r);for(let a=4;a>=0;a--)for(let l=0;l<o.length;l++){const c=o[l],u=c._commands.get(i);if(u!==void 0){const f=u[a];if(f!==void 0){const h=Array.from(f),d=h.length;let p=!1;if(Jn(c,()=>{for(let m=0;m<d;m++)if(h[m](s,r))return void(p=!0)}),p)return p}}}return!1}(e,t,n)}function zc(e){return!fe(e)&&!e.isLastChild()&&!e.isInline()}function Ii(e,t){const n=e._keyToDOMMap.get(t);return n===void 0&&I(75,t),n}function Fa(e){const t=e.assignedSlot||e.parentElement;return fh(t)?t.host:t}function rT(e){return YS(e)?e:se(e)?e.ownerDocument:null}function lh(e){Pe(),Lt()._updateTags.add(e)}function eW(e){Pe(),Lt()._deferred.push(e)}function ch(e,t){let n=e.getParent();for(;n!==null;){if(n.is(t))return!0;n=n.getParent()}return!1}function op(e){const t=rT(e);return t?t.defaultView:null}function mn(e){const t=e._window;return t===null&&I(78),t}function nW(e){let t=e.getParentOrThrow();for(;t!==null;){if(Ye(t))return t;t=t.getParentOrThrow()}return t}function Ye(e){return fe(e)||P(e)&&e.isShadowRoot()}function eo(e){const t=Lt(),n=e.getType(),r=Qd(t,n);r===void 0&&I(200,e.constructor.name,n);const{replace:i,replaceWithKlass:s}=r;if(i!==null){const o=i(e),a=o.constructor;return s!==null?o instanceof s||I(201,s.name,s.getType(),a.name,a.getType(),e.constructor.name,n):o instanceof e.constructor&&a!==e.constructor||I(202,a.name,a.getType(),e.constructor.name,n),o.__key===e.__key&&I(203,e.constructor.name,n,a.name,a.getType()),o}return e}function Wu(e,t){!fe(e.getParent())||P(t)||Pt(t)||I(99)}function rW(e){const t=ue(e);return t===null&&I(63,e),t}function ju(e){return(Pt(e)||P(e)&&!e.canBeEmpty())&&!e.isInline()}function uh(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;r!==null&&r.removeChild(e)}function Mn(e){return En?(e||window).getSelection():null}function iW(e){const t=op(e);return t?t.getSelection():null}function se(e){return no(e)&&e.nodeType===1}function no(e){return typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeType=="number"}function fh(e){return no(e)&&e.nodeType===11}function hh(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return e.nodeName.match(t)!==null}function uc(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return e.nodeName.match(t)!==null}function on(e){if(Pt(e)&&!e.isInline())return!0;if(!P(e)||Ye(e))return!1;const t=e.getFirstChild(),n=t===null||Ss(t)||J(t)||t.isInline();return!e.isInline()&&e.canBeEmpty()!==!1&&n}function ap(){return Lt()}const bv=new WeakMap,sW=new Map;function _v(e){if(!e._readOnly&&e.isEmpty())return sW;e._readOnly||I(192);let t=bv.get(e);return t||(t=function(n){const r=new Map;for(const[i,s]of n._nodeMap){const o=s.__type;let a=r.get(o);a||(a=new Map,r.set(o,a)),a.set(i,s)}return r}(e),bv.set(e,t)),t}function iT(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function oW(e){return(t=iT(e))[PS]=!0,t;var t}function aW(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function lW(e){return e.__lexicalUnmanaged===!0}function po(e,t){return function(n,r){return Object.prototype.hasOwnProperty.call(n,r)}(e,t)&&e[t]!==Yn[t]}function Kc(e){const t=Iy in e.prototype?e.prototype[Iy]():void 0,n=function(o){if(!(o===Yn||o.prototype instanceof Yn)){let a="<unknown>",l="<unknown>";try{a=o.getType()}catch{}try{Is.version&&(l=JSON.parse(Is.version))}catch{}I(290,o.name,a,l)}return o===WS||o===br||o===Yn}(e),r=!n&&po(e,"getType")?e.getType():void 0;let i,s=r;if(t)if(r)i=t[r];else for(const[o,a]of Object.entries(t))s=o,i=a;if(!n&&s&&(po(e,"getType")||(e.getType=()=>s),po(e,"clone")||(e.clone=o=>(Xd(o),new e)),po(e,"importJSON")||(e.importJSON=i&&i.$importJSON||(o=>new e().updateFromJSON(o))),!po(e,"importDOM")&&i)){const{importDOM:o}=i;o&&(e.importDOM=()=>o)}return{ownNodeConfig:i,ownNodeType:s}}const hn=(e,t)=>{let n=e;for(;n!=null&&!fe(n);){if(t(n))return n;n=n.getParent()}return null},cW={next:"previous",previous:"next"};class lp{origin;constructor(t){this.origin=t}[Symbol.iterator](){return sT({hasNext:Ls,initial:this.getAdjacentCaret(),map:t=>t,step:t=>t.getAdjacentCaret()})}getAdjacentCaret(){return De(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return De(this.origin,this.direction)}remove(){const t=this.getNodeAtCaret();return t&&t.remove(),this}replaceOrInsert(t,n){const r=this.getNodeAtCaret();return t.is(this.origin)||t.is(r)||(r===null?this.insert(t):r.replace(t,n)),this}splice(t,n,r="next"){const i=r===this.direction?n:Array.from(n).reverse();let s=this;const o=this.getParentAtCaret(),a=new Map;for(let l=s.getAdjacentCaret();l!==null&&a.size<t;l=l.getAdjacentCaret()){const c=l.origin.getWritable();a.set(c.getKey(),c)}for(const l of i){if(a.size>0){const c=s.getNodeAtCaret();if(c){if(a.delete(c.getKey()),a.delete(l.getKey()),!(c.is(l)||s.origin.is(l))){const u=l.getParent();u&&u.is(o)&&l.remove(),c.replace(l)}}else c===null&&I(263,Array.from(a).join(" "))}else s.insert(l);s=De(l,this.direction)}for(const l of a.values())l.remove();return this}}class ya extends lp{type="child";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Tn(t,this.direction)}getParentCaret(t="root"){return De(cp(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=ro(this.direction);return De(this.getNodeAtCaret(),t)||Tn(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof ya&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const uW={root:fe,shadowRoot:Ye};function ro(e){return cW[e]}function cp(e,t="root"){return uW[t](e)?null:e}class Ri extends lp{type="sibling";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:De(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return P(this.origin)?Tn(this.origin,this.direction):null}getParentCaret(t="root"){return De(cp(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=ro(this.direction);return De(this.getNodeAtCaret(),t)||Tn(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof Ri&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof Ri||t instanceof Li)&&this.direction===t.direction&&this.origin.is(t.origin)}}class Li extends lp{type="text";offset;constructor(t,n){super(t),this.offset=n}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Fi(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return De(cp(this.getParentAtCaret(),t),this.direction)}getFlipped(){return Fi(this.origin,ro(this.direction),this.offset)}isSamePointCaret(t){return t instanceof Li&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof Ri||t instanceof Li)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return De(this.origin,this.direction)}}function Kr(e){return e instanceof Li}function Ls(e){return e instanceof Ri}function qn(e){return e instanceof ya}const fW={next:class extends Li{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Li{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},hW={next:class extends Ri{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Ri{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},dW={next:class extends ya{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends ya{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function De(e,t){return e?new hW[t](e):null}function Fi(e,t,n){return e?new fW[t](e,Gr(e,n)):null}function Gr(e,t,n="error"){const r=e.getTextContentSize();let i=t==="next"?r:t==="previous"?0:t;return(i<0||i>r)&&(n!=="clamp"&&Gw(284,String(t),String(r),e.getKey()),i=i<0?0:r),i}function wv(e,t){return new mW(e,t)}function Tn(e,t){return P(e)?new dW[t](e):null}function pW(e){return e&&e.getChildCaret()||e}function up(e){return e&&pW(e.getAdjacentCaret())}class fp{type="node-caret-range";direction;anchor;focus;constructor(t,n,r){this.anchor=t,this.focus=n,this.direction=r}getLatest(){const t=this.anchor.getLatest(),n=this.focus.getLatest();return t===this.anchor&&n===this.focus?this:new fp(t,n,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const t=i=>{const s=this[i].getLatest();return Kr(s)?function(o,a){const{direction:l,origin:c}=o,u=Gr(c,a==="focus"?ro(l):l);return wv(o,u-o.offset)}(s,i):null},n=t("anchor"),r=t("focus");if(n&&r){const{caret:i}=n,{caret:s}=r;if(i.isSameNodeCaret(s))return[wv(i,s.offset-i.offset),null]}return[n,r]}iterNodeCarets(t="root"){const n=Kr(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),i=Kr(r),s=o=>o.isSameNodeCaret(r)?null:up(o)||o.getParentCaret(t);return sT({hasNext:o=>o!==null&&!(i&&r.isSameNodeCaret(o)),initial:n.isSameNodeCaret(r)?null:s(n),map:o=>o,step:s})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class mW{type="slice";caret;distance;constructor(t,n){this.caret=t,this.distance=n}getSliceIndices(){const{distance:t,caret:{offset:n}}=this,r=n+t;return r<n?[r,n]:[n,r]}getTextContent(){const[t,n]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(t,n)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:t,direction:n}}=this,[r,i]=this.getSliceIndices(),s=t.getTextContent();return Fi(t.setTextContent(s.slice(0,r)+s.slice(i)),n,r)}}function hp(e){return qr(e,De(be(),e.direction))}function gW(e){return qr(e,e)}function qr(e,t){return e.direction!==t.direction&&I(265),new fp(e,t,e.direction)}function sT(e){const{initial:t,hasNext:n,step:r,map:i}=e;let s=t;return{[Symbol.iterator](){return this},next(){if(!n(s))return{done:!0,value:void 0};const o={done:!1,value:i(s)};return s=r(s),o}}}function oT(e,t){const n=gl(e.origin,t.origin);switch(n===null&&I(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const r=e.type==="text",i=t.type==="text";return r&&i?function(s,o){return Math.sign(s-o)}(e.offset,t.offset):e.type===t.type?0:r?-1:i?1:e.type==="child"?-1:1}case"ancestor":return e.type==="child"?-1:1;case"descendant":return t.type==="child"?1:-1;case"branch":return aT(n)}}function aT(e){const{a:t,b:n}=e,r=t.__key,i=n.__key;let s=t,o=n;for(;s&&o;s=s.getNextSibling(),o=o.getNextSibling()){if(s.__key===i)return-1;if(o.__key===r)return 1}return s===null?1:-1}function tl(e,t){return t.is(e)}function Sv(e){return P(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function gl(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[r,i]=Sv(e);r;i=r,r=r.getParent())n.set(r,i);for(let[r,i]=Sv(t);r;i=r,r=r.getParent()){const s=n.get(r);if(s!==void 0)return s===null?(tl(e,r)||I(276),{commonAncestor:r,type:"ancestor"}):i===null?(tl(t,r)||I(277),{commonAncestor:r,type:"descendant"}):((P(s)||tl(e,s))&&(P(i)||tl(t,i))&&r.is(s.getParent())&&r.is(i.getParent())||I(278),{a:s,b:i,commonAncestor:r,type:"branch"})}return null}function wr(e,t){const{type:n,key:r,offset:i}=e,s=rW(e.key);return n==="text"?(J(s)||I(266,s.getType(),r),Fi(s,t,i)):(P(s)||I(267,s.getType(),r),xW(s,e.offset,t))}function $i(e,t){const{origin:n,direction:r}=t,i=r==="next";Kr(t)?e.set(n.getKey(),t.offset,"text"):Ls(t)?J(n)?e.set(n.getKey(),Gr(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(qn(t)&&P(n)||I(268),e.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function yW(e){const t=Y(),n=F(t)?t:Hd();return yl(n,e),We(n),n}function yl(e,t){$i(e.anchor,t.anchor),$i(e.focus,t.focus)}function Tv(e){const{anchor:t,focus:n}=e,r=wr(t,"next"),i=wr(n,"next"),s=oT(r,i)<=0?"next":"previous";return qr(Fs(r,s),Fs(i,s))}function dp(e){const{direction:t,origin:n}=e,r=De(n,ro(t)).getNodeAtCaret();return r?De(r,t):Tn(n.getParentOrThrow(),t)}function kv(e,t="root"){const n=[e];for(let r=qn(e)?e.getParentCaret(t):e.getSiblingCaret();r!==null;r=r.getParentCaret(t))n.push(dp(r));return n}function zu(e){return!!e&&e.origin.isAttached()}function vW(e,t="removeEmptySlices"){if(e.isCollapsed())return e;const n="root",r="next";let i=t;const s=cT(e,r),o=kv(s.anchor,n),a=kv(s.focus.getFlipped(),n),l=new Set,c=[];for(const p of s.iterNodeCarets(n))if(qn(p))l.add(p.origin.getKey());else if(Ls(p)){const{origin:m}=p;P(m)&&!l.has(m.getKey())||c.push(m)}for(const p of c)p.remove();for(const p of s.getTextSlices()){if(!p)continue;const{origin:m}=p.caret,g=m.getTextContentSize(),y=dp(De(m,r)),v=m.getMode();if(Math.abs(p.distance)===g&&i==="removeEmptySlices"||v==="token"&&p.distance!==0)y.remove();else if(p.distance!==0){i="removeEmptySlices";let x=p.removeTextSlice();const w=p.caret.origin;if(v==="segmented"){const S=x.origin,C=he(S.getTextContent()).setStyle(S.getStyle()).setFormat(S.getFormat());y.replaceOrInsert(C),x=Fi(C,r,x.offset)}w.is(o[0].origin)&&(o[0]=x),w.is(a[0].origin)&&(a[0]=x.getFlipped())}}let u,f;for(const p of o)if(zu(p)){u=ln(p);break}for(const p of a)if(zu(p)){f=ln(p);break}const h=function(p,m,g){if(!p||!m)return null;const y=p.getParentAtCaret(),v=m.getParentAtCaret();if(!y||!v)return null;const x=y.getParents().reverse();x.push(y);const w=v.getParents().reverse();w.push(v);const S=Math.min(x.length,w.length);let C;for(C=0;C<S&&x[C]===w[C];C++);const M=(R,X)=>{let at;for(let nt=C;nt<R.length;nt++){const pt=R[nt];if(Ye(pt))return;!at&&X(pt)&&(at=pt)}return at},T=M(x,on),k=T&&M(w,R=>g.has(R.getKey())&&on(R));return T&&k?[T,k]:null}(u,f,l);if(h){const[p,m]=h;Tn(p,"previous").splice(0,m.getChildren()),m.remove()}const d=[u,f,...o,...a].find(zu);if(d)return gW(Fs(ln(d),e.direction));I(269,JSON.stringify(o.map(p=>p.origin.__key)))}function ln(e){const t=function(i){let s=i;for(;qn(s);){const o=up(s);if(!qn(o))break;s=o}return s}(e.getLatest()),{direction:n}=t;if(J(t.origin))return Kr(t)?t:Fi(t.origin,n,n);const r=t.getAdjacentCaret();return Ls(r)&&J(r.origin)?Fi(r.origin,n,ro(n)):t}function lT(e){return Kr(e)&&e.offset!==Gr(e.origin,e.direction)}function Fs(e,t){return e.direction===t?e:e.getFlipped()}function cT(e,t){return e.direction===t?e:qr(Fs(e.focus,t),Fs(e.anchor,t))}function xW(e,t,n){let r=Tn(e,"next");for(let i=0;i<t;i++){const s=r.getAdjacentCaret();if(s===null)break;r=s}return Fs(r,n)}function bW(e,t){if(!t||e===t)return e;for(const n in t)if(e[n]!==t[n])return{...e,...t};return e}const dh=new Map;function uT(e){const t={};if(!e)return t;const n=e.split(";");for(const r of n)if(r!==""){const[i,s]=r.split(/:([^]+)/);i&&s&&(t[i.trim()]=s.trim())}return t}function Cv(e){let t=dh.get(e);return t===void 0&&(t=uT(e),dh.set(e,t)),t}function fT(e){const t=ap().getElementByKey(e.getKey());if(t===null)return null;const n=t.ownerDocument.defaultView;return n===null?null:n.getComputedStyle(t)}function hT(e){return fT(fe(e)?e:e.getParentOrThrow())}function Ev(e){const t=hT(e);return t!==null&&t.direction==="rtl"}function dT(e,t,n="self"){const r=e.getStartEndPoints();if(t.isSelected(e)&&!cr(t)&&r!==null){const[i,s]=r,o=e.isBackward(),a=i.getNode(),l=s.getNode(),c=t.is(a),u=t.is(l);if(c||u){const[f,h]=ih(e),d=a.is(l),p=t.is(o?l:a),m=t.is(o?a:l);let g,y=0;d?(y=f>h?h:f,g=f>h?f:h):p?(y=o?h:f,g=void 0):m&&(y=0,g=o?f:h);const v=t.__text.slice(y,g);v!==t.__text&&(n==="clone"&&(t=oW(t)),t.__text=v)}}return t}function _W(e){const t=e.getStyle(),n=uT(t);dh.set(t,n)}function wW(e,t){const n=e.getFormatType(),r=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),r!==t.getIndent()&&t.setIndent(r)}function SW(e,t,n=wW){if(e===null)return;const r=e.getStartEndPoints(),i=new Map;let s=null;if(r){const[o,a]=r;s=Hd(),s.anchor.set(o.key,o.offset,o.type),s.focus.set(a.key,a.offset,a.type);const l=hn(o.getNode(),on),c=hn(a.getNode(),on);P(l)&&i.set(l.getKey(),l),P(c)&&i.set(c.getKey(),c)}for(const o of e.getNodes())if(P(o)&&on(o))i.set(o.getKey(),o);else if(r===null){const a=hn(o,on);P(a)&&i.set(a.getKey(),a)}for(const[o,a]of i){const l=t();n(a,l),a.replace(l,!0),s&&(o===s.anchor.key&&s.anchor.set(l.getKey(),s.anchor.offset,s.anchor.type),o===s.focus.key&&s.focus.set(l.getKey(),s.focus.offset,s.focus.type))}s&&e.is(Y())&&We(s)}function pT(e){const t=mT(e);return t!==null&&t.writingMode==="vertical-rl"}function mT(e){const t=e.anchor.getNode();return P(t)?fT(t):hT(t)}function Mv(e,t){let n=pT(e)?!t:t;gT(e)&&(n=!n);const r=wr(e.focus,n?"previous":"next");if(lT(r))return!1;for(const i of hp(r)){if(qn(i))return!i.origin.isInline();if(!P(i.origin)){if(Pt(i.origin))return!0;break}}return!1}function TW(e,t,n,r){e.modify(t?"extend":"move",n,r)}function gT(e){const t=mT(e);return t!==null&&t.direction==="rtl"}function Pv(e,t,n){const r=gT(e);let i;i=pT(e)||r?!n:n,TW(e,t,i,"character")}function kW(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const i of t)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Gc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,CW=Gc&&"documentMode"in document?document.documentMode:null,EW=Gc&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!Gc||!("InputEvent"in window)||CW)&&"getTargetRanges"in new window.InputEvent("input");function yT(...e){const t=[];for(const n of e)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))t.push(r);return t}function Bi(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}const MW=Gc,PW=EW;function vT(e,...t){const n=yT(...t);n.length>0&&e.classList.add(...n)}function xT(e,...t){const n=yT(...t);n.length>0&&e.classList.remove(...n)}function ph(e,t){let n=e;for(;n!=null;){if(n instanceof t)return n;n=n.getParent()}return null}function AW(e){const t=hn(e,n=>P(n)&&!n.isInline());return P(t)||kW(4,e.__key),t}function hi(e,t){return e!==null&&Object.getPrototypeOf(e).constructor.name===t.name}let Ku=!(PW||!MW)&&void 0;function OW(e){let t=1;if(function(){if(Ku===void 0){const n=document.createElement("div");n.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(n);const r=n.getBoundingClientRect();n.style.setProperty("zoom","2"),Ku=n.getBoundingClientRect().width===r.width,document.body.removeChild(n)}return Ku}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t}const NW=Symbol.for("preact-signals");function pp(){if(ks>1)return void ks--;let e,t=!1;for(;zo!==void 0;){let n=zo;for(zo=void 0,mh++;n!==void 0;){const r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&bT(n))try{n.c()}catch(i){t||(e=i,t=!0)}n=r}}if(mh=0,ks--,t)throw e}let Et,zo;function Av(e){const t=Et;Et=void 0;try{return e()}finally{Et=t}}let ks=0,mh=0,vl=0;function Ov(e){if(Et===void 0)return;let t=e.n;return t===void 0||t.t!==Et?(t={i:0,S:e,p:Et.s,n:void 0,t:Et,e:void 0,x:void 0,r:t},Et.s!==void 0&&(Et.s.n=t),Et.s=t,e.n=t,32&Et.f&&e.S(t),t):t.i===-1?(t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=Et.s,t.n=void 0,Et.s.n=t,Et.s=t),t):void 0}function Be(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function DW(e,t){return new Be(e,t)}function bT(e){for(let t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Nv(e){for(let t=e.s;t!==void 0;t=t.n){const n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function _T(e){let t,n=e.s;for(;n!==void 0;){const r=n.p;n.i===-1?(n.S.U(n),r!==void 0&&(r.n=n.n),n.n!==void 0&&(n.n.p=r)):t=n,n.S.n=n.r,n.r!==void 0&&(n.r=void 0),n=r}e.s=t}function Xi(e,t){Be.call(this,void 0),this.x=e,this.s=void 0,this.g=vl-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function wT(e){const t=e.u;if(e.u=void 0,typeof t=="function"){ks++;const n=Et;Et=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,mp(e),r}finally{Et=n,pp()}}}function mp(e){for(let t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,wT(e)}function IW(e){if(Et!==this)throw new Error("Out-of-order effect");_T(this),Et=e,this.f&=-2,8&this.f&&mp(this),pp()}function ss(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}function ST(e,t){const n=new ss(e,t);try{n.c()}catch(i){throw n.d(),i}const r=n.d.bind(n);return r[Symbol.dispose]=r,r}function RW(e,t={}){const n={};for(const r in e){const i=t[r],s=DW(i===void 0?e[r]:i);n[r]=s}return n}Be.prototype.brand=NW,Be.prototype.h=function(){return!0},Be.prototype.S=function(e){const t=this.t;t!==e&&e.e===void 0&&(e.x=t,this.t=e,t!==void 0?t.e=e:Av(()=>{var n;(n=this.W)==null||n.call(this)}))},Be.prototype.U=function(e){if(this.t!==void 0){const t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n,n===void 0&&Av(()=>{var r;(r=this.Z)==null||r.call(this)}))}},Be.prototype.subscribe=function(e){return ST(()=>{const t=this.value,n=Et;Et=void 0;try{e(t)}finally{Et=n}},{name:"sub"})},Be.prototype.valueOf=function(){return this.value},Be.prototype.toString=function(){return this.value+""},Be.prototype.toJSON=function(){return this.value},Be.prototype.peek=function(){const e=Et;Et=void 0;try{return this.value}finally{Et=e}},Object.defineProperty(Be.prototype,"value",{get(){const e=Ov(this);return e!==void 0&&(e.i=this.i),this.v},set(e){if(e!==this.v){if(mh>100)throw new Error("Cycle detected");this.v=e,this.i++,vl++,ks++;try{for(let t=this.t;t!==void 0;t=t.x)t.t.N()}finally{pp()}}}}),Xi.prototype=new Be,Xi.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===vl))return!0;if(this.g=vl,this.f|=1,this.i>0&&!bT(this))return this.f&=-2,!0;const e=Et;try{Nv(this),Et=this;const t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return Et=e,_T(this),this.f&=-2,!0},Xi.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(let t=this.s;t!==void 0;t=t.n)t.S.S(t)}Be.prototype.S.call(this,e)},Xi.prototype.U=function(e){if(this.t!==void 0&&(Be.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(let t=this.s;t!==void 0;t=t.n)t.S.U(t)}},Xi.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let e=this.t;e!==void 0;e=e.x)e.t.N()}},Object.defineProperty(Xi.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const e=Ov(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),ss.prototype.c=function(){const e=this.S();try{if(8&this.f||this.x===void 0)return;const t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}},ss.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,wT(this),Nv(this),ks++;const e=Et;return Et=this,IW.bind(this,e)},ss.prototype.N=function(){2&this.f||(this.f|=2,this.o=zo,zo=this)},ss.prototype.d=function(){this.f|=8,1&this.f||mp(this)},ss.prototype.dispose=function(){this.d()};function LW(e){return(typeof e.nodes=="function"?e.nodes():e.nodes)||[]}function $t(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const i of t)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function TT(e,t){if(e&&t&&!Array.isArray(t)&&typeof e=="object"&&typeof t=="object"){const n=e,r=t;for(const i in r)n[i]=TT(n[i],r[i]);return e}return t}const gp=0,gh=1,kT=2,Gu=3,el=4,Qi=5,Hu=6,mo=7;function Uu(e){return e.id===gp}function CT(e){return e.id===kT}function FW(e){return function(t){return t.id===gh}(e)||$t(305,String(e.id),String(gh)),Object.assign(e,{id:kT})}const $W=new Set;class BW{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(t,n){this.builder=t,this.extension=n,this.configs=new Set,this.state={id:gp}}mergeConfigs(){let t=this.extension.config||{};const n=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):bW;for(const r of this.configs)t=n(t,r);return t}init(t){const n=this.state;CT(n)||$t(306,String(n.id));const r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},s=function(a,l,c){return Object.assign(a,{config:l,id:Gu,registerState:c})}(n,this.mergeConfigs(),r);let o;this.state=s,this.extension.init&&(o=this.extension.init(t,s.config,r)),this.state=function(a,l,c){return Object.assign(a,{id:el,initResult:l,registerState:c})}(s,o,i)}build(t){const n=this.state;let r;n.id!==el&&$t(307,String(n.id),String(Qi)),this.extension.build&&(r=this.extension.build(t,n.config,n.registerState));const i={...n.registerState,getOutput:()=>r,getSignal:this.getSignal.bind(this)};this.state=function(s,o,a){return Object.assign(s,{id:Qi,output:o,registerState:a})}(n,r,i)}register(t,n){this._signal=n;const r=this.state;r.id!==Qi&&$t(308,String(r.id),String(Qi));const i=this.extension.register&&this.extension.register(t,r.config,r.registerState);return this.state=function(s){return Object.assign(s,{id:Hu})}(r),()=>{const s=this.state;s.id!==mo&&$t(309,String(r.id),String(mo)),this.state=function(o){return Object.assign(o,{id:Qi})}(s),i&&i()}}afterRegistration(t){const n=this.state;let r;return n.id!==Hu&&$t(310,String(n.id),String(Hu)),this.extension.afterRegistration&&(r=this.extension.afterRegistration(t,n.config,n.registerState)),this.state=function(i){return Object.assign(i,{id:mo})}(n),r}getSignal(){return this._signal===void 0&&$t(311),this._signal}getInitResult(){this.extension.init===void 0&&$t(312,this.extension.name);const t=this.state;return function(n){return n.id>=el}(t)||$t(313,String(t.id),String(el)),t.initResult}getInitPeer(t){const n=this.builder.extensionNameMap.get(t);return n?n.getExtensionInitDependency():void 0}getExtensionInitDependency(){const t=this.state;return function(n){return n.id>=Gu}(t)||$t(314,String(t.id),String(Gu)),{config:t.config}}getPeer(t){const n=this.builder.extensionNameMap.get(t);return n?n.getExtensionDependency():void 0}getInitDependency(t){const n=this.builder.getExtensionRep(t);return n===void 0&&$t(315,this.extension.name,t.name),n.getExtensionInitDependency()}getDependency(t){const n=this.builder.getExtensionRep(t);return n===void 0&&$t(315,this.extension.name,t.name),n.getExtensionDependency()}getState(){const t=this.state;return function(n){return n.id>=mo}(t)||$t(316,String(t.id),String(mo)),t}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||$W}getPeerNameSet(){let t=this._peerNameSet;return t||(t=new Set((this.extension.peerDependencies||[]).map(([n])=>n)),this._peerNameSet=t),t}getExtensionDependency(){if(!this._dependency){const t=this.state;(function(n){return n.id>=Qi})(t)||$t(317,this.extension.name),this._dependency={config:t.config,init:t.initResult,output:t.output}}return this._dependency}}const Dv={tag:pl};function VW(){const e=be();e.isEmpty()&&e.append(Ne())}const WW={config:{setOptions:Dv,updateOptions:Dv},init:({$initialEditorState:e=VW})=>({$initialEditorState:e,initialized:!1}),afterRegistration(e,{updateOptions:t,setOptions:n},r){const i=r.getInitResult();if(!i.initialized){i.initialized=!0;const{$initialEditorState:s}=i;if(GV(s))e.setEditorState(s,n);else if(typeof s=="function")e.update(()=>{s(e)},t);else if(s&&(typeof s=="string"||typeof s=="object")){const o=e.parseEditorState(s);e.setEditorState(o,n)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[Zs,Zr,qs,Xs,to]},Iv=Symbol.for("@lexical/extension/LexicalBuilder");function jW(...e){return Ko.fromExtensions(e).buildEditor()}function Rv(){}function zW(e){throw e}function nl(e){return Array.isArray(e)?e:[e]}const Yu="0.39.0+prod.esm";class Ko{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(t){this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=Yu,this.roots=t;for(const n of t)this.addExtension(n)}static fromExtensions(t){const n=[nl(WW)];for(const r of t)n.push(nl(r));return new Ko(n)}static maybeFromEditor(t){const n=t[Iv];return n&&(n.PACKAGE_VERSION!==Yu&&$t(292,n.PACKAGE_VERSION,Yu),n instanceof Ko||$t(293)),n}static fromEditor(t){const n=Ko.maybeFromEditor(t);return n===void 0&&$t(294),n}constructEditor(){const{$initialEditorState:t,onError:n,...r}=this.buildCreateEditorArgs(),i=Object.assign(JV({...r,...n?{onError:s=>{n(s,i)}}:{}}),{[Iv]:this});for(const s of this.sortedExtensionReps())s.build(i);return i}buildEditor(){let t=Rv;function n(){try{t()}finally{t=Rv}}const r=Object.assign(this.constructEditor(),{dispose:n,[Symbol.dispose]:n});return t=Bi(this.registerEditor(r),()=>r.setRootElement(null)),r}hasExtensionByName(t){return this.extensionNameMap.has(t)}getExtensionRep(t){const n=this.extensionNameMap.get(t.name);if(n)return n.extension!==t&&$t(295,t.name),n}addEdge(t,n,r){const i=this.outgoingConfigEdges.get(t);i?i.set(n,r):this.outgoingConfigEdges.set(t,new Map([[n,r]]));const s=this.incomingEdges.get(n);s?s.add(t):this.incomingEdges.set(n,new Set([t]))}addExtension(t){this._sortedExtensionReps!==void 0&&$t(296);const n=nl(t),[r]=n;typeof r.name!="string"&&$t(297,typeof r.name);let i=this.extensionNameMap.get(r.name);if(i!==void 0&&i.extension!==r&&$t(298,r.name),!i){i=new BW(this,r),this.extensionNameMap.set(r.name,i);const s=this.conflicts.get(r.name);typeof s=="string"&&$t(299,r.name,s);for(const o of r.conflictsWith||[])this.extensionNameMap.has(o)&&$t(299,r.name,o),this.conflicts.set(o,r.name);for(const o of r.dependencies||[]){const a=nl(o);this.addEdge(r.name,a[0].name,a.slice(1)),this.addExtension(a)}for(const[o,a]of r.peerDependencies||[])this.addEdge(r.name,o,a?[a]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const t=[],n=(r,i)=>{let s=r.state;if(CT(s))return;const o=r.extension.name;var a;Uu(s)||$t(300,o,i||"[unknown]"),Uu(a=s)||$t(304,String(a.id),String(gp)),s=Object.assign(a,{id:gh}),r.state=s;const l=this.outgoingConfigEdges.get(o);if(l)for(const c of l.keys()){const u=this.extensionNameMap.get(c);u&&n(u,o)}s=FW(s),r.state=s,t.push(r)};for(const r of this.extensionNameMap.values())Uu(r.state)&&n(r);for(const r of t)for(const[i,s]of this.outgoingConfigEdges.get(r.extension.name)||[])if(s.length>0){const o=this.extensionNameMap.get(i);if(o)for(const a of s)o.configs.add(a)}for(const[r,...i]of this.roots)if(i.length>0){const s=this.extensionNameMap.get(r.name);s===void 0&&$t(301,r.name);for(const o of i)s.configs.add(o)}return this._sortedExtensionReps=t,this._sortedExtensionReps}registerEditor(t){const n=this.sortedExtensionReps(),r=new AbortController,i=[()=>r.abort()],s=r.signal;for(const o of n){const a=o.register(t,s);a&&i.push(a)}for(const o of n){const a=o.afterRegistration(t);a&&i.push(a)}return Bi(...i)}buildCreateEditorArgs(){const t={},n=new Set,r=new Map,i=new Map,s={},o={},a=this.sortedExtensionReps();for(const u of a){const{extension:f}=u;if(f.onError!==void 0&&(t.onError=f.onError),f.disableEvents!==void 0&&(t.disableEvents=f.disableEvents),f.parentEditor!==void 0&&(t.parentEditor=f.parentEditor),f.editable!==void 0&&(t.editable=f.editable),f.namespace!==void 0&&(t.namespace=f.namespace),f.$initialEditorState!==void 0&&(t.$initialEditorState=f.$initialEditorState),f.nodes)for(const h of LW(f)){if(typeof h!="function"){const d=r.get(h.replace);d&&$t(302,f.name,h.replace.name,d.extension.name),r.set(h.replace,u)}n.add(h)}if(f.html){if(f.html.export)for(const[h,d]of f.html.export.entries())i.set(h,d);f.html.import&&Object.assign(s,f.html.import)}f.theme&&TT(o,f.theme)}Object.keys(o).length>0&&(t.theme=o),n.size&&(t.nodes=[...n]);const l=Object.keys(s).length>0,c=i.size>0;(l||c)&&(t.html={},l&&(t.html.import=s),c&&(t.html.export=i));for(const u of a)u.init(t);return t.onError||(t.onError=zW),t}}function Wr(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const i of t)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function yh(e){let t=1,n=e.getParent();for(;n!=null;){if(vt(n)){const r=n.getParent();if(mt(r)){t++,n=r.getParent();continue}Wr(40)}return t}return t}function vh(e){let t=e.getParent();mt(t)||Wr(40);let n=t;for(;n!==null;)n=n.getParent(),mt(n)&&(t=n);return t}function ET(e){let t=[];const n=e.getChildren().filter(vt);for(let r=0;r<n.length;r++){const i=n[r],s=i.getFirstChild();mt(s)?t=t.concat(ET(s)):t.push(i)}return t}function Vn(e){return vt(e)&&mt(e.getFirstChild())}function Lv(e){return pn().append(e)}function MT(e,t){return vt(e)&&(t.length===0||t.length===1&&e.is(t[0])&&e.getChildrenSize()===0)}function xh(e){const t=Y();if(t!==null){let n=t.getNodes();if(F(t)){const i=t.getStartEndPoints();i===null&&Wr(143);const[s]=i,o=s.getNode(),a=o.getParent();if(Ye(o)){const l=o.getFirstChild();if(l)n=l.selectStart().getNodes();else{const c=Ne();o.append(c),n=c.select().getNodes()}}else if(MT(o,n)){const l=en(e);if(Ye(a)){o.replace(l);const c=pn();P(o)&&(c.setFormat(o.getFormatType()),c.setIndent(o.getIndent())),l.append(c)}else if(vt(o)){const c=o.getParentOrThrow();Vi(l,c.getChildren()),c.replace(l)}return}}const r=new Set;for(let i=0;i<n.length;i++){const s=n[i];if(P(s)&&s.isEmpty()&&!vt(s)&&!r.has(s.getKey())){Fv(s,e);continue}let o=JS(s)?s.getParent():vt(s)&&s.isEmpty()?s:null;for(;o!=null;){const a=o.getKey();if(mt(o)){if(!r.has(a)){const l=en(e);Vi(l,o.getChildren()),o.replace(l),r.add(a)}break}{const l=o.getParent();if(Ye(l)&&!r.has(a)){r.add(a),Fv(o,e);break}o=l}}}}}function Vi(e,t){e.splice(e.getChildrenSize(),0,t)}function Fv(e,t){if(mt(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),i=pn();let s;if(Vi(i,e.getChildren()),mt(n)&&t===n.getListType())n.append(i),mt(r)&&t===r.getListType()&&(Vi(n,r.getChildren()),r.remove()),s=n;else if(mt(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(i),s=r;else{const o=en(t);o.append(i),e.replace(o),s=o}return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),e.remove(),s}function yp(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&Vn(n)&&Vn(r)&&(yp(n.getFirstChild(),r.getFirstChild()),r.remove());const i=t.getChildren();i.length>0&&e.append(...i),t.remove()}function KW(){const e=Y();if(F(e)){const t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(MT(r,n))t.add(vh(r));else for(let i=0;i<n.length;i++){const s=n[i];if(JS(s)){const o=ph(s,Wi);o!=null&&t.add(vh(o))}}for(const i of t){let s=i;const o=ET(i);for(const a of o){const l=Ne().setTextStyle(e.style).setTextFormat(e.format);Vi(l,a.getChildren()),s.insertAfter(l),s=l,a.__key===e.anchor.key&&$i(e.anchor,ln(Tn(l,"next"))),a.__key===e.focus.key&&$i(e.focus,ln(Tn(l,"next"))),a.remove()}i.remove()}}}function PT(e){const t=e.getListType()!=="check";let n=e.getStart();for(const r of e.getChildren())vt(r)&&(r.getValue()!==n&&r.setValue(n),t&&r.getLatest().__checked!=null&&r.setChecked(void 0),mt(r.getFirstChild())||n++)}function GW(e){const t=new Set;if(Vn(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),i=e.getPreviousSibling();if(Vn(r)&&Vn(i)){const s=i.getFirstChild();if(mt(s)){s.append(e);const o=r.getFirstChild();mt(o)&&(Vi(s,o.getChildren()),r.remove(),t.add(r.getKey()))}}else if(Vn(r)){const s=r.getFirstChild();if(mt(s)){const o=s.getFirstChild();o!==null&&o.insertBefore(e)}}else if(Vn(i)){const s=i.getFirstChild();mt(s)&&s.append(e)}else if(mt(n)){const s=pn().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),o=en(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());s.append(o),o.append(e),i?i.insertAfter(s):r?r.insertBefore(s):n.append(s)}}function HW(e){if(Vn(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(mt(n?n.getParent():void 0)&&vt(n)&&mt(t)){const r=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{const s=t.getListType(),o=pn(),a=en(s);o.append(a),e.getPreviousSiblings().forEach(u=>a.append(u));const l=pn(),c=en(s);l.append(c),Vi(c,e.getNextSiblings()),n.insertBefore(o),n.insertAfter(l),n.replace(e)}}}function UW(){const e=Y();if(!F(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!vt(t)||t.getChildrenSize()!==0)return!1;const n=vh(t),r=t.getParent();mt(r)||Wr(40);const i=r.getParent();let s;if(Ye(i))s=Ne(),n.insertAfter(s);else{if(!vt(i))return!1;s=pn(),i.insertAfter(s)}s.setTextStyle(e.style).setTextFormat(e.format).select();const o=t.getNextSiblings();if(o.length>0){const a=en(r.getListType());if(vt(s)){const l=pn();l.append(a),s.insertAfter(l)}else s.insertAfter(a);a.append(...o)}return function(a){let l=a;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){const c=l.getParent();if(c==null||!vt(c)&&!mt(c))break;l=c}l.remove()}(t),!0}function fc(...e){const t=[];for(const n of e)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))t.push(r);return t}class Wi extends br{__value;__checked;$config(){return this.config("listitem",{$transform:t=>{if(t.__checked==null)return;const n=t.getParent();mt(n)&&n.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)},extends:br,importDOM:{li:()=>({conversion:YW,priority:0})}})}constructor(t=1,n=void 0,r){super(r),this.__value=t===void 0?1:t,this.__checked=n}afterCloneFrom(t){super.afterCloneFrom(t),this.__value=t.__value,this.__checked=t.__checked}createDOM(t){const n=document.createElement("li");return this.updateListItemDOM(null,n,t),n}updateListItemDOM(t,n,r){(function(o,a,l){const c=a.getParent();!mt(c)||c.getListType()!=="check"||mt(a.getFirstChild())?(o.removeAttribute("role"),o.removeAttribute("tabIndex"),o.removeAttribute("aria-checked")):(o.setAttribute("role","checkbox"),o.setAttribute("tabIndex","-1"),l&&a.__checked===l.__checked||o.setAttribute("aria-checked",a.getChecked()?"true":"false"))})(n,this,t),n.value=this.__value,function(o,a,l){const c=[],u=[],f=a.list,h=f?f.listitem:void 0;let d;if(f&&f.nested&&(d=f.nested.listitem),h!==void 0&&c.push(...fc(h)),f){const p=l.getParent(),m=mt(p)&&p.getListType()==="check",g=l.getChecked();m&&!g||u.push(f.listitemUnchecked),m&&g||u.push(f.listitemChecked),m&&c.push(g?f.listitemChecked:f.listitemUnchecked)}if(d!==void 0){const p=fc(d);l.getChildren().some(m=>mt(m))?c.push(...p):u.push(...p)}u.length>0&&xT(o,...u),c.length>0&&vT(o,...c)}(n,r.theme,this);const i=t?t.__style:"",s=this.__style;i!==s&&(s===""?n.removeAttribute("style"):n.style.cssText=s),function(o,a,l){const c=Cv(a.__textStyle);for(const u in c)o.style.setProperty(`--listitem-marker-${u}`,c[u]);if(l)for(const u in Cv(l.__textStyle))u in c||o.style.removeProperty(`--listitem-marker-${u}`)}(n,this,t)}updateDOM(t,n,r){const i=n;return this.updateListItemDOM(t,i,r),!1}updateFromJSON(t){return super.updateFromJSON(t).setValue(t.value).setChecked(t.checked)}exportDOM(t){const n=this.createDOM(t._config),r=this.getFormatType();r&&(n.style.textAlign=r);const i=this.getDirection();return i&&(n.dir=i),{element:n}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...t){for(let n=0;n<t.length;n++){const r=t[n];if(P(r)&&this.canMergeWith(r)){const i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(t,n){if(vt(t))return super.replace(t);this.setIndent(0);const r=this.getParentOrThrow();if(!mt(r))return t;if(r.__first===this.getKey())r.insertBefore(t);else if(r.__last===this.getKey())r.insertAfter(t);else{const i=en(r.getListType());let s=this.getNextSibling();for(;s;){const o=s;s=s.getNextSibling(),i.append(o)}r.insertAfter(t),t.insertAfter(i)}return n&&(P(t)||Wr(139),this.getChildren().forEach(i=>{t.append(i)})),this.remove(),r.getChildrenSize()===0&&r.remove(),t}insertAfter(t,n=!0){const r=this.getParentOrThrow();if(mt(r)||Wr(39),vt(t))return super.insertAfter(t,n);const i=this.getNextSiblings();if(r.insertAfter(t,n),i.length!==0){const s=en(r.getListType());i.forEach(o=>s.append(o)),t.insertAfter(s,n)}return t}remove(t){const n=this.getPreviousSibling(),r=this.getNextSibling();super.remove(t),n&&r&&Vn(n)&&Vn(r)&&(yp(n.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(t,n=!0){const r=pn().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(r,n),r}collapseAtStart(t){const n=Ne();this.getChildren().forEach(o=>n.append(o));const r=this.getParentOrThrow(),i=r.getParentOrThrow(),s=vt(i);if(r.getChildrenSize()===1)if(s)r.remove(),i.select();else{r.insertBefore(n),r.remove();const o=t.anchor,a=t.focus,l=n.getKey();o.type==="element"&&o.getNode().is(this)&&o.set(l,o.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else r.insertBefore(n),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){const n=this.getWritable();return n.__value=t,n}getChecked(){const t=this.getLatest();let n;const r=this.getParent();return mt(r)&&(n=r.getListType()),n==="check"?!!t.__checked:void 0}setChecked(t){const n=this.getWritable();return n.__checked=t,n}toggleChecked(){const t=this.getWritable();return t.setChecked(!t.__checked)}getIndent(){const t=this.getParent();if(t===null||!this.isAttached())return this.getLatest().__indent;let n=t.getParentOrThrow(),r=0;for(;vt(n);)n=n.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(t){typeof t!="number"&&Wr(117),(t=Math.floor(t))>=0||Wr(199);let n=this.getIndent();for(;n!==t;)n<t?(GW(this),n++):(HW(this),n--);return this}canInsertAfter(t){return vt(t)}canReplaceWith(t){return vt(t)}canMergeWith(t){return vt(t)||KS(t)}extractWithChild(t,n){if(!F(n))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return en("bullet")}canMergeWhenEmpty(){return!0}}function YW(e){if(e.classList.contains("task-list-item")){for(const n of e.children)if(n.tagName==="INPUT")return $v(n)}if(e.classList.contains("joplin-checkbox")){for(const n of e.children)if(n.classList.contains("checkbox-wrapper")&&n.children.length>0&&n.children[0].tagName==="INPUT")return $v(n.children[0])}const t=e.getAttribute("aria-checked");return{node:pn(t==="true"||t!=="false"&&void 0)}}function $v(e){return e.getAttribute("type")!=="checkbox"?{node:null}:{node:pn(e.hasAttribute("checked"))}}function pn(e){return eo(new Wi(void 0,e))}function vt(e){return e instanceof Wi}class Hc extends br{__tag;__start;__listType;$config(){return this.config("list",{$transform:t=>{(function(n){const r=n.getNextSibling();mt(r)&&n.getListType()===r.getListType()&&yp(n,r)})(t),PT(t)},extends:br,importDOM:{ol:()=>({conversion:Vv,priority:0}),ul:()=>({conversion:Vv,priority:0})}})}constructor(t="number",n=1,r){super(r);const i=qW[t]||t;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=n}afterCloneFrom(t){super.afterCloneFrom(t),this.__listType=t.__listType,this.__tag=t.__tag,this.__start=t.__start}getTag(){return this.getLatest().__tag}setListType(t){const n=this.getWritable();return n.__listType=t,n.__tag=t==="number"?"ol":"ul",n}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(t){const n=this.getWritable();return n.__start=t,n}createDOM(t,n){const r=this.__tag,i=document.createElement(r);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,Bv(i,t.theme,this),i}updateDOM(t,n,r){return t.__tag!==this.__tag||t.__listType!==this.__listType||(Bv(n,r.theme,this),!1)}updateFromJSON(t){return super.updateFromJSON(t).setListType(t.listType).setStart(t.start)}exportDOM(t){const n=this.createDOM(t._config,t);return se(n)&&(this.__start!==1&&n.setAttribute("start",String(this.__start)),this.__listType==="check"&&n.setAttribute("__lexicalListType","check")),{element:n}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(t,n,r){let i=r;for(let s=0;s<r.length;s++){const o=r[s];vt(o)||(i===r&&(i=[...r]),i[s]=pn().append(!P(o)||mt(o)||o.isInline()?o:he(o.getTextContent())))}return super.splice(t,n,i)}extractWithChild(t){return vt(t)}}function Bv(e,t,n){const r=[],i=[],s=t.list;if(s!==void 0){const o=s[`${n.__tag}Depth`]||[],a=yh(n)-1,l=a%o.length,c=o[l],u=s[n.__tag];let f;const h=s.nested,d=s.checklist;if(h!==void 0&&h.list&&(f=h.list),u!==void 0&&r.push(u),d!==void 0&&n.__listType==="check"&&r.push(d),c!==void 0){r.push(...fc(c));for(let p=0;p<o.length;p++)p!==l&&i.push(n.__tag+p)}if(f!==void 0){const p=fc(f);a>1?r.push(...p):i.push(...p)}}i.length>0&&xT(e,...i),r.length>0&&vT(e,...r)}function JW(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(vt(r)){t.push(r);const i=r.getChildren();i.length>1&&i.forEach(s=>{mt(s)&&t.push(Lv(s))})}else t.push(Lv(r))}return t}function Vv(e){const t=e.nodeName.toLowerCase();let n=null;return t==="ol"?n=en("number",e.start):t==="ul"&&(n=function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list")||r.getAttribute("data-is-checklist")==="1")return!0;for(const i of r.childNodes)if(se(i)&&i.hasAttribute("aria-checked"))return!0;return!1}(e)?en("check"):en("bullet")),{after:JW,node:n}}const qW={ol:"number",ul:"bullet"};function en(e="number",t=1){return eo(new Hc(e,t))}function mt(e){return e instanceof Hc}const AT=ot("INSERT_CHECK_LIST_COMMAND");function XW(e){return Bi(e.registerCommand(AT,()=>(xh("check"),!0),yn),e.registerCommand(Wd,t=>zv(t,e,!1),yn),e.registerCommand(Vd,t=>zv(t,e,!0),yn),e.registerCommand(zd,()=>{if(bh()!=null){const t=e.getRootElement();return t?.focus(),!0}return!1},yn),e.registerCommand(jd,t=>{const n=bh();return!(n==null||!e.isEditable())&&(e.update(()=>{const r=_r(n);vt(r)&&(t.preventDefault(),r.toggleChecked())}),!0)},yn),e.registerCommand(Bd,t=>e.getEditorState().read(()=>{const n=Y();if(F(n)&&n.isCollapsed()){const{anchor:r}=n,i=r.type==="element";if(i||r.offset===0){const s=r.getNode(),o=hn(s,a=>P(a)&&!a.isInline());if(vt(o)){const a=o.getParent();if(mt(a)&&a.getListType()==="check"&&(i||o.getFirstDescendant()===s)){const l=e.getElementByKey(o.__key);if(l!=null&&document.activeElement!==l)return l.focus(),t.preventDefault(),!0}}}}return!1}),yn),e.registerRootListener((t,n)=>{t!==null&&(t.addEventListener("click",Wv),t.addEventListener("pointerdown",jv)),n!==null&&(n.removeEventListener("click",Wv),n.removeEventListener("pointerdown",jv))}))}function OT(e,t){const n=e.target;if(!se(n))return;const r=n.firstChild;if(se(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;const i=n.parentNode;if(!i||i.__lexicalListType!=="check")return;const s=n.getBoundingClientRect(),o=OW(n),a=e.clientX/o,l=window.getComputedStyle?window.getComputedStyle(n,"::before"):{width:"0px"},c=parseFloat(l.width),u=e.pointerType==="touch"?32:0;(n.dir==="rtl"?a<s.right+u&&a>s.right-c-u:a>s.left-u&&a<s.left+c+u)&&t()}function Wv(e){OT(e,()=>{if(se(e.target)){const t=e.target,n=ep(t);n!=null&&n.isEditable()&&n.update(()=>{const r=_r(t);vt(r)&&(t.focus(),r.toggleChecked())})}})}function jv(e){OT(e,()=>{e.preventDefault()})}function bh(){const e=document.activeElement;return se(e)&&e.tagName==="LI"&&e.parentNode!=null&&e.parentNode.__lexicalListType==="check"?e:null}function zv(e,t,n){const r=bh();return r!=null&&t.update(()=>{const i=_r(r);if(!vt(i))return;const s=function(o,a){let l=a?o.getPreviousSibling():o.getNextSibling(),c=o;for(;l==null&&vt(c);)c=c.getParentOrThrow().getParent(),c!=null&&(l=a?c.getPreviousSibling():c.getNextSibling());for(;vt(l);){const u=a?l.getLastChild():l.getFirstChild();if(!mt(u))return l;l=a?u.getLastChild():u.getFirstChild()}return null}(i,n);if(s!=null){s.selectStart();const o=t.getElementByKey(s.__key);o!=null&&(e.preventDefault(),setTimeout(()=>{o.focus()},0))}}),!1}const QW=ot("UPDATE_LIST_START_COMMAND"),ZW=ot("INSERT_UNORDERED_LIST_COMMAND"),tj=ot("INSERT_ORDERED_LIST_COMMAND"),ej=ot("REMOVE_LIST_COMMAND");function nj(e){return Bi(e.registerCommand(tj,()=>(xh("number"),!0),yn),e.registerCommand(QW,t=>{const{listNodeKey:n,newStart:r}=t,i=ue(n);return!!mt(i)&&(i.getListType()==="number"&&(i.setStart(r),PT(i)),!0)},yn),e.registerCommand(ZW,()=>(xh("bullet"),!0),yn),e.registerCommand(ej,()=>(KW(),!0),yn),e.registerCommand(da,()=>UW(),yn),e.registerNodeTransform(Wi,t=>{const n=t.getFirstChild();if(n){if(J(n)){const r=n.getStyle(),i=n.getFormat();t.getTextStyle()!==r&&t.setTextStyle(r),t.getTextFormat()!==i&&t.setTextFormat(i)}}else{const r=Y();F(r)&&(r.style!==t.getTextStyle()||r.format!==t.getTextFormat())&&r.isCollapsed()&&t.is(r.anchor.getNode())&&t.setTextStyle(r.style).setTextFormat(r.format)}}),e.registerNodeTransform(Zr,t=>{const n=t.getParent();if(vt(n)&&t.is(n.getFirstChild())){const r=t.getStyle(),i=t.getFormat();r===n.getTextStyle()&&i===n.getTextFormat()||n.setTextStyle(r).setTextFormat(i)}}))}function rj(e){const t=n=>{const r=n.getParent();if(mt(n.getFirstChild())||!mt(r))return;const i=hn(n,s=>vt(s)&&mt(s.getParent())&&vt(s.getPreviousSibling()));if(i===null&&n.getIndent()>0)n.setIndent(0);else if(vt(i)){const s=i.getPreviousSibling();if(vt(s)){const o=function(l){let c=l,u=c.getFirstChild();for(;mt(u);){const f=u.getLastChild();if(!vt(f))break;c=f,u=c.getFirstChild()}return c}(s),a=o.getParent();if(mt(a)){const l=yh(a);l+1<yh(r)&&n.setIndent(l)}}}};return e.registerNodeTransform(Hc,n=>{const r=[n];for(;r.length>0;){const i=r.shift();if(mt(i)){for(const s of i.getChildren())if(vt(s)){t(s);const o=s.getFirstChild();mt(o)&&r.push(o)}}}})}const ij={build:(e,t,n)=>RW(t),config:{hasStrictIndent:!1},name:"@lexical/list/List",nodes:()=>[Hc,Wi],register(e,t,n){const r=n.getOutput();return Bi(nj(e),ST(()=>r.hasStrictIndent.value?rj(e):void 0))}},sj={dependencies:[ij],name:"@lexical/list/CheckList",register:XW};function oj(e,t){const n=YS(t)?t.body.childNodes:t.childNodes;let r=[];const i=[];for(const s of n)if(!DT.has(s.nodeName)){const o=IT(s,e,i,!1);o!==null&&(r=r.concat(o))}return function(s){for(const o of s)o.getNextSibling()instanceof qd&&o.insertAfter(Di());for(const o of s){const a=o.getChildren();for(const l of a)o.insertBefore(l);o.remove()}}(i),r}function aj(e,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=be().getChildren();for(let i=0;i<r.length;i++)NT(e,r[i],n,t);return n.innerHTML}function NT(e,t,n,r=null){let i=r===null||t.isSelected(r);const s=P(t)&&t.excludeFromCopy("html");let o=t;r!==null&&J(t)&&(o=dT(r,t,"clone"));const a=P(o)?o.getChildren():[],l=Qd(e,o.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(e,o):o.exportDOM(e);const{element:u,after:f}=c;if(!u)return!1;const h=document.createDocumentFragment();for(let d=0;d<a.length;d++){const p=a[d],m=NT(e,p,h,r);!i&&P(t)&&m&&t.extractWithChild(p,r,"html")&&(i=!0)}if(i&&!s){if((se(u)||fh(u))&&u.append(h),n.append(u),f){const d=f.call(o,u);d&&(fh(u)?u.replaceChildren(d):u.replaceWith(d))}}else n.append(h);return i}const DT=new Set(["STYLE","SCRIPT"]);function IT(e,t,n,r,i=new Map,s){let o=[];if(DT.has(e.nodeName))return o;let a=null;const l=function(p,m){const{nodeName:g}=p,y=m._htmlConversions.get(g.toLowerCase());let v=null;if(y!==void 0)for(const x of y){const w=x(p);w!==null&&(v===null||(v.priority||0)<=(w.priority||0))&&(v=w)}return v!==null?v.conversion:null}(e,t),c=l?l(e):null;let u=null;if(c!==null){u=c.after;const p=c.node;if(a=Array.isArray(p)?p[p.length-1]:p,a!==null){for(const[,m]of i)if(a=m(a,s),!a)break;a&&o.push(...Array.isArray(p)?p:[a])}c.forChild!=null&&i.set(e.nodeName,c.forChild)}const f=e.childNodes;let h=[];const d=(a==null||!Ye(a))&&(a!=null&&sh(a)||r);for(let p=0;p<f.length;p++)h.push(...IT(f[p],t,n,d,new Map(i),a));return u!=null&&(h=u(h)),uc(e)&&(h=lj(e,h,d?()=>{const p=new qd;return n.push(p),p}:Ne)),a==null?h.length>0?o=o.concat(h):uc(e)&&function(p){return p.nextSibling==null||p.previousSibling==null?!1:hh(p.nextSibling)&&hh(p.previousSibling)}(e)&&(o=o.concat(Di())):P(a)&&a.append(...h),o}function lj(e,t,n){const r=e.style.textAlign,i=[];let s=[];for(let o=0;o<t.length;o++){const a=t[o];if(sh(a))r&&!a.getFormat()&&a.setFormat(r),i.push(a);else if(s.push(a),o===t.length-1||o<t.length-1&&sh(t[o+1])){const l=n();l.setFormat(r),l.append(...s),i.push(l),s=[]}}return i}function hc(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const i of t)r.append("v",i);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function cj(e,t=Y()){return t==null&&hc(166),F(t)&&t.isCollapsed()||t.getNodes().length===0?"":aj(e,t)}function uj(e,t=Y()){return t==null&&hc(166),F(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(fj(e,t))}function Kv(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const a=JSON.parse(r);if(a.namespace===n._config.namespace&&Array.isArray(a.nodes))return Gv(n,hj(a.nodes),t)}catch(a){console.error(a)}const i=e.getData("text/html"),s=e.getData("text/plain");if(i&&s!==i)try{const a=new DOMParser().parseFromString(function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(l):l}(i),"text/html");return Gv(n,oj(n,a),t)}catch(a){console.error(a)}const o=s||e.getData("text/uri-list");if(o!=null)if(F(t)){const a=o.split(/(\r?\n|\t)/);a[a.length-1]===""&&a.pop();for(let l=0;l<a.length;l++){const c=Y();if(F(c)){const u=a[l];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([Da()]):c.insertText(u)}}}else t.insertRawText(o)}function Gv(e,t,n){e.dispatchCommand(hV,{nodes:t,selection:n})||(n.insertNodes(t),function(r){if(F(r)&&r.isCollapsed()){const i=r.anchor;let s=null;const o=wr(i,"previous");if(o)if(Kr(o))s=o.origin;else{const a=qr(o,Tn(be(),"next").getFlipped());for(const l of a){if(J(l.origin)){s=l.origin;break}if(P(l.origin)&&!l.origin.isInline())break}}if(s&&J(s)){const a=s.getFormat(),l=s.getStyle();r.format===a&&r.style===l||(r.format=a,r.style=l,r.dirty=!0)}}}(n))}function RT(e,t,n,r=[]){let i=t===null||n.isSelected(t);const s=P(n)&&n.excludeFromCopy("html");let o=n;t!==null&&J(o)&&(o=dT(t,o,"clone"));const a=P(o)?o.getChildren():[],l=function(c){const u=c.exportJSON(),f=c.constructor;if(u.type!==f.getType()&&hc(58,f.name),P(c)){const h=u.children;Array.isArray(h)||hc(59,f.name)}return u}(o);J(o)&&o.getTextContentSize()===0&&(i=!1);for(let c=0;c<a.length;c++){const u=a[c],f=RT(e,t,u,l.children);!i&&P(n)&&f&&n.extractWithChild(u,t,"clone")&&(i=!0)}if(i&&!s)r.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];r.push(u)}return i}function fj(e,t){const n=[],r=be().getChildren();for(let i=0;i<r.length;i++)RT(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}function hj(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=KV(r);J(i)&&_W(i),t.push(i)}return t}let Zi=null;async function Hv(e,t,n){if(Zi!==null)return!1;if(t!==null)return new Promise((c,u)=>{e.update(()=>{c(Uv(e,t,n))})});const r=e.getRootElement(),i=e._window||window,s=i.document,o=Mn(i);if(r===null||o===null)return!1;const a=s.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(s.createTextNode("#")),r.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),o.removeAllRanges(),o.addRange(l),new Promise((c,u)=>{const f=e.registerCommand($c,h=>(hi(h,ClipboardEvent)&&(f(),Zi!==null&&(i.clearTimeout(Zi),Zi=null),c(Uv(e,h,n))),!0),UV);Zi=i.setTimeout(()=>{f(),Zi=null,c(!1)},50),s.execCommand("copy"),a.remove()})}function Uv(e,t,n){if(n===void 0){const i=Mn(e._window),s=Y();if(!s||s.isCollapsed()||!i)return!1;const o=i.anchorNode,a=i.focusNode;if(o!==null&&a!==null&&!La(e,o,a))return!1;n=dj(s)}t.preventDefault();const r=t.clipboardData;return r!==null&&(pj(r,n),!0)}const LT=[["text/html",cj],["application/x-lexical-editor",uj]];function dj(e=Y()){const t={"text/plain":e?e.getTextContent():""};if(e){const n=ap();for(const[r,i]of LT){const s=i(n,e);s!==null&&(t[r]=s)}}return t}function pj(e,t){for(const[n]of LT)t[n]===void 0&&e.setData(n,"");for(const n in t){const r=t[n];r!==void 0&&e.setData(n,r)}}function Yv(e,t){if(document.caretRangeFromPoint!==void 0){const n=document.caretRangeFromPoint(e,t);return n===null?null:{node:n.startContainer,offset:n.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const n=document.caretPositionFromPoint(e,t);return n===null?null:{node:n.offsetNode,offset:n.offset}}return null}const Ui=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,mj=Ui&&"documentMode"in document?document.documentMode:null,gj=Ui&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),yj=!(!Ui||!("InputEvent"in window)||mj)&&"getTargetRanges"in new window.InputEvent("input"),vj=Ui&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Jv=Ui&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xj=Ui&&/^(?=.*Chrome).*/i.test(navigator.userAgent),bj=Ui&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&gj&&!xj,qv=ot("DRAG_DROP_PASTE_FILE");function rl(e){let t=null;if(hi(e,DragEvent)?t=e.dataTransfer:hi(e,ClipboardEvent)&&(t=e.clipboardData),t===null)return[!1,[],!1];const n=t.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),i]}function Xv(e){const t=Y();if(!F(t))return!1;const n=new Set,r=t.getNodes();for(let i=0;i<r.length;i++){const s=r[i],o=s.getKey();if(n.has(o))continue;const a=hn(s,c=>P(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!n.has(l)&&(n.add(l),e(a))}return n.size>0}function Qv(e){const t=_r(e);return Pt(t)}function Ju(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function _j(e){return Bi(e.registerCommand(oS,t=>{const n=Y();return!!Xe(n)&&(n.clear(),!0)},xt),e.registerCommand(_i,t=>{const n=Y();return F(n)?(n.deleteCharacter(t),!0):!!Xe(n)&&(n.deleteNodes(),!0)},xt),e.registerCommand(pa,t=>{const n=Y();return!!F(n)&&(n.deleteWord(t),!0)},xt),e.registerCommand(ma,t=>{const n=Y();return!!F(n)&&(n.deleteLine(t),!0)},xt),e.registerCommand(_s,t=>{const n=Y();if(typeof t=="string")n!==null&&n.insertText(t);else{if(n===null)return!1;const r=t.dataTransfer;if(r!=null)Kv(r,n,e);else if(F(n)){const i=t.data;return i&&n.insertText(i),!0}}return!0},xt),e.registerCommand(Yf,()=>{const t=Y();return!!F(t)&&(t.removeText(),!0)},xt),e.registerCommand(jn,t=>{const n=Y();return!!F(n)&&(n.formatText(t),!0)},xt),e.registerCommand(yV,t=>{const n=Y();if(!F(n)&&!Xe(n))return!1;const r=n.getNodes();for(const i of r){const s=hn(i,o=>P(o)&&!o.isInline());s!==null&&s.setFormat(t)}return!0},xt),e.registerCommand(bs,t=>{const n=Y();return!!F(n)&&(n.insertLineBreak(t),!0)},xt),e.registerCommand(da,()=>{const t=Y();return!!F(t)&&(t.insertParagraph(),!0)},xt),e.registerCommand(mV,()=>(WV([Da()]),!0),xt),e.registerCommand(gV,()=>Xv(t=>{const n=t.getIndent();t.setIndent(n+1)}),xt),e.registerCommand(Ky,()=>Xv(t=>{const n=t.getIndent();n>0&&t.setIndent(Math.max(0,n-1))}),xt),e.registerCommand(Vd,t=>{const n=Y();if(Xe(n)){const r=n.getNodes();if(r.length>0)return t.preventDefault(),r[0].selectPrevious(),!0}else if(F(n)){const r=ah(n.focus,!0);if(!t.shiftKey&&Pt(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),t.preventDefault(),!0}return!1},xt),e.registerCommand(Wd,t=>{const n=Y();if(Xe(n)){const r=n.getNodes();if(r.length>0)return t.preventDefault(),r[0].selectNext(0,0),!0}else if(F(n)){if(function(i){const s=i.focus;return s.key==="root"&&s.offset===be().getChildrenSize()}(n))return t.preventDefault(),!0;const r=ah(n.focus,!1);if(!t.shiftKey&&Pt(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),t.preventDefault(),!0}return!1},xt),e.registerCommand(Bd,t=>{const n=Y();if(Xe(n)){const r=n.getNodes();if(r.length>0)return t.preventDefault(),Ev(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!F(n))return!1;if(Mv(n,!0)){const r=t.shiftKey;return t.preventDefault(),Pv(n,r,!0),!0}return!1},xt),e.registerCommand(pS,t=>{const n=Y();if(Xe(n)){const i=n.getNodes();if(i.length>0)return t.preventDefault(),Ev(i[0])?i[0].selectPrevious():i[0].selectNext(0,0),!0}if(!F(n))return!1;const r=t.shiftKey;return!!Mv(n,!1)&&(t.preventDefault(),Pv(n,r,!1),!0)},xt),e.registerCommand(mS,t=>{if(Qv(t.target))return!1;const n=Y();if(F(n)){if(function(r){if(!r.isCollapsed())return!1;const{anchor:i}=r;if(i.offset!==0)return!1;const s=i.getNode();if(fe(s))return!1;const o=AW(s);return o.getIndent()>0&&(o.is(s)||s.is(o.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(Ky,void 0);if(Jv&&navigator.language==="ko-KR")return!1}else if(!Xe(n))return!1;return t.preventDefault(),e.dispatchCommand(_i,!0)},xt),e.registerCommand(gS,t=>{if(Qv(t.target))return!1;const n=Y();return!(!F(n)&&!Xe(n))&&(t.preventDefault(),e.dispatchCommand(_i,!1))},xt),e.registerCommand(nc,t=>{const n=Y();if(!F(n))return!1;if(Ju(n),t!==null){if((Jv||vj||bj)&&yj)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(bs,!1)}return e.dispatchCommand(da,void 0)},xt),e.registerCommand(zd,()=>{const t=Y();return!!F(t)&&(e.blur(),!0)},xt),e.registerCommand(vS,t=>{const[,n]=rl(t);if(n.length>0){const i=Yv(t.clientX,t.clientY);if(i!==null){const{offset:s,node:o}=i,a=_r(o);if(a!==null){const l=Hd();if(J(a))l.anchor.set(a.getKey(),s,"text"),l.focus.set(a.getKey(),s,"text");else{const u=a.getParentOrThrow().getKey(),f=a.getIndexWithinParent()+1;l.anchor.set(u,f,"element"),l.focus.set(u,f,"element")}const c=Xl(l);We(c)}e.dispatchCommand(qv,n)}return t.preventDefault(),!0}const r=Y();return!!F(r)},xt),e.registerCommand(xS,t=>{const[n]=rl(t),r=Y();return!(n&&!F(r))},xt),e.registerCommand(bS,t=>{const[n]=rl(t),r=Y();if(n&&!F(r))return!1;const i=Yv(t.clientX,t.clientY);if(i!==null){const s=_r(i.node);Pt(s)&&t.preventDefault()}return!0},xt),e.registerCommand(Jf,()=>(tW(),!0),xt),e.registerCommand($c,t=>(Hv(e,hi(t,ClipboardEvent)?t:null),!0),xt),e.registerCommand(Kd,t=>(async function(n,r){await Hv(r,hi(n,ClipboardEvent)?n:null),r.update(()=>{const i=Y();F(i)?i.removeText():Xe(i)&&i.getNodes().forEach(s=>s.remove())})}(t,e),!0),xt),e.registerCommand($d,t=>{const[,n,r]=rl(t);return n.length>0&&!r?(e.dispatchCommand(qv,n),!0):no(t.target)&&Zd(t.target)?!1:Y()!==null&&(function(i,s){i.preventDefault(),s.update(()=>{const o=Y(),a=hi(i,InputEvent)||hi(i,KeyboardEvent)?null:i.clipboardData;a!=null&&o!==null&&Kv(a,o,s)},{tag:MV})}(t,e),!0)},xt),e.registerCommand(jd,t=>{const n=Y();return F(n)&&Ju(n),!1},xt),e.registerCommand(yS,t=>{const n=Y();return F(n)&&Ju(n),!1},xt))}const wj={class:"editor-container"},Sj={class:"toolbar"},Tj=kn({__name:"LexicalEditor",props:{editor:{}},setup(e,{expose:t}){const n=wt(null),r=wt(!1),i=wt(!1),s=wt(!1);t({editorRef:n});let o=null;$s(()=>{e.editor&&(e.editor.setRootElement(n.value),o=e.editor.registerUpdateListener(()=>{e.editor.read(()=>{a()})}))}),zi(()=>{o?.()});function a(){const f=Y();if(F(f)){r.value=f.hasFormat("bold"),i.value=f.hasFormat("italic");const h=f.anchor.getNode(),d=ph(h,Wi);s.value=d!==null}}function l(){e.editor.dispatchCommand(jn,"bold"),n.value?.focus()}function c(){e.editor.dispatchCommand(jn,"italic"),n.value?.focus()}function u(){e.editor.update(()=>{const f=Y();if(!F(f))return;const h=f.anchor.getNode();ph(h,Wi)?(lh(rh),SW(f,()=>Ne())):(lh(rh),e.editor.dispatchCommand(AT))}),n.value?.focus()}return(f,h)=>(gt(),Tt("div",wj,[yt("div",Sj,[yt("button",{onClick:l,class:le({active:r.value})},h[0]||(h[0]=[yt("b",null,"B",-1)]),2),yt("button",{onClick:c,class:le({active:i.value})},h[1]||(h[1]=[yt("i",null,"I",-1)]),2),yt("button",{onClick:u,class:le({active:s.value})}," Todo",2)]),yt("div",{ref_key:"editorRef",ref:n,class:"editor",contenteditable:"true"},null,512)]))}}),kj={class:"fixed inset-0 grid grid-rows-[auto_1fr_auto_max-content] [&>*:nth-child(2)]:min-h-0 [&>*:nth-child(2)]:overflow-y-auto"},Cj={class:"p-5"},Ej=kn({__name:"MainPage",setup(e){const t=wt();let n=null;const r=wt(),i=localStorage.getItem("viewType")??"day",s=wt(i),o=m=>{s.value=m,localStorage.setItem("viewType",m),f.value=l[m]};gs("changeViewType",o);const a={0:"day",33:"week",66:"month",100:"year"},l={day:0,week:33,month:66,year:100},c=sa(),u=Bw(),f=wt(l[localStorage.getItem("viewType")]??l.day),h=JP((m,g=!1)=>{const y=$w(c.selectedDate,s.value),v=u.plans.get(y);if(g){if(!v)return;BB(v.id).then(()=>{u.plans.delete(y)});return}v?$B({...v,content:m}).then(()=>{v.content=m}):LB({key:y,content:m,type:"week",timestamp:new Date().getDate()}).then(x=>{u.plans.set(y,x)})},500),d=wt({day:"",week:"",month:"",year:""});function p(){const m=Z$(c.selectedDate);Object.keys(d.value).forEach(g=>{const y=m[g],v=u.plans.get(y);v?d.value[g]=v.content:d.value[g]='{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'})}return $s(async()=>{t.value=jW({name:"LexicalEditor",namespace:"LexicalEditor",dependencies:[sj],theme:{paragraph:"editor-paragraph",text:{bold:"text-bold",italic:"text-italic"},list:{checklist:"checklist",listitem:"listitem",listitemChecked:"listitem-checked",listitemUnchecked:"listitem-unchecked"}}}),t.value.update(()=>{const v=be();if(v.isEmpty()){const x=Ne();v.append(x)}}),n=Bi(_j(t.value),t.value.registerUpdateListener(({editorState:v})=>{let x=!1;v._nodeMap.size===2&&(x=!0),h(JSON.stringify(v.toJSON()),x)}));const m=await FB(),g=new Map;for(const v of m)g.set(v.key,v);u.plans=g,p();const y=t.value.parseEditorState(d.value[s.value]);t.value.setEditorState(y)}),Kn(s,m=>{const g=t.value.parseEditorState(d.value[m]);t.value.setEditorState(g)}),Kn(c,()=>{p();const m=t.value.parseEditorState(d.value[s.value]);t.value.setEditorState(m)}),zi(()=>{n?.()}),(m,g)=>(gt(),Tt("div",kj,[yt("div",Cj,[qt(fB,{class:le("absolute top-[35%] right-2 z-9999"),modelValue:f.value,"onUpdate:modelValue":g[0]||(g[0]=y=>f.value=y),onChange:g[1]||(g[1]=y=>{o(a[y])}),onFindClosestSnapPoint:g[2]||(g[2]=y=>{o(a[y])}),min:0,max:100,height:150,vertical:"","snap-points":[{value:0,label:""},{value:33,label:""},{value:66,label:""},{value:100,label:""}],"snap-threshold":17},null,8,["modelValue"]),qt(aB,{viewType:s.value},null,8,["viewType"])]),t.value?(gt(),Ur(Tj,{key:0,editor:t.value,ref_key:"editorRef",ref:r},null,8,["editor"])):ys("",!0),qt(oB)]))}}),Mj=_M({history:XE("/naniplan"),routes:[{path:"/",component:Ej},{path:"/yearView",component:yR}]}),Uc=XC(xE);Uc.use(t1());Uc.use(Mj);Uc.use(mE);Uc.mount("#app");
